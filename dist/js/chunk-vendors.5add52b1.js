(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"0273":function(t,e,n){var r=n("c1b2"),i=n("4180"),o=n("2c6c");t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"06cf":function(t,e,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),a=n("fc6a"),s=n("c04e"),u=n("5135"),c=n("0cfb"),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=s(e,!0),c)try{return h(t,e)}catch(n){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},"06fa":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"0cfb":function(t,e,n){var r=n("83ab"),i=n("d039"),o=n("cc12");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1875:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"194a":function(t,e,n){var r=n("cc94");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"19aa":function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"1be4":function(t,e,n){var r=n("d066");t.exports=r("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,n){var r=n("b622"),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(u){}return n}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},2266:function(t,e,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),a=n("f8c2"),s=n("35a1"),u=n("9bdd"),c=function(t,e){this.stopped=t,this.result=e},h=t.exports=function(t,e,n,h,l){var f,p,d,m,y,v,g,b=a(e,n,h?2:1);if(l)f=t;else{if(p=s(t),"function"!=typeof p)throw TypeError("Target is not iterable");if(i(p)){for(d=0,m=o(t.length);m>d;d++)if(y=h?b(r(g=t[d])[0],g[1]):b(t[d]),y&&y instanceof c)return y;return new c(!1)}f=p.call(t)}v=f.next;while(!(g=v.call(f)).done)if(y=u(f,b,g.value,h),"object"==typeof y&&y&&y instanceof c)return y;return new c(!1)};h.stop=function(t){return new c(!0,t)}},"23cb":function(t,e,n){var r=n("a691"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},"23e7":function(t,e,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),a=n("6eeb"),s=n("ce4e"),u=n("e893"),c=n("94ca");t.exports=function(t,e){var n,h,l,f,p,d,m=t.target,y=t.global,v=t.stat;if(h=y?r:v?r[m]||s(m,{}):(r[m]||{}).prototype,h)for(l in e){if(p=e[l],t.noTargetGet?(d=i(h,l),f=d&&d.value):f=h[l],n=c(y?l:m+(v?".":"#")+l,t.forced),!n&&void 0!==f){if(typeof p===typeof f)continue;u(p,f)}(t.sham||f&&f.sham)&&o(p,"sham",!0),a(h,l,p,t)}}},"241c":function(t,e,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},2626:function(t,e,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),a=n("83ab"),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},2877:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var h=c.render;c.render=function(t,e){return u.call(e),h(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},"2b0e":function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function h(t){return"[object Object]"===c.call(t)}function l(t){return"[object RegExp]"===c.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return i(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||h(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function y(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}y("slot,component",!0);var v=y("key,ref,slot,slot-scope,is");function g(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function w(t,e){return b.call(t,e)}function E(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var T=/-(\w)/g,S=E((function(t){return t.replace(T,(function(t,e){return e?e.toUpperCase():""}))})),_=E((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),I=/\B([A-Z])/g,A=E((function(t){return t.replace(I,"-$1").toLowerCase()}));function C(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function k(t,e){return t.bind(e)}var N=Function.prototype.bind?k:C;function D(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function O(t,e){for(var n in e)t[n]=e[n];return t}function R(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function x(t,e,n){}var P=function(t,e,n){return!1},L=function(t){return t};function M(t,e){if(t===e)return!0;var n=u(t),r=u(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return M(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return M(t[n],e[n])}))}catch(c){return!1}}function U(t,e){for(var n=0;n<t.length;n++)if(M(t[n],e))return n;return-1}function F(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var q="data-server-rendered",V=["component","directive","filter"],j=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:P,isReservedAttr:P,isUnknownElement:P,getTagNamespace:x,parsePlatformTagName:L,mustUseProp:P,async:!0,_lifecycleHooks:j},W=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function K(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function G(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var Q=new RegExp("[^"+W.source+".$_\\d]");function z(t){if(!Q.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var H,$="__proto__"in{},Y="undefined"!==typeof window,X="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=X&&WXEnvironment.platform.toLowerCase(),Z=Y&&window.navigator.userAgent.toLowerCase(),tt=Z&&/msie|trident/.test(Z),et=Z&&Z.indexOf("msie 9.0")>0,nt=Z&&Z.indexOf("edge/")>0,rt=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===J),it=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),ot={}.watch,at=!1;if(Y)try{var st={};Object.defineProperty(st,"passive",{get:function(){at=!0}}),window.addEventListener("test-passive",null,st)}catch(Sa){}var ut=function(){return void 0===H&&(H=!Y&&!X&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),H},ct=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ht(t){return"function"===typeof t&&/native code/.test(t.toString())}var lt,ft="undefined"!==typeof Symbol&&ht(Symbol)&&"undefined"!==typeof Reflect&&ht(Reflect.ownKeys);lt="undefined"!==typeof Set&&ht(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=x,dt=0,mt=function(){this.id=dt++,this.subs=[]};mt.prototype.addSub=function(t){this.subs.push(t)},mt.prototype.removeSub=function(t){g(this.subs,t)},mt.prototype.depend=function(){mt.target&&mt.target.addDep(this)},mt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},mt.target=null;var yt=[];function vt(t){yt.push(t),mt.target=t}function gt(){yt.pop(),mt.target=yt[yt.length-1]}var bt=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},wt={child:{configurable:!0}};wt.child.get=function(){return this.componentInstance},Object.defineProperties(bt.prototype,wt);var Et=function(t){void 0===t&&(t="");var e=new bt;return e.text=t,e.isComment=!0,e};function Tt(t){return new bt(void 0,void 0,void 0,String(t))}function St(t){var e=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var _t=Array.prototype,It=Object.create(_t),At=["push","pop","shift","unshift","splice","sort","reverse"];At.forEach((function(t){var e=_t[t];G(It,t,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o}))}));var Ct=Object.getOwnPropertyNames(It),kt=!0;function Nt(t){kt=t}var Dt=function(t){this.value=t,this.dep=new mt,this.vmCount=0,G(t,"__ob__",this),Array.isArray(t)?($?Ot(t,It):Rt(t,It,Ct),this.observeArray(t)):this.walk(t)};function Ot(t,e){t.__proto__=e}function Rt(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];G(t,o,e[o])}}function xt(t,e){var n;if(u(t)&&!(t instanceof bt))return w(t,"__ob__")&&t.__ob__ instanceof Dt?n=t.__ob__:kt&&!ut()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Dt(t)),e&&n&&n.vmCount++,n}function Pt(t,e,n,r,i){var o=new mt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!i&&xt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return mt.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Ut(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!==e&&r!==r||s&&!u||(u?u.call(t,e):n=e,c=!i&&xt(e),o.notify())}})}}function Lt(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Pt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Mt(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||w(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ut(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Ut(e)}Dt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Pt(t,e[n])},Dt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)xt(t[e])};var Ft=B.optionMergeStrategies;function qt(t,e){if(!e)return t;for(var n,r,i,o=ft?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(r=t[n],i=e[n],w(t,n)?r!==i&&h(r)&&h(i)&&qt(r,i):Lt(t,n,i));return t}function Vt(t,e,n){return n?function(){var r="function"===typeof e?e.call(n,n):e,i="function"===typeof t?t.call(n,n):t;return r?qt(r,i):i}:e?t?function(){return qt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function jt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Bt(n):n}function Bt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Wt(t,e,n,r){var i=Object.create(t||null);return e?O(i,e):i}Ft.data=function(t,e,n){return n?Vt(t,e,n):e&&"function"!==typeof e?t:Vt(t,e)},j.forEach((function(t){Ft[t]=jt})),V.forEach((function(t){Ft[t+"s"]=Wt})),Ft.watch=function(t,e,n,r){if(t===ot&&(t=void 0),e===ot&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in O(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Ft.props=Ft.methods=Ft.inject=Ft.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return O(i,t),e&&O(i,e),i},Ft.provide=Vt;var Kt=function(t,e){return void 0===e?t:e};function Gt(t,e){var n=t.props;if(n){var r,i,o,a={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=S(i),a[o]={type:null})}else if(h(n))for(var s in n)i=n[s],o=S(s),a[o]=h(i)?i:{type:i};else 0;t.props=a}}function Qt(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(h(n))for(var o in n){var a=n[o];r[o]=h(a)?O({from:o},a):{from:a}}else 0}}function zt(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"===typeof r&&(e[n]={bind:r,update:r})}}function Ht(t,e,n){if("function"===typeof e&&(e=e.options),Gt(e,n),Qt(e,n),zt(e),!e._base&&(e.extends&&(t=Ht(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Ht(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)w(t,o)||s(o);function s(r){var i=Ft[r]||Kt;a[r]=i(t[r],e[r],n,r)}return a}function $t(t,e,n,r){if("string"===typeof n){var i=t[e];if(w(i,n))return i[n];var o=S(n);if(w(i,o))return i[o];var a=_(o);if(w(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Yt(t,e,n,r){var i=e[t],o=!w(n,t),a=n[t],s=te(Boolean,i.type);if(s>-1)if(o&&!w(i,"default"))a=!1;else if(""===a||a===A(t)){var u=te(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=Xt(r,i,t);var c=kt;Nt(!0),xt(a),Nt(c)}return a}function Xt(t,e,n){if(w(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof r&&"Function"!==Jt(e.type)?r.call(t):r}}function Jt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Zt(t,e){return Jt(t)===Jt(e)}function te(t,e){if(!Array.isArray(e))return Zt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Zt(e[n],t))return n;return-1}function ee(t,e,n){vt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(Sa){re(Sa,r,"errorCaptured hook")}}}re(t,e,n)}finally{gt()}}function ne(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(t){return ee(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(Sa){ee(Sa,r,i)}return o}function re(t,e,n){if(B.errorHandler)try{return B.errorHandler.call(null,t,e,n)}catch(Sa){Sa!==t&&ie(Sa,null,"config.errorHandler")}ie(t,e,n)}function ie(t,e,n){if(!Y&&!X||"undefined"===typeof console)throw t;console.error(t)}var oe,ae=!1,se=[],ue=!1;function ce(){ue=!1;var t=se.slice(0);se.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ht(Promise)){var he=Promise.resolve();oe=function(){he.then(ce),rt&&setTimeout(x)},ae=!0}else if(tt||"undefined"===typeof MutationObserver||!ht(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())oe="undefined"!==typeof setImmediate&&ht(setImmediate)?function(){setImmediate(ce)}:function(){setTimeout(ce,0)};else{var le=1,fe=new MutationObserver(ce),pe=document.createTextNode(String(le));fe.observe(pe,{characterData:!0}),oe=function(){le=(le+1)%2,pe.data=String(le)},ae=!0}function de(t,e){var n;if(se.push((function(){if(t)try{t.call(e)}catch(Sa){ee(Sa,e,"nextTick")}else n&&n(e)})),ue||(ue=!0,oe()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}var me=new lt;function ye(t){ve(t,me),me.clear()}function ve(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!u(t)||Object.isFrozen(t)||t instanceof bt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i){n=t.length;while(n--)ve(t[n],e)}else{r=Object.keys(t),n=r.length;while(n--)ve(t[r[n]],e)}}}var ge=E((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function be(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return ne(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)ne(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function we(t,e,n,i,a,s){var u,c,h,l;for(u in t)c=t[u],h=e[u],l=ge(u),r(c)||(r(h)?(r(c.fns)&&(c=t[u]=be(c,s)),o(l.once)&&(c=t[u]=a(l.name,c,l.capture)),n(l.name,c,l.capture,l.passive,l.params)):c!==h&&(h.fns=c,t[u]=h));for(u in e)r(t[u])&&(l=ge(u),i(l.name,e[u],l.capture))}function Ee(t,e,n){var a;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),g(a.fns,u)}r(s)?a=be([u]):i(s.fns)&&o(s.merged)?(a=s,a.fns.push(u)):a=be([s,u]),a.merged=!0,t[e]=a}function Te(t,e,n){var o=e.options.props;if(!r(o)){var a={},s=t.attrs,u=t.props;if(i(s)||i(u))for(var c in o){var h=A(c);Se(a,u,c,h,!0)||Se(a,s,c,h,!1)}return a}}function Se(t,e,n,r,o){if(i(e)){if(w(e,n))return t[n]=e[n],o||delete e[n],!0;if(w(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function _e(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ie(t){return s(t)?[Tt(t)]:Array.isArray(t)?Ce(t):void 0}function Ae(t){return i(t)&&i(t.text)&&a(t.isComment)}function Ce(t,e){var n,a,u,c,h=[];for(n=0;n<t.length;n++)a=t[n],r(a)||"boolean"===typeof a||(u=h.length-1,c=h[u],Array.isArray(a)?a.length>0&&(a=Ce(a,(e||"")+"_"+n),Ae(a[0])&&Ae(c)&&(h[u]=Tt(c.text+a[0].text),a.shift()),h.push.apply(h,a)):s(a)?Ae(c)?h[u]=Tt(c.text+a):""!==a&&h.push(Tt(a)):Ae(a)&&Ae(c)?h[u]=Tt(c.text+a.text):(o(t._isVList)&&i(a.tag)&&r(a.key)&&i(e)&&(a.key="__vlist"+e+"_"+n+"__"),h.push(a)));return h}function ke(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Ne(t){var e=De(t.$options.inject,t);e&&(Nt(!1),Object.keys(e).forEach((function(n){Pt(t,n,e[n])})),Nt(!0))}function De(t,e){if(t){for(var n=Object.create(null),r=ft?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=t[o].from,s=e;while(s){if(s._provided&&w(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var u=t[o].default;n[o]="function"===typeof u?u.call(e):u}else 0}}return n}}function Oe(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(Re)&&delete n[c];return n}function Re(t){return t.isComment&&!t.asyncFactory||" "===t.text}function xe(t,e,r){var i,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&r&&r!==n&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=Pe(e,u,t[u]))}else i={};for(var c in e)c in i||(i[c]=Le(e,c));return t&&Object.isExtensible(t)&&(t._normalized=i),G(i,"$stable",a),G(i,"$key",s),G(i,"$hasNormal",o),i}function Pe(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Ie(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function Le(t,e){return function(){return t[e]}}function Me(t,e){var n,r,o,a,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"===typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(u(t))if(ft&&t[Symbol.iterator]){n=[];var c=t[Symbol.iterator](),h=c.next();while(!h.done)n.push(e(h.value,n.length)),h=c.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,o=a.length;r<o;r++)s=a[r],n[r]=e(t[s],s,r);return i(n)||(n=[]),n._isVList=!0,n}function Ue(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=O(O({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Fe(t){return $t(this.$options,"filters",t,!0)||L}function qe(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ve(t,e,n,r,i){var o=B.keyCodes[e]||n;return i&&r&&!B.keyCodes[e]?qe(i,r):o?qe(o,t):r?A(r)!==e:void 0}function je(t,e,n,r,i){if(n)if(u(n)){var o;Array.isArray(n)&&(n=R(n));var a=function(a){if("class"===a||"style"===a||v(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||B.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=S(a),c=A(a);if(!(u in o)&&!(c in o)&&(o[a]=n[a],i)){var h=t.on||(t.on={});h["update:"+a]=function(t){n[a]=t}}};for(var s in n)a(s)}else;return t}function Be(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ke(r,"__static__"+t,!1),r)}function We(t,e,n){return Ke(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ke(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&Ge(t[r],e+"_"+r,n);else Ge(t,e,n)}function Ge(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Qe(t,e){if(e)if(h(e)){var n=t.on=t.on?O({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function ze(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?ze(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function He(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function $e(t,e){return"string"===typeof t?e+t:t}function Ye(t){t._o=We,t._n=m,t._s=d,t._l=Me,t._t=Ue,t._q=M,t._i=U,t._m=Be,t._f=Fe,t._k=Ve,t._b=je,t._v=Tt,t._e=Et,t._u=ze,t._g=Qe,t._d=He,t._p=$e}function Xe(t,e,r,i,a){var s,u=this,c=a.options;w(i,"_uid")?(s=Object.create(i),s._original=i):(s=i,i=i._original);var h=o(c._compiled),l=!h;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=De(c.inject,i),this.slots=function(){return u.$slots||xe(t.scopedSlots,u.$slots=Oe(r,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return xe(t.scopedSlots,this.slots())}}),h&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=xe(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,r){var o=ln(s,t,e,n,r,l);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return ln(s,t,e,n,r,l)}}function Je(t,e,r,o,a){var s=t.options,u={},c=s.props;if(i(c))for(var h in c)u[h]=Yt(h,c,e||n);else i(r.attrs)&&tn(u,r.attrs),i(r.props)&&tn(u,r.props);var l=new Xe(r,u,a,o,t),f=s.render.call(null,l._c,l);if(f instanceof bt)return Ze(f,r,l.parent,s,l);if(Array.isArray(f)){for(var p=Ie(f)||[],d=new Array(p.length),m=0;m<p.length;m++)d[m]=Ze(p[m],r,l.parent,s,l);return d}}function Ze(t,e,n,r,i){var o=St(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function tn(t,e){for(var n in e)t[S(n)]=e[n]}Ye(Xe.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var r=t.componentInstance=on(t,Dn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;Ln(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,qn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Jn(n):Un(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Fn(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,a,s){if(!r(t)){var c=n.$options._base;if(u(t)&&(t=c.extend(t)),"function"===typeof t){var h;if(r(t.cid)&&(h=t,t=En(h,c),void 0===t))return wn(h,e,n,a,s);e=e||{},Er(t),i(e.model)&&un(t.options,e);var l=Te(e,t,s);if(o(t.options.functional))return Je(t,l,e,n,a);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}an(e);var d=t.options.name||s,m=new bt("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:l,listeners:f,tag:s,children:a},h);return m}}}function on(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function an(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var r=nn[n],i=e[r],o=en[r];i===o||i&&i._merged||(e[r]=i?sn(o,i):o)}}function sn(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function un(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],s=e.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}var cn=1,hn=2;function ln(t,e,n,r,i,a){return(Array.isArray(n)||s(n))&&(i=r,r=n,n=void 0),o(a)&&(i=hn),fn(t,e,n,r,i)}function fn(t,e,n,r,o){if(i(n)&&i(n.__ob__))return Et();if(i(n)&&i(n.is)&&(e=n.is),!e)return Et();var a,s,u;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===hn?r=Ie(r):o===cn&&(r=_e(r)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||B.getTagNamespace(e),a=B.isReservedTag(e)?new bt(B.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(u=$t(t.$options,"components",e))?new bt(e,n,r,void 0,void 0,t):rn(u,n,t,r,e)):a=rn(e,n,t,r);return Array.isArray(a)?a:i(a)?(i(s)&&pn(a,s),i(n)&&dn(n),a):Et()}function pn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),i(t.children))for(var a=0,s=t.children.length;a<s;a++){var u=t.children[a];i(u.tag)&&(r(u.ns)||o(n)&&"svg"!==u.tag)&&pn(u,e,n)}}function dn(t){u(t.style)&&ye(t.style),u(t.class)&&ye(t.class)}function mn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=Oe(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,n,r,i){return ln(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return ln(t,e,n,r,i,!0)};var o=r&&r.data;Pt(t,"$attrs",o&&o.attrs||n,null,!0),Pt(t,"$listeners",e._parentListeners||n,null,!0)}var yn,vn=null;function gn(t){Ye(t.prototype),t.prototype.$nextTick=function(t){return de(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=xe(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{vn=e,t=r.call(e._renderProxy,e.$createElement)}catch(Sa){ee(Sa,e,"render"),t=e._vnode}finally{vn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof bt||(t=Et()),t.parent=i,t}}function bn(t,e){return(t.__esModule||ft&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function wn(t,e,n,r,i){var o=Et();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function En(t,e){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=vn;if(n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var a=t.owners=[n],s=!0,c=null,h=null;n.$on("hook:destroyed",(function(){return g(a,n)}));var l=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==h&&(clearTimeout(h),h=null))},f=F((function(n){t.resolved=bn(n,e),s?a.length=0:l(!0)})),d=F((function(e){i(t.errorComp)&&(t.error=!0,l(!0))})),m=t(f,d);return u(m)&&(p(m)?r(t.resolved)&&m.then(f,d):p(m.component)&&(m.component.then(f,d),i(m.error)&&(t.errorComp=bn(m.error,e)),i(m.loading)&&(t.loadingComp=bn(m.loading,e),0===m.delay?t.loading=!0:c=setTimeout((function(){c=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,l(!1))}),m.delay||200)),i(m.timeout)&&(h=setTimeout((function(){h=null,r(t.resolved)&&d(null)}),m.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function Tn(t){return t.isComment&&t.asyncFactory}function Sn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||Tn(n)))return n}}function _n(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&kn(t,e)}function In(t,e){yn.$on(t,e)}function An(t,e){yn.$off(t,e)}function Cn(t,e){var n=yn;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function kn(t,e,n){yn=t,we(e,n||{},In,An,Cn,t),yn=void 0}function Nn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var s=a.length;while(s--)if(o=a[s],o===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?D(n):n;for(var r=D(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)ne(n[o],e,r,e,i)}return e}}var Dn=null;function On(t){var e=Dn;return Dn=t,function(){Dn=e}}function Rn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function xn(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=On(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){qn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||g(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),qn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Pn(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=Et),qn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new nr(t,r,x,{before:function(){t._isMounted&&!t._isDestroyed&&qn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,qn(t,"mounted")),t}function Ln(t,e,r,i,o){var a=i.data.scopedSlots,s=t.$scopedSlots,u=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),c=!!(o||t.$options._renderChildren||u);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){Nt(!1);for(var h=t._props,l=t.$options._propKeys||[],f=0;f<l.length;f++){var p=l[f],d=t.$options.props;h[p]=Yt(p,d,e,t)}Nt(!0),t.$options.propsData=e}r=r||n;var m=t.$options._parentListeners;t.$options._parentListeners=r,kn(t,r,m),c&&(t.$slots=Oe(o,i.context),t.$forceUpdate())}function Mn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Un(t,e){if(e){if(t._directInactive=!1,Mn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Un(t.$children[n]);qn(t,"activated")}}function Fn(t,e){if((!e||(t._directInactive=!0,!Mn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Fn(t.$children[n]);qn(t,"deactivated")}}function qn(t,e){vt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)ne(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),gt()}var Vn=[],jn=[],Bn={},Wn=!1,Kn=!1,Gn=0;function Qn(){Gn=Vn.length=jn.length=0,Bn={},Wn=Kn=!1}var zn=0,Hn=Date.now;if(Y&&!tt){var $n=window.performance;$n&&"function"===typeof $n.now&&Hn()>document.createEvent("Event").timeStamp&&(Hn=function(){return $n.now()})}function Yn(){var t,e;for(zn=Hn(),Kn=!0,Vn.sort((function(t,e){return t.id-e.id})),Gn=0;Gn<Vn.length;Gn++)t=Vn[Gn],t.before&&t.before(),e=t.id,Bn[e]=null,t.run();var n=jn.slice(),r=Vn.slice();Qn(),Zn(n),Xn(r),ct&&B.devtools&&ct.emit("flush")}function Xn(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&qn(r,"updated")}}function Jn(t){t._inactive=!1,jn.push(t)}function Zn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Un(t[e],!0)}function tr(t){var e=t.id;if(null==Bn[e]){if(Bn[e]=!0,Kn){var n=Vn.length-1;while(n>Gn&&Vn[n].id>t.id)n--;Vn.splice(n+1,0,t)}else Vn.push(t);Wn||(Wn=!0,de(Yn))}}var er=0,nr=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++er,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new lt,this.newDepIds=new lt,this.expression="","function"===typeof e?this.getter=e:(this.getter=z(e),this.getter||(this.getter=x)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var t;vt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Sa){if(!this.user)throw Sa;ee(Sa,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ye(t),gt(),this.cleanupDeps()}return t},nr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},nr.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():tr(this)},nr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(Sa){ee(Sa,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:x,set:x};function ir(t,e,n){rr.get=function(){return this[e][n]},rr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,rr)}function or(t){t._watchers=[];var e=t.$options;e.props&&ar(t,e.props),e.methods&&dr(t,e.methods),e.data?sr(t):xt(t._data={},!0),e.computed&&hr(t,e.computed),e.watch&&e.watch!==ot&&mr(t,e.watch)}function ar(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||Nt(!1);var a=function(o){i.push(o);var a=Yt(o,e,n,t);Pt(r,o,a),o in t||ir(t,"_props",o)};for(var s in e)a(s);Nt(!0)}function sr(t){var e=t.$options.data;e=t._data="function"===typeof e?ur(e,t):e||{},h(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&w(r,o)||K(o)||ir(t,"_data",o)}xt(e,!0)}function ur(t,e){vt();try{return t.call(e,e)}catch(Sa){return ee(Sa,e,"data()"),{}}finally{gt()}}var cr={lazy:!0};function hr(t,e){var n=t._computedWatchers=Object.create(null),r=ut();for(var i in e){var o=e[i],a="function"===typeof o?o:o.get;0,r||(n[i]=new nr(t,a||x,x,cr)),i in t||lr(t,i,o)}}function lr(t,e,n){var r=!ut();"function"===typeof n?(rr.get=r?fr(e):pr(n),rr.set=x):(rr.get=n.get?r&&!1!==n.cache?fr(e):pr(n.get):x,rr.set=n.set||x),Object.defineProperty(t,e,rr)}function fr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mt.target&&e.depend(),e.value}}function pr(t){return function(){return t.call(this,this)}}function dr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?x:N(e[n],t)}function mr(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)yr(t,n,r[i]);else yr(t,n,r)}}function yr(t,e,n,r){return h(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function vr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Lt,t.prototype.$delete=Mt,t.prototype.$watch=function(t,e,n){var r=this;if(h(e))return yr(r,t,e,n);n=n||{},n.user=!0;var i=new nr(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(o){ee(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var gr=0;function br(t){t.prototype._init=function(t){var e=this;e._uid=gr++,e._isVue=!0,t&&t._isComponent?wr(e,t):e.$options=Ht(Er(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Rn(e),_n(e),mn(e),qn(e,"beforeCreate"),Ne(e),or(e),ke(e),qn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function wr(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Er(t){var e=t.options;if(t.super){var n=Er(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=Tr(t);i&&O(t.extendOptions,i),e=t.options=Ht(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Tr(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function Sr(t){this._init(t)}function _r(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=D(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Ir(t){t.mixin=function(t){return this.options=Ht(this.options,t),this}}function Ar(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Ht(n.options,t),a["super"]=n,a.options.props&&Cr(a),a.options.computed&&kr(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,V.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=O({},a.options),i[r]=a,a}}function Cr(t){var e=t.options.props;for(var n in e)ir(t.prototype,"_props",n)}function kr(t){var e=t.options.computed;for(var n in e)lr(t.prototype,n,e[n])}function Nr(t){V.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&h(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function Dr(t){return t&&(t.Ctor.options.name||t.tag)}function Or(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!l(t)&&t.test(e)}function Rr(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=Dr(a.componentOptions);s&&!e(s)&&xr(n,o,r,i)}}}function xr(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,g(n,e)}br(Sr),vr(Sr),Nn(Sr),xn(Sr),gn(Sr);var Pr=[String,RegExp,Array],Lr={name:"keep-alive",abstract:!0,props:{include:Pr,exclude:Pr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)xr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Rr(t,(function(t){return Or(e,t)}))})),this.$watch("exclude",(function(e){Rr(t,(function(t){return!Or(e,t)}))}))},render:function(){var t=this.$slots.default,e=Sn(t),n=e&&e.componentOptions;if(n){var r=Dr(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!Or(o,r))||a&&r&&Or(a,r))return e;var s=this,u=s.cache,c=s.keys,h=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[h]?(e.componentInstance=u[h].componentInstance,g(c,h),c.push(h)):(u[h]=e,c.push(h),this.max&&c.length>parseInt(this.max)&&xr(u,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Mr={KeepAlive:Lr};function Ur(t){var e={get:function(){return B}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:O,mergeOptions:Ht,defineReactive:Pt},t.set=Lt,t.delete=Mt,t.nextTick=de,t.observable=function(t){return xt(t),t},t.options=Object.create(null),V.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,O(t.options.components,Mr),_r(t),Ir(t),Ar(t),Nr(t)}Ur(Sr),Object.defineProperty(Sr.prototype,"$isServer",{get:ut}),Object.defineProperty(Sr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sr,"FunctionalRenderContext",{value:Xe}),Sr.version="2.6.10";var Fr=y("style,class"),qr=y("input,textarea,option,select,progress"),Vr=function(t,e,n){return"value"===n&&qr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},jr=y("contenteditable,draggable,spellcheck"),Br=y("events,caret,typing,plaintext-only"),Wr=function(t,e){return Hr(e)||"false"===e?"false":"contenteditable"===t&&Br(e)?e:"true"},Kr=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Gr="http://www.w3.org/1999/xlink",Qr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},zr=function(t){return Qr(t)?t.slice(6,t.length):""},Hr=function(t){return null==t||!1===t};function $r(t){var e=t.data,n=t,r=t;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Yr(r.data,e));while(i(n=n.parent))n&&n.data&&(e=Yr(e,n.data));return Xr(e.staticClass,e.class)}function Yr(t,e){return{staticClass:Jr(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Xr(t,e){return i(t)||i(e)?Jr(t,Zr(e)):""}function Jr(t,e){return t?e?t+" "+e:t:e||""}function Zr(t){return Array.isArray(t)?ti(t):u(t)?ei(t):"string"===typeof t?t:""}function ti(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=Zr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function ei(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ri=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=function(t){return ri(t)||ii(t)};function ai(t){return ii(t)?"svg":"math"===t?"math":void 0}var si=Object.create(null);function ui(t){if(!Y)return!0;if(oi(t))return!1;if(t=t.toLowerCase(),null!=si[t])return si[t];var e=document.createElement(t);return t.indexOf("-")>-1?si[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:si[t]=/HTMLUnknownElement/.test(e.toString())}var ci=y("text,number,password,search,email,tel,url");function hi(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function li(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function fi(t,e){return document.createElementNS(ni[t],e)}function pi(t){return document.createTextNode(t)}function di(t){return document.createComment(t)}function mi(t,e,n){t.insertBefore(e,n)}function yi(t,e){t.removeChild(e)}function vi(t,e){t.appendChild(e)}function gi(t){return t.parentNode}function bi(t){return t.nextSibling}function wi(t){return t.tagName}function Ei(t,e){t.textContent=e}function Ti(t,e){t.setAttribute(e,"")}var Si=Object.freeze({createElement:li,createElementNS:fi,createTextNode:pi,createComment:di,insertBefore:mi,removeChild:yi,appendChild:vi,parentNode:gi,nextSibling:bi,tagName:wi,setTextContent:Ei,setStyleScope:Ti}),_i={create:function(t,e){Ii(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Ii(t,!0),Ii(e))},destroy:function(t){Ii(t,!0)}};function Ii(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?g(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var Ai=new bt("",{},[]),Ci=["create","activate","update","remove","destroy"];function ki(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&Ni(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Ni(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||ci(r)&&ci(o)}function Di(t,e,n){var r,o,a={};for(r=e;r<=n;++r)o=t[r].key,i(o)&&(a[o]=r);return a}function Oi(t){var e,n,a={},u=t.modules,c=t.nodeOps;for(e=0;e<Ci.length;++e)for(a[Ci[e]]=[],n=0;n<u.length;++n)i(u[n][Ci[e]])&&a[Ci[e]].push(u[n][Ci[e]]);function h(t){return new bt(c.tagName(t).toLowerCase(),{},[],void 0,t)}function l(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=c.parentNode(t);i(e)&&c.removeChild(e,t)}function p(t,e,n,r,a,s,u){if(i(t.elm)&&i(s)&&(t=s[u]=St(t)),t.isRootInsert=!a,!d(t,e,n,r)){var h=t.data,l=t.children,f=t.tag;i(f)?(t.elm=t.ns?c.createElementNS(t.ns,f):c.createElement(f,t),T(t),b(t,l,e),i(h)&&E(t,e),g(n,t.elm,r)):o(t.isComment)?(t.elm=c.createComment(t.text),g(n,t.elm,r)):(t.elm=c.createTextNode(t.text),g(n,t.elm,r))}}function d(t,e,n,r){var a=t.data;if(i(a)){var s=i(t.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(t,!1),i(t.componentInstance))return m(t,e),g(n,t.elm,r),o(s)&&v(t,e,n,r),!0}}function m(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(E(t,e),T(t)):(Ii(t),e.push(t))}function v(t,e,n,r){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,i(o=s.data)&&i(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](Ai,s);e.push(s);break}g(n,t.elm,r)}function g(t,e,n){i(t)&&(i(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function b(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r)}else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return i(t.tag)}function E(t,n){for(var r=0;r<a.create.length;++r)a.create[r](Ai,t);e=t.data.hook,i(e)&&(i(e.create)&&e.create(Ai,t),i(e.insert)&&n.push(t))}function T(t){var e;if(i(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)i(e=n.context)&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}i(e=Dn)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function S(t,e,n,r,i,o){for(;r<=i;++r)p(n[r],o,t,e,!1,n,r)}function _(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function I(t,e,n,r){for(;n<=r;++n){var o=e[n];i(o)&&(i(o.tag)?(A(o),_(o)):f(o.elm))}}function A(t,e){if(i(e)||i(t.data)){var n,r=a.remove.length+1;for(i(e)?e.listeners+=r:e=l(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&A(n,e),n=0;n<a.remove.length;++n)a.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else f(t.elm)}function C(t,e,n,o,a){var s,u,h,l,f=0,d=0,m=e.length-1,y=e[0],v=e[m],g=n.length-1,b=n[0],w=n[g],E=!a;while(f<=m&&d<=g)r(y)?y=e[++f]:r(v)?v=e[--m]:ki(y,b)?(N(y,b,o,n,d),y=e[++f],b=n[++d]):ki(v,w)?(N(v,w,o,n,g),v=e[--m],w=n[--g]):ki(y,w)?(N(y,w,o,n,g),E&&c.insertBefore(t,y.elm,c.nextSibling(v.elm)),y=e[++f],w=n[--g]):ki(v,b)?(N(v,b,o,n,d),E&&c.insertBefore(t,v.elm,y.elm),v=e[--m],b=n[++d]):(r(s)&&(s=Di(e,f,m)),u=i(b.key)?s[b.key]:k(b,e,f,m),r(u)?p(b,o,t,y.elm,!1,n,d):(h=e[u],ki(h,b)?(N(h,b,o,n,d),e[u]=void 0,E&&c.insertBefore(t,h.elm,y.elm)):p(b,o,t,y.elm,!1,n,d)),b=n[++d]);f>m?(l=r(n[g+1])?null:n[g+1].elm,S(t,l,n,d,g,o)):d>g&&I(t,e,f,m)}function k(t,e,n,r){for(var o=n;o<r;o++){var a=e[o];if(i(a)&&ki(t,a))return o}}function N(t,e,n,s,u,h){if(t!==e){i(e.elm)&&i(s)&&(e=s[u]=St(e));var l=e.elm=t.elm;if(o(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?R(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;i(p)&&i(f=p.hook)&&i(f=f.prepatch)&&f(t,e);var d=t.children,m=e.children;if(i(p)&&w(e)){for(f=0;f<a.update.length;++f)a.update[f](t,e);i(f=p.hook)&&i(f=f.update)&&f(t,e)}r(e.text)?i(d)&&i(m)?d!==m&&C(l,d,m,n,h):i(m)?(i(t.text)&&c.setTextContent(l,""),S(l,null,m,0,m.length-1,n)):i(d)?I(l,d,0,d.length-1):i(t.text)&&c.setTextContent(l,""):t.text!==e.text&&c.setTextContent(l,e.text),i(p)&&i(f=p.hook)&&i(f=f.postpatch)&&f(t,e)}}}function D(t,e,n){if(o(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var O=y("attrs,class,staticClass,staticStyle,key");function R(t,e,n,r){var a,s=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,o(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(a=u.hook)&&i(a=a.init)&&a(e,!0),i(a=e.componentInstance)))return m(e,n),!0;if(i(s)){if(i(c))if(t.hasChildNodes())if(i(a=u)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var h=!0,l=t.firstChild,f=0;f<c.length;f++){if(!l||!R(l,c[f],n,r)){h=!1;break}l=l.nextSibling}if(!h||l)return!1}else b(e,c,n);if(i(u)){var p=!1;for(var d in u)if(!O(d)){p=!0,E(e,n);break}!p&&u["class"]&&ye(u["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!r(e)){var u=!1,l=[];if(r(t))u=!0,p(e,l);else{var f=i(t.nodeType);if(!f&&ki(t,e))N(t,e,l,null,null,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(q)&&(t.removeAttribute(q),n=!0),o(n)&&R(t,e,l))return D(e,l,!0),t;t=h(t)}var d=t.elm,m=c.parentNode(d);if(p(e,l,d._leaveCb?null:m,c.nextSibling(d)),i(e.parent)){var y=e.parent,v=w(e);while(y){for(var g=0;g<a.destroy.length;++g)a.destroy[g](y);if(y.elm=e.elm,v){for(var b=0;b<a.create.length;++b)a.create[b](Ai,y);var E=y.data.hook.insert;if(E.merged)for(var T=1;T<E.fns.length;T++)E.fns[T]()}else Ii(y);y=y.parent}}i(m)?I(m,[t],0,0):i(t.tag)&&_(t)}}return D(e,l,u),e.elm}i(t)&&_(t)}}var Ri={create:xi,update:xi,destroy:function(t){xi(t,Ai)}};function xi(t,e){(t.data.directives||e.data.directives)&&Pi(t,e)}function Pi(t,e){var n,r,i,o=t===Ai,a=e===Ai,s=Mi(t.data.directives,t.context),u=Mi(e.data.directives,e.context),c=[],h=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Fi(i,"update",e,t),i.def&&i.def.componentUpdated&&h.push(i)):(Fi(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var l=function(){for(var n=0;n<c.length;n++)Fi(c[n],"inserted",e,t)};o?Ee(e,"insert",l):l()}if(h.length&&Ee(e,"postpatch",(function(){for(var n=0;n<h.length;n++)Fi(h[n],"componentUpdated",e,t)})),!o)for(n in s)u[n]||Fi(s[n],"unbind",t,t,a)}var Li=Object.create(null);function Mi(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=Li),i[Ui(r)]=r,r.def=$t(e.$options,"directives",r.name,!0);return i}function Ui(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Fi(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(Sa){ee(Sa,n.context,"directive "+t.name+" "+e+" hook")}}var qi=[_i,Ri];function Vi(t,e){var n=e.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(t.data.attrs)||!r(e.data.attrs))){var o,a,s,u=e.elm,c=t.data.attrs||{},h=e.data.attrs||{};for(o in i(h.__ob__)&&(h=e.data.attrs=O({},h)),h)a=h[o],s=c[o],s!==a&&ji(u,o,a);for(o in(tt||nt)&&h.value!==c.value&&ji(u,"value",h.value),c)r(h[o])&&(Qr(o)?u.removeAttributeNS(Gr,zr(o)):jr(o)||u.removeAttribute(o))}}function ji(t,e,n){t.tagName.indexOf("-")>-1?Bi(t,e,n):Kr(e)?Hr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):jr(e)?t.setAttribute(e,Wr(e,n)):Qr(e)?Hr(n)?t.removeAttributeNS(Gr,zr(e)):t.setAttributeNS(Gr,e,n):Bi(t,e,n)}function Bi(t,e,n){if(Hr(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Wi={create:Vi,update:Vi};function Ki(t,e){var n=e.elm,o=e.data,a=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=$r(e),u=n._transitionClasses;i(u)&&(s=Jr(s,Zr(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Gi,Qi={create:Ki,update:Ki},zi="__r",Hi="__c";function $i(t){if(i(t[zi])){var e=tt?"change":"input";t[e]=[].concat(t[zi],t[e]||[]),delete t[zi]}i(t[Hi])&&(t.change=[].concat(t[Hi],t.change||[]),delete t[Hi])}function Yi(t,e,n){var r=Gi;return function i(){var o=e.apply(null,arguments);null!==o&&Zi(t,i,n,r)}}var Xi=ae&&!(it&&Number(it[1])<=53);function Ji(t,e,n,r){if(Xi){var i=zn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Gi.addEventListener(t,e,at?{capture:n,passive:r}:n)}function Zi(t,e,n,r){(r||Gi).removeEventListener(t,e._wrapper||e,n)}function to(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Gi=e.elm,$i(n),we(n,i,Ji,Zi,Yi,e.context),Gi=void 0}}var eo,no={create:to,update:to};function ro(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in i(u.__ob__)&&(u=e.data.domProps=O({},u)),s)n in u||(a[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var c=r(o)?"":String(o);io(a,c)&&(a.value=c)}else if("innerHTML"===n&&ii(a.tagName)&&r(a.innerHTML)){eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+o+"</svg>";var h=eo.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(h.firstChild)a.appendChild(h.firstChild)}else if(o!==s[n])try{a[n]=o}catch(Sa){}}}}function io(t,e){return!t.composing&&("OPTION"===t.tagName||oo(t,e)||ao(t,e))}function oo(t,e){var n=!0;try{n=document.activeElement!==t}catch(Sa){}return n&&t.value!==e}function ao(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return m(n)!==m(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var so={create:ro,update:ro},uo=E((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function co(t){var e=ho(t.style);return t.staticStyle?O(t.staticStyle,e):e}function ho(t){return Array.isArray(t)?R(t):"string"===typeof t?uo(t):t}function lo(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=co(i.data))&&O(r,n)}(n=co(t.data))&&O(r,n);var o=t;while(o=o.parent)o.data&&(n=co(o.data))&&O(r,n);return r}var fo,po=/^--/,mo=/\s*!important$/,yo=function(t,e,n){if(po.test(e))t.style.setProperty(e,n);else if(mo.test(n))t.style.setProperty(A(e),n.replace(mo,""),"important");else{var r=go(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},vo=["Webkit","Moz","ms"],go=E((function(t){if(fo=fo||document.createElement("div").style,t=S(t),"filter"!==t&&t in fo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<vo.length;n++){var r=vo[n]+e;if(r in fo)return r}}));function bo(t,e){var n=e.data,o=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,u=e.elm,c=o.staticStyle,h=o.normalizedStyle||o.style||{},l=c||h,f=ho(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?O({},f):f;var p=lo(e,!0);for(s in l)r(p[s])&&yo(u,s,"");for(s in p)a=p[s],a!==l[s]&&yo(u,s,null==a?"":a)}}var wo={create:bo,update:bo},Eo=/\s+/;function To(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Eo).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function So(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Eo).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function _o(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&O(e,Io(t.name||"v")),O(e,t),e}return"string"===typeof t?Io(t):void 0}}var Io=E((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Ao=Y&&!et,Co="transition",ko="animation",No="transition",Do="transitionend",Oo="animation",Ro="animationend";Ao&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(No="WebkitTransition",Do="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Oo="WebkitAnimation",Ro="webkitAnimationEnd"));var xo=Y?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Po(t){xo((function(){xo(t)}))}function Lo(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),To(t,e))}function Mo(t,e){t._transitionClasses&&g(t._transitionClasses,e),So(t,e)}function Uo(t,e,n){var r=qo(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Co?Do:Ro,u=0,c=function(){t.removeEventListener(s,h),n()},h=function(e){e.target===t&&++u>=a&&c()};setTimeout((function(){u<a&&c()}),o+1),t.addEventListener(s,h)}var Fo=/\b(transform|all)(,|$)/;function qo(t,e){var n,r=window.getComputedStyle(t),i=(r[No+"Delay"]||"").split(", "),o=(r[No+"Duration"]||"").split(", "),a=Vo(i,o),s=(r[Oo+"Delay"]||"").split(", "),u=(r[Oo+"Duration"]||"").split(", "),c=Vo(s,u),h=0,l=0;e===Co?a>0&&(n=Co,h=a,l=o.length):e===ko?c>0&&(n=ko,h=c,l=u.length):(h=Math.max(a,c),n=h>0?a>c?Co:ko:null,l=n?n===Co?o.length:u.length:0);var f=n===Co&&Fo.test(r[No+"Property"]);return{type:n,timeout:h,propCount:l,hasTransform:f}}function Vo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return jo(e)+jo(t[n])})))}function jo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Bo(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=_o(t.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var a=o.css,s=o.type,c=o.enterClass,h=o.enterToClass,l=o.enterActiveClass,f=o.appearClass,p=o.appearToClass,d=o.appearActiveClass,y=o.beforeEnter,v=o.enter,g=o.afterEnter,b=o.enterCancelled,w=o.beforeAppear,E=o.appear,T=o.afterAppear,S=o.appearCancelled,_=o.duration,I=Dn,A=Dn.$vnode;while(A&&A.parent)I=A.context,A=A.parent;var C=!I._isMounted||!t.isRootInsert;if(!C||E||""===E){var k=C&&f?f:c,N=C&&d?d:l,D=C&&p?p:h,O=C&&w||y,R=C&&"function"===typeof E?E:v,x=C&&T||g,P=C&&S||b,L=m(u(_)?_.enter:_);0;var M=!1!==a&&!et,U=Go(R),q=n._enterCb=F((function(){M&&(Mo(n,D),Mo(n,N)),q.cancelled?(M&&Mo(n,k),P&&P(n)):x&&x(n),n._enterCb=null}));t.data.show||Ee(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),R&&R(n,q)})),O&&O(n),M&&(Lo(n,k),Lo(n,N),Po((function(){Mo(n,k),q.cancelled||(Lo(n,D),U||(Ko(L)?setTimeout(q,L):Uo(n,s,q)))}))),t.data.show&&(e&&e(),R&&R(n,q)),M||U||q()}}}function Wo(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=_o(t.data.transition);if(r(o)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var a=o.css,s=o.type,c=o.leaveClass,h=o.leaveToClass,l=o.leaveActiveClass,f=o.beforeLeave,p=o.leave,d=o.afterLeave,y=o.leaveCancelled,v=o.delayLeave,g=o.duration,b=!1!==a&&!et,w=Go(p),E=m(u(g)?g.leave:g);0;var T=n._leaveCb=F((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(Mo(n,h),Mo(n,l)),T.cancelled?(b&&Mo(n,c),y&&y(n)):(e(),d&&d(n)),n._leaveCb=null}));v?v(S):S()}function S(){T.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),b&&(Lo(n,c),Lo(n,l),Po((function(){Mo(n,c),T.cancelled||(Lo(n,h),w||(Ko(E)?setTimeout(T,E):Uo(n,s,T)))}))),p&&p(n,T),b||w||T())}}function Ko(t){return"number"===typeof t&&!isNaN(t)}function Go(t){if(r(t))return!1;var e=t.fns;return i(e)?Go(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Qo(t,e){!0!==e.data.show&&Bo(e)}var zo=Y?{create:Qo,activate:Qo,remove:function(t,e){!0!==t.data.show?Wo(t,e):e()}}:{},Ho=[Wi,Qi,no,so,wo,zo],$o=Ho.concat(qi),Yo=Oi({nodeOps:Si,modules:$o});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&ia(t,"input")}));var Xo={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Ee(n,"postpatch",(function(){Xo.componentUpdated(t,e,n)})):Jo(t,e,n.context),t._vOptions=[].map.call(t.options,ea)):("textarea"===n.tag||ci(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",na),t.addEventListener("compositionend",ra),t.addEventListener("change",ra),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Jo(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,ea);if(i.some((function(t,e){return!M(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return ta(t,i)})):e.value!==e.oldValue&&ta(e.value,i);o&&ia(t,"change")}}}};function Jo(t,e,n){Zo(t,e,n),(tt||nt)&&setTimeout((function(){Zo(t,e,n)}),0)}function Zo(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=U(r,ea(a))>-1,a.selected!==o&&(a.selected=o);else if(M(ea(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function ta(t,e){return e.every((function(e){return!M(e,t)}))}function ea(t){return"_value"in t?t._value:t.value}function na(t){t.target.composing=!0}function ra(t){t.target.composing&&(t.target.composing=!1,ia(t.target,"input"))}function ia(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function oa(t){return!t.componentInstance||t.data&&t.data.transition?t:oa(t.componentInstance._vnode)}var aa={bind:function(t,e,n){var r=e.value;n=oa(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Bo(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=oa(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Bo(n,(function(){t.style.display=t.__vOriginalDisplay})):Wo(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},sa={model:Xo,show:aa},ua={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ca(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ca(Sn(e.children)):t}function ha(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[S(o)]=i[o];return e}function la(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function fa(t){while(t=t.parent)if(t.data.transition)return!0}function pa(t,e){return e.key===t.key&&e.tag===t.tag}var da=function(t){return t.tag||Tn(t)},ma=function(t){return"show"===t.name},ya={name:"transition",props:ua,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(da),n.length)){0;var r=this.mode;0;var i=n[0];if(fa(this.$vnode))return i;var o=ca(i);if(!o)return i;if(this._leaving)return la(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var u=(o.data||(o.data={})).transition=ha(this),c=this._vnode,h=ca(c);if(o.data.directives&&o.data.directives.some(ma)&&(o.data.show=!0),h&&h.data&&!pa(o,h)&&!Tn(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var l=h.data.transition=O({},u);if("out-in"===r)return this._leaving=!0,Ee(l,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),la(t,i);if("in-out"===r){if(Tn(o))return c;var f,p=function(){f()};Ee(u,"afterEnter",p),Ee(u,"enterCancelled",p),Ee(l,"delayLeave",(function(t){f=t}))}}return i}}},va=O({tag:String,moveClass:String},ua);delete va.mode;var ga={props:va,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=On(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=ha(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var c=[],h=[],l=0;l<r.length;l++){var f=r[l];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):h.push(f)}this.kept=t(e,null,c),this.removed=h}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(ba),t.forEach(wa),t.forEach(Ea),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;Lo(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Do,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Do,t),n._moveCb=null,Mo(n,e))})}})))},methods:{hasMove:function(t,e){if(!Ao)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){So(n,t)})),To(n,e),n.style.display="none",this.$el.appendChild(n);var r=qo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function ba(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function wa(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ea(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var Ta={Transition:ya,TransitionGroup:ga};Sr.config.mustUseProp=Vr,Sr.config.isReservedTag=oi,Sr.config.isReservedAttr=Fr,Sr.config.getTagNamespace=ai,Sr.config.isUnknownElement=ui,O(Sr.options.directives,sa),O(Sr.options.components,Ta),Sr.prototype.__patch__=Y?Yo:x,Sr.prototype.$mount=function(t,e){return t=t&&Y?hi(t):void 0,Pn(this,t,e)},Y&&setTimeout((function(){B.devtools&&ct&&ct.emit("init",Sr)}),0),e["a"]=Sr}).call(this,n("c8ba"))},"2c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"2cf4":function(t,e,n){var r,i,o,a=n("da84"),s=n("d039"),u=n("c6b6"),c=n("f8c2"),h=n("1be4"),l=n("cc12"),f=n("b39a"),p=a.location,d=a.setImmediate,m=a.clearImmediate,y=a.process,v=a.MessageChannel,g=a.Dispatch,b=0,w={},E="onreadystatechange",T=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},S=function(t){return function(){T(t)}},_=function(t){T(t.data)},I=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};d&&m||(d=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},m=function(t){delete w[t]},"process"==u(y)?r=function(t){y.nextTick(S(t))}:g&&g.now?r=function(t){g.now(S(t))}:v&&!/(iphone|ipod|ipad).*applewebkit/i.test(f)?(i=new v,o=i.port2,i.port1.onmessage=_,r=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(I)?r=E in l("script")?function(t){h.appendChild(l("script"))[E]=function(){h.removeChild(this),T(t)}}:function(t){setTimeout(S(t),0)}:(r=I,a.addEventListener("message",_,!1))),t.exports={set:d,clear:m}},"2f62":function(t,e,n){"use strict";(function(t){
/**
 * vuex v3.1.1
 * (c) 2019 Evan You
 * @license MIT
 */
function r(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}n.d(e,"b",(function(){return O}));var i="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},o=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(t){o&&(t._devtoolHook=o,o.emit("vuex:init",t),o.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){o.emit("vuex:mutation",t,e)})))}function s(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function u(t){return null!==t&&"object"===typeof t}function c(t){return t&&"function"===typeof t.then}function h(t,e){return function(){return t(e)}}var l=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},f={namespaced:{configurable:!0}};f.namespaced.get=function(){return!!this._rawModule.namespaced},l.prototype.addChild=function(t,e){this._children[t]=e},l.prototype.removeChild=function(t){delete this._children[t]},l.prototype.getChild=function(t){return this._children[t]},l.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},l.prototype.forEachChild=function(t){s(this._children,t)},l.prototype.forEachGetter=function(t){this._rawModule.getters&&s(this._rawModule.getters,t)},l.prototype.forEachAction=function(t){this._rawModule.actions&&s(this._rawModule.actions,t)},l.prototype.forEachMutation=function(t){this._rawModule.mutations&&s(this._rawModule.mutations,t)},Object.defineProperties(l.prototype,f);var p=function(t){this.register([],t,!1)};function d(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;d(t.concat(r),e.getChild(r),n.modules[r])}}p.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},p.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},p.prototype.update=function(t){d([],this.root,t)},p.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new l(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&s(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},p.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var m;var y=function(t){var e=this;void 0===t&&(t={}),!m&&"undefined"!==typeof window&&window.Vue&&D(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new p(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new m;var i=this,o=this,s=o.dispatch,u=o.commit;this.dispatch=function(t,e){return s.call(i,t,e)},this.commit=function(t,e,n){return u.call(i,t,e,n)},this.strict=r;var c=this._modules.root.state;E(this,c,[],this._modules.root),w(this,c),n.forEach((function(t){return t(e)}));var h=void 0!==t.devtools?t.devtools:m.config.devtools;h&&a(this)},v={state:{configurable:!0}};function g(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function b(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;E(t,n,[],t._modules.root,!0),w(t,n,e)}function w(t,e,n){var r=t._vm;t.getters={};var i=t._wrappedGetters,o={};s(i,(function(e,n){o[n]=h(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var a=m.config.silent;m.config.silent=!0,t._vm=new m({data:{$$state:e},computed:o}),m.config.silent=a,t.strict&&C(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),m.nextTick((function(){return r.$destroy()})))}function E(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a]=r),!o&&!i){var s=k(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){m.set(s,u,r.state)}))}var c=r.context=T(t,a,n);r.forEachMutation((function(e,n){var r=a+n;_(t,r,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,i=e.handler||e;I(t,r,i,c)})),r.forEachGetter((function(e,n){var r=a+n;A(t,r,e,c)})),r.forEachChild((function(r,o){E(t,e,n.concat(o),r,i)}))}function T(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=N(n,r,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u),t.dispatch(u,a)},commit:r?t.commit:function(n,r,i){var o=N(n,r,i),a=o.payload,s=o.options,u=o.type;s&&s.root||(u=e+u),t.commit(u,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return S(t,e)}},state:{get:function(){return k(t.state,n)}}}),i}function S(t,e){var n={},r=e.length;return Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),n}function _(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function I(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e,i){var o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e,i);return c(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}function A(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function C(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function k(t,e){return e.length?e.reduce((function(t,e){return t[e]}),t):t}function N(t,e,n){return u(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function D(t){m&&t===m||(m=t,r(m))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(t){0},y.prototype.commit=function(t,e,n){var r=this,i=N(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(t){t(a)}))})),this._subscribers.forEach((function(t){return t(s,r.state)})))},y.prototype.dispatch=function(t,e){var n=this,r=N(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(c){0}var u=s.length>1?Promise.all(s.map((function(t){return t(o)}))):s[0](o);return u.then((function(t){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(c){0}return t}))}},y.prototype.subscribe=function(t){return g(t,this._subscribers)},y.prototype.subscribeAction=function(t){var e="function"===typeof t?{before:t}:t;return g(e,this._actionSubscribers)},y.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},y.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},y.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),E(this,this.state,t,this._modules.get(t),n.preserveState),w(this,this.state)},y.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=k(e.state,t.slice(0,-1));m.delete(n,t[t.length-1])})),b(this)},y.prototype.hotUpdate=function(t){this._modules.update(t),b(this,!0)},y.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(y.prototype,v);var O=U((function(t,e){var n={};return M(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=F(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),R=U((function(t,e){var n={};return M(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=F(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),x=U((function(t,e){var n={};return M(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||F(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),P=U((function(t,e){var n={};return M(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=F(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),L=function(t){return{mapState:O.bind(null,t),mapGetters:x.bind(null,t),mapMutations:R.bind(null,t),mapActions:P.bind(null,t)}};function M(t){return Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}}))}function U(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function F(t,e,n){var r=t._modulesNamespaceMap[n];return r}var q={Store:y,install:D,version:"3.1.1",mapState:O,mapMutations:R,mapGetters:x,mapActions:P,createNamespacedHelpers:L};e["a"]=q}).call(this,n("c8ba"))},"35a1":function(t,e,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),a=o("iterator");t.exports=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||i[r(t)]}},"37e8":function(t,e,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),a=n("df75");t.exports=r?Object.defineProperties:function(t,e){o(t);var n,r=a(e),s=r.length,u=0;while(s>u)i.f(t,n=r[u++],e[n]);return t}},"3ac6":function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("c8ba"))},"3bbe":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3e47":function(t,e,n){var r=n("a5eb"),i=n("c1b2"),o=n("4180");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:o.f})},"3f8c":function(t,e){t.exports={}},4180:function(t,e,n){var r=n("c1b2"),i=n("77b2"),o=n("6f8d"),a=n("7168"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"428f":function(t,e,n){t.exports=n("da84")},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,r="/";e.cwd=function(){return r},e.chdir=function(e){t||(t=n("df7c")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"44ad":function(t,e,n){var r=n("d039"),i=n("c6b6"),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"44ba":function(t,e,n){var r=n("c1b2"),i=n("7043"),o=n("2c6c"),a=n("a421"),s=n("7168"),u=n("78e7"),c=n("77b2"),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=s(e,!0),c)try{return h(t,e)}catch(n){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},"44d2":function(t,e,n){var r=n("b622"),i=n("7c73"),o=n("9112"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o(s,a,i(null)),t.exports=function(t){s[a][t]=!0}},"44de":function(t,e,n){var r=n("da84");t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},"45fc":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").some,o=n("b301");r({target:"Array",proto:!0,forced:o("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},4840:function(t,e,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),a=o("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},4930:function(t,e,n){var r=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4d64":function(t,e,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),a=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),h=o(a,c);if(t&&n!=n){while(c>h)if(s=u[h++],s!=s)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"50c4":function(t,e,n){var r=n("a691"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},5135:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"53fe":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("85d3"),i=n.n(r);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i()(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}},5692:function(t,e,n){var r=n("c430"),i=n("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.5",mode:r?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var r=n("d066"),i=n("241c"),o=n("7418"),a=n("825a");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},"59ca":function(t,e,n){"use strict";function r(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var i=r(n("c23d"));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.exports=i},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"60ae":function(t,e,n){var r,i,o=n("da84"),a=n("b39a"),s=o.process,u=s&&s.versions,c=u&&u.v8;c?(r=c.split("."),i=r[0]+r[1]):a&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1])),t.exports=i&&+i},"60da":function(t,e,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),a=n("7418"),s=n("d1e7"),u=n("7b0b"),c=n("44ad"),h=Object.assign;t.exports=!h||i((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||o(h({},e)).join("")!=r}))?function(t,e){var n=u(t),i=arguments.length,h=1,l=a.f,f=s.f;while(i>h){var p,d=c(arguments[h++]),m=l?o(d).concat(l(d)):o(d),y=m.length,v=0;while(y>v)p=m[v++],r&&!f.call(d,p)||(n[p]=d[p])}return n}:h},"638c":function(t,e,n){var r=n("06fa"),i=n("fc48"),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"65f0":function(t,e,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),a=o("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"69f3":function(t,e,n){var r,i,o,a=n("7f9a"),s=n("da84"),u=n("861d"),c=n("9112"),h=n("5135"),l=n("f772"),f=n("d012"),p=s.WeakMap,d=function(t){return o(t)?i(t):r(t,{})},m=function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(a){var y=new p,v=y.get,g=y.has,b=y.set;r=function(t,e){return b.call(y,t,e),e},i=function(t){return v.call(y,t)||{}},o=function(t){return g.call(y,t)}}else{var w=l("state");f[w]=!0,r=function(t,e){return c(t,w,e),e},i=function(t){return h(t,w)?t[w]:{}},o=function(t){return h(t,w)}}t.exports={set:r,get:i,has:o,enforce:d,getterFor:m}},"6eeb":function(t,e,n){var r=n("da84"),i=n("5692"),o=n("9112"),a=n("5135"),s=n("ce4e"),u=n("9e81"),c=n("69f3"),h=c.get,l=c.enforce,f=String(u).split("toString");i("inspectSource",(function(t){return u.call(t)})),(t.exports=function(t,e,n,i){var u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,h=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||o(n,"name",e),l(n).source=f.join("string"==typeof e?e:"")),t!==r?(u?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=n:o(t,e,n)):c?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&h(this).source||u.call(this)}))},"6f8d":function(t,e,n){var r=n("dfdb");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},7043:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},7168:function(t,e,n){var r=n("dfdb");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"764b":function(t,e){t.exports={}},"77b2":function(t,e,n){var r=n("c1b2"),i=n("06fa"),o=n("7a37");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"78e7":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"7a37":function(t,e,n){var r=n("3ac6"),i=n("dfdb"),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},"7b0b":function(t,e,n){var r=n("1d80");t.exports=function(t){return Object(r(t))}},"7c73":function(t,e,n){var r=n("825a"),i=n("37e8"),o=n("7839"),a=n("d012"),s=n("1be4"),u=n("cc12"),c=n("f772"),h=c("IE_PROTO"),l="prototype",f=function(){},p=function(){var t,e=u("iframe"),n=o.length,r="<",i="script",a=">",c="java"+i+":";e.style.display="none",s.appendChild(e),e.src=String(c),t=e.contentWindow.document,t.open(),t.write(r+i+a+"document.F=Object"+r+"/"+i+a),t.close(),p=t.F;while(n--)delete p[l][o[n]];return p()};t.exports=Object.create||function(t,e){var n;return null!==t?(f[l]=r(t),n=new f,f[l]=null,n[h]=t):n=p(),void 0===e?n:i(n,e)},a[h]=!0},"7dd0":function(t,e,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),a=n("d2bb"),s=n("d44e"),u=n("9112"),c=n("6eeb"),h=n("b622"),l=n("c430"),f=n("3f8c"),p=n("ae93"),d=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,y=h("iterator"),v="keys",g="values",b="entries",w=function(){return this};t.exports=function(t,e,n,h,p,E,T){i(n,e,h);var S,_,I,A=function(t){if(t===p&&O)return O;if(!m&&t in N)return N[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this)}},C=e+" Iterator",k=!1,N=t.prototype,D=N[y]||N["@@iterator"]||p&&N[p],O=!m&&D||A(p),R="Array"==e&&N.entries||D;if(R&&(S=o(R.call(new t)),d!==Object.prototype&&S.next&&(l||o(S)===d||(a?a(S,d):"function"!=typeof S[y]&&u(S,y,w)),s(S,C,!0,!0),l&&(f[C]=w))),p==g&&D&&D.name!==g&&(k=!0,O=function(){return D.call(this)}),l&&!T||N[y]===O||u(N,y,O),f[e]=O,p)if(_={values:A(g),keys:E?O:A(v),entries:A(b)},T)for(I in _)!m&&!k&&I in N||c(N,I,_[I]);else r({target:e,proto:!0,forced:m||k},_);return _}},"7f9a":function(t,e,n){var r=n("da84"),i=n("9e81"),o=r.WeakMap;t.exports="function"===typeof o&&/native code/.test(i.call(o))},"825a":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,n){var r=n("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"85d3":function(t,e,n){t.exports=n("9a13")},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"8c4f":function(t,e,n){"use strict";
/*!
  * vue-router v3.1.3
  * (c) 2019 Evan You
  * @license MIT
  */function r(t,e){0}function i(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function o(t,e){return e instanceof t||e&&(e.name===t.name||e._name===t._name)}function a(t,e){for(var n in e)t[n]=e[n];return t}var s={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,i=e.parent,o=e.data;o.routerView=!0;var s=i.$createElement,c=n.name,h=i.$route,l=i._routerViewCache||(i._routerViewCache={}),f=0,p=!1;while(i&&i._routerRoot!==i){var d=i.$vnode&&i.$vnode.data;d&&(d.routerView&&f++,d.keepAlive&&i._inactive&&(p=!0)),i=i.$parent}if(o.routerViewDepth=f,p)return s(l[c],o,r);var m=h.matched[f];if(!m)return l[c]=null,s();var y=l[c]=m.components[c];o.registerRouteInstance=function(t,e){var n=m.instances[c];(e&&n!==t||!e&&n===t)&&(m.instances[c]=e)},(o.hook||(o.hook={})).prepatch=function(t,e){m.instances[c]=e.componentInstance},o.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==m.instances[c]&&(m.instances[c]=t.componentInstance)};var v=o.props=u(h,m.props&&m.props[c]);if(v){v=o.props=a({},v);var g=o.attrs=o.attrs||{};for(var b in v)y.props&&b in y.props||(g[b]=v[b],delete v[b])}return s(y,o,r)}};function u(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}var c=/[!'()*]/g,h=function(t){return"%"+t.charCodeAt(0).toString(16)},l=/%2C/g,f=function(t){return encodeURIComponent(t).replace(c,h).replace(l,",")},p=decodeURIComponent;function d(t,e,n){void 0===e&&(e={});var r,i=n||m;try{r=i(t||"")}catch(a){r={}}for(var o in e)r[o]=e[o];return r}function m(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=p(n.shift()),i=n.length>0?p(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function y(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return f(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(f(e)):r.push(f(e)+"="+f(t)))})),r.join("&")}return f(e)+"="+f(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var v=/\/?$/;function g(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=b(o)}catch(s){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:T(e,i),matched:t?E(t):[]};return n&&(a.redirectedFrom=T(n,i)),Object.freeze(a)}function b(t){if(Array.isArray(t))return t.map(b);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=b(t[n]);return e}return t}var w=g(null,{path:"/"});function E(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function T(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||y;return(n||"/")+o(r)+i}function S(t,e){return e===w?t===e:!!e&&(t.path&&e.path?t.path.replace(v,"")===e.path.replace(v,"")&&t.hash===e.hash&&_(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&_(t.query,e.query)&&_(t.params,e.params)))}function _(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every((function(n){var r=t[n],i=e[n];return"object"===typeof r&&"object"===typeof i?_(r,i):String(r)===String(i)}))}function I(t,e){return 0===t.path.replace(v,"/").indexOf(e.path.replace(v,"/"))&&(!e.hash||t.hash===e.hash)&&A(t.query,e.query)}function A(t,e){for(var n in e)if(!(n in t))return!1;return!0}function C(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function k(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function N(t){return t.replace(/\/\//g,"/")}var D=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},O=Y,R=U,x=F,P=j,L=$,M=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function U(t,e){var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";while(null!=(n=M.exec(t))){var u=n[0],c=n[1],h=n.index;if(a+=t.slice(o,h),o=h+u.length,c)a+=c[1];else{var l=t[o],f=n[2],p=n[3],d=n[4],m=n[5],y=n[6],v=n[7];a&&(r.push(a),a="");var g=null!=f&&null!=l&&l!==f,b="+"===y||"*"===y,w="?"===y||"*"===y,E=n[2]||s,T=d||m;r.push({name:p||i++,prefix:f||"",delimiter:E,optional:w,repeat:b,partial:g,asterisk:!!v,pattern:T?W(T):v?".*":"[^"+B(E)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function F(t,e){return j(U(t,e))}function q(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function V(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function j(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",o=n||{},a=r||{},s=a.pretty?q:encodeURIComponent,u=0;u<t.length;u++){var c=t[u];if("string"!==typeof c){var h,l=o[c.name];if(null==l){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(D(l)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<l.length;f++){if(h=s(l[f]),!e[u].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");i+=(0===f?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?V(l):s(l),!e[u].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');i+=c.prefix+h}}else i+=c}return i}}function B(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function W(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function K(t,e){return t.keys=e,t}function G(t){return t.sensitive?"":"i"}function Q(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return K(t,e)}function z(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(Y(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",G(n));return K(o,e)}function H(t,e,n){return $(U(t,n),e,n)}function $(t,e,n){D(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=B(s);else{var u=B(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")",o+=c}}var h=B(n.delimiter||"/"),l=o.slice(-h.length)===h;return r||(o=(l?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=i?"$":r&&l?"":"(?="+h+"|$)",K(new RegExp("^"+o,G(n)),e)}function Y(t,e,n){return D(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Q(t,e):D(t)?z(t,e,n):H(t,e,n)}O.parse=R,O.compile=x,O.tokensToFunction=P,O.tokensToRegExp=L;var X=Object.create(null);function J(t,e,n){e=e||{};try{var r=X[t]||(X[t]=O.compile(t));return e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(i){return""}finally{delete e[0]}}function Z(t,e,n,r){var i="string"===typeof t?{path:t}:t;if(i._normalized)return i;if(i.name)return a({},t);if(!i.path&&i.params&&e){i=a({},i),i._normalized=!0;var o=a(a({},e.params),i.params);if(e.name)i.name=e.name,i.params=o;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;i.path=J(s,o,"path "+e.path)}else 0;return i}var u=k(i.path||""),c=e&&e.path||"/",h=u.path?C(u.path,c,n||i.append):c,l=d(u.query,i.query,r&&r.options.parseQuery),f=i.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:h,query:l,hash:f}}var tt,et=[String,Object],nt=[String,Array],rt=function(){},it={name:"RouterLink",props:{to:{type:et,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:nt,default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,i=n.resolve(this.to,r,this.append),o=i.location,s=i.route,u=i.href,c={},h=n.options.linkActiveClass,l=n.options.linkExactActiveClass,f=null==h?"router-link-active":h,p=null==l?"router-link-exact-active":l,d=null==this.activeClass?f:this.activeClass,m=null==this.exactActiveClass?p:this.exactActiveClass,y=s.redirectedFrom?g(null,Z(s.redirectedFrom),null,n):s;c[m]=S(r,y),c[d]=this.exact?c[m]:I(r,y);var v=function(t){ot(t)&&(e.replace?n.replace(o,rt):n.push(o,rt))},b={click:ot};Array.isArray(this.event)?this.event.forEach((function(t){b[t]=v})):b[this.event]=v;var w={class:c},E=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:u,route:s,navigate:v,isActive:c[d],isExactActive:c[m]});if(E){if(1===E.length)return E[0];if(E.length>1||!E.length)return 0===E.length?t():t("span",{},E)}if("a"===this.tag)w.on=b,w.attrs={href:u};else{var T=at(this.$slots.default);if(T){T.isStatic=!1;var _=T.data=a({},T.data);for(var A in _.on=_.on||{},_.on){var C=_.on[A];A in b&&(_.on[A]=Array.isArray(C)?C:[C])}for(var k in b)k in _.on?_.on[k].push(b[k]):_.on[k]=v;var N=T.data.attrs=a({},T.data.attrs);N.href=u}else w.on=b}return t(this.tag,w,this.$slots.default)}};function ot(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function at(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=at(e.children)))return e}}function st(t){if(!st.installed||tt!==t){st.installed=!0,tt=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",s),t.component("RouterLink",it);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ut="undefined"!==typeof window;function ct(t,e,n,r){var i=e||[],o=n||Object.create(null),a=r||Object.create(null);t.forEach((function(t){ht(i,o,a,t)}));for(var s=0,u=i.length;s<u;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),u--,s--);return{pathList:i,pathMap:o,nameMap:a}}function ht(t,e,n,r,i,o){var a=r.path,s=r.name;var u=r.pathToRegexpOptions||{},c=ft(a,i,u.strict);"boolean"===typeof r.caseSensitive&&(u.sensitive=r.caseSensitive);var h={path:c,regex:lt(c,u),components:r.components||{default:r.component},instances:{},name:s,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?N(o+"/"+r.path):void 0;ht(t,e,n,r,h,i)})),e[h.path]||(t.push(h.path),e[h.path]=h),void 0!==r.alias)for(var l=Array.isArray(r.alias)?r.alias:[r.alias],f=0;f<l.length;++f){var p=l[f];0;var d={path:p,children:r.children};ht(t,e,n,d,i,h.path||"/")}s&&(n[s]||(n[s]=h))}function lt(t,e){var n=O(t,[],e);return n}function ft(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]?t:null==e?t:N(e.path+"/"+t)}function pt(t,e){var n=ct(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function a(t){ct(t,r,i,o)}function s(t,n,a){var s=Z(t,n,!1,e),u=s.name;if(u){var c=o[u];if(!c)return h(null,s);var l=c.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof s.params&&(s.params={}),n&&"object"===typeof n.params)for(var f in n.params)!(f in s.params)&&l.indexOf(f)>-1&&(s.params[f]=n.params[f]);return s.path=J(c.path,s.params,'named route "'+u+'"'),h(c,s,a)}if(s.path){s.params={};for(var p=0;p<r.length;p++){var d=r[p],m=i[d];if(dt(m.regex,s.path,s.params))return h(m,s,a)}}return h(null,s)}function u(t,n){var r=t.redirect,i="function"===typeof r?r(g(t,n,null,e)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return h(null,n);var a=i,u=a.name,c=a.path,l=n.query,f=n.hash,p=n.params;if(l=a.hasOwnProperty("query")?a.query:l,f=a.hasOwnProperty("hash")?a.hash:f,p=a.hasOwnProperty("params")?a.params:p,u){o[u];return s({_normalized:!0,name:u,query:l,hash:f,params:p},void 0,n)}if(c){var d=mt(c,t),m=J(d,p,'redirect route with path "'+d+'"');return s({_normalized:!0,path:m,query:l,hash:f},void 0,n)}return h(null,n)}function c(t,e,n){var r=J(n,e.params,'aliased route with path "'+n+'"'),i=s({_normalized:!0,path:r});if(i){var o=i.matched,a=o[o.length-1];return e.params=i.params,h(a,e)}return h(null,e)}function h(t,n,r){return t&&t.redirect?u(t,r||n):t&&t.matchAs?c(t,n,t.matchAs):g(t,n,r,e)}return{match:s,addRoutes:a}}function dt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var a=t.keys[i-1],s="string"===typeof r[i]?decodeURIComponent(r[i]):r[i];a&&(n[a.name||"pathMatch"]=s)}return!0}function mt(t,e){return C(t,e.parent?e.parent.path:"/",!0)}var yt=ut&&window.performance&&window.performance.now?window.performance:Date;function vt(){return yt.now().toFixed(3)}var gt=vt();function bt(){return gt}function wt(t){return gt=t}var Et=Object.create(null);function Tt(){var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,"");window.history.replaceState({key:bt()},"",e),window.addEventListener("popstate",(function(t){_t(),t.state&&t.state.key&&wt(t.state.key)}))}function St(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=It(),a=i.call(t,e,n,r?o:null);a&&("function"===typeof a.then?a.then((function(t){Rt(t,o)})).catch((function(t){0})):Rt(a,o))}))}}function _t(){var t=bt();t&&(Et[t]={x:window.pageXOffset,y:window.pageYOffset})}function It(){var t=bt();if(t)return Et[t]}function At(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function Ct(t){return Dt(t.x)||Dt(t.y)}function kt(t){return{x:Dt(t.x)?t.x:window.pageXOffset,y:Dt(t.y)?t.y:window.pageYOffset}}function Nt(t){return{x:Dt(t.x)?t.x:0,y:Dt(t.y)?t.y:0}}function Dt(t){return"number"===typeof t}var Ot=/^#\d/;function Rt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=Ot.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var i=t.offset&&"object"===typeof t.offset?t.offset:{};i=Nt(i),e=At(r,i)}else Ct(t)&&(e=kt(t))}else n&&Ct(t)&&(e=kt(t));e&&window.scrollTo(e.x,e.y)}var xt=ut&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}();function Pt(t,e){_t();var n=window.history;try{e?n.replaceState({key:bt()},"",t):n.pushState({key:wt(vt())},"",t)}catch(r){window.location[e?"replace":"assign"](t)}}function Lt(t){Pt(t,!0)}function Mt(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}function Ut(t){return function(e,n,r){var o=!1,a=0,s=null;Ft(t,(function(t,e,n,u){if("function"===typeof t&&void 0===t.cid){o=!0,a++;var c,h=Bt((function(e){jt(e)&&(e=e.default),t.resolved="function"===typeof e?e:tt.extend(e),n.components[u]=e,a--,a<=0&&r()})),l=Bt((function(t){var e="Failed to resolve async component "+u+": "+t;s||(s=i(t)?t:new Error(e),r(s))}));try{c=t(h,l)}catch(p){l(p)}if(c)if("function"===typeof c.then)c.then(h,l);else{var f=c.component;f&&"function"===typeof f.then&&f.then(h,l)}}})),o||r()}}function Ft(t,e){return qt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function qt(t){return Array.prototype.concat.apply([],t)}var Vt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function jt(t){return t.__esModule||Vt&&"Module"===t[Symbol.toStringTag]}function Bt(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var Wt=function(t){function e(e){t.call(this),this.name=this._name="NavigationDuplicated",this.message='Navigating to current location ("'+e.fullPath+'") is not allowed',Object.defineProperty(this,"stack",{value:(new t).stack,writable:!0,configurable:!0})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);Wt._name="NavigationDuplicated";var Kt=function(t,e){this.router=t,this.base=Gt(e),this.current=w,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function Gt(t){if(!t)if(ut){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function Qt(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function zt(t,e,n,r){var i=Ft(t,(function(t,r,i,o){var a=Ht(t,e);if(a)return Array.isArray(a)?a.map((function(t){return n(t,r,i,o)})):n(a,r,i,o)}));return qt(r?i.reverse():i)}function Ht(t,e){return"function"!==typeof t&&(t=tt.extend(t)),t.options[e]}function $t(t){return zt(t,"beforeRouteLeave",Xt,!0)}function Yt(t){return zt(t,"beforeRouteUpdate",Xt)}function Xt(t,e){if(e)return function(){return t.apply(e,arguments)}}function Jt(t,e,n){return zt(t,"beforeRouteEnter",(function(t,r,i,o){return Zt(t,i,o,e,n)}))}function Zt(t,e,n,r,i){return function(o,a,s){return t(o,a,(function(t){"function"===typeof t&&r.push((function(){te(t,e.instances,n,i)})),s(t)}))}}function te(t,e,n,r){e[n]&&!e[n]._isBeingDestroyed?t(e[n]):r()&&setTimeout((function(){te(t,e,n,r)}),16)}Kt.prototype.listen=function(t){this.cb=t},Kt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Kt.prototype.onError=function(t){this.errorCbs.push(t)},Kt.prototype.transitionTo=function(t,e,n){var r=this,i=this.router.match(t,this.current);this.confirmTransition(i,(function(){r.updateRoute(i),e&&e(i),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach((function(t){t(i)})))}),(function(t){n&&n(t),t&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach((function(e){e(t)})))}))},Kt.prototype.confirmTransition=function(t,e,n){var a=this,s=this.current,u=function(t){!o(Wt,t)&&i(t)&&(a.errorCbs.length?a.errorCbs.forEach((function(e){e(t)})):(r(!1,"uncaught error during route navigation:"),console.error(t))),n&&n(t)};if(S(t,s)&&t.matched.length===s.matched.length)return this.ensureURL(),u(new Wt(t));var c=Qt(this.current.matched,t.matched),h=c.updated,l=c.deactivated,f=c.activated,p=[].concat($t(l),this.router.beforeHooks,Yt(h),f.map((function(t){return t.beforeEnter})),Ut(f));this.pending=t;var d=function(e,n){if(a.pending!==t)return u();try{e(t,s,(function(t){!1===t||i(t)?(a.ensureURL(!0),u(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(u(),"object"===typeof t&&t.replace?a.replace(t):a.push(t)):n(t)}))}catch(r){u(r)}};Mt(p,d,(function(){var n=[],r=function(){return a.current===t},i=Jt(f,n,r),o=i.concat(a.router.resolveHooks);Mt(o,d,(function(){if(a.pending!==t)return u();a.pending=null,e(t),a.router.app&&a.router.app.$nextTick((function(){n.forEach((function(t){t()}))}))}))}))},Kt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach((function(n){n&&n(t,e)}))};var ee=function(t){function e(e,n){var r=this;t.call(this,e,n);var i=e.options.scrollBehavior,o=xt&&i;o&&Tt();var a=ne(this.base);window.addEventListener("popstate",(function(t){var n=r.current,i=ne(r.base);r.current===w&&i===a||r.transitionTo(i,(function(t){o&&St(e,t,n,!0)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Pt(N(r.base+t.fullPath)),St(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Lt(N(r.base+t.fullPath)),St(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(ne(this.base)!==this.current.fullPath){var e=N(this.base+this.current.fullPath);t?Pt(e):Lt(e)}},e.prototype.getCurrentLocation=function(){return ne(this.base)},e}(Kt);function ne(t){var e=decodeURI(window.location.pathname);return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var re=function(t){function e(e,n,r){t.call(this,e,n),r&&ie(this.base)||oe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router,n=e.options.scrollBehavior,r=xt&&n;r&&Tt(),window.addEventListener(xt?"popstate":"hashchange",(function(){var e=t.current;oe()&&t.transitionTo(ae(),(function(n){r&&St(t.router,n,e,!0),xt||ce(n.fullPath)}))}))},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){ue(t.fullPath),St(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){ce(t.fullPath),St(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ae()!==e&&(t?ue(e):ce(e))},e.prototype.getCurrentLocation=function(){return ae()},e}(Kt);function ie(t){var e=ne(t);if(!/^\/#/.test(e))return window.location.replace(N(t+"/#"+e)),!0}function oe(){var t=ae();return"/"===t.charAt(0)||(ce("/"+t),!1)}function ae(){var t=window.location.href,e=t.indexOf("#");if(e<0)return"";t=t.slice(e+1);var n=t.indexOf("?");if(n<0){var r=t.indexOf("#");t=r>-1?decodeURI(t.slice(0,r))+t.slice(r):decodeURI(t)}else n>-1&&(t=decodeURI(t.slice(0,n))+t.slice(n));return t}function se(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function ue(t){xt?Pt(se(t)):window.location.hash=t}function ce(t){xt?Lt(se(t)):window.location.replace(se(t))}var he=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){e.index=n,e.updateRoute(r)}),(function(t){o(Wt,t)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Kt),le=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!xt&&!1!==t.fallback,this.fallback&&(e="hash"),ut||(e="abstract"),this.mode=e,e){case"history":this.history=new ee(this,t.base);break;case"hash":this.history=new re(this,t.base,this.fallback);break;case"abstract":this.history=new he(this,t.base);break;default:0}},fe={currentRoute:{configurable:!0}};function pe(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function de(t,e,n){var r="hash"===n?"#"+e:e;return t?N(t+"/"+r):r}le.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},fe.currentRoute.get=function(){return this.history&&this.history.current},le.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null)})),!this.app){this.app=t;var n=this.history;if(n instanceof ee)n.transitionTo(n.getCurrentLocation());else if(n instanceof re){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},le.prototype.beforeEach=function(t){return pe(this.beforeHooks,t)},le.prototype.beforeResolve=function(t){return pe(this.resolveHooks,t)},le.prototype.afterEach=function(t){return pe(this.afterHooks,t)},le.prototype.onReady=function(t,e){this.history.onReady(t,e)},le.prototype.onError=function(t){this.history.onError(t)},le.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},le.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},le.prototype.go=function(t){this.history.go(t)},le.prototype.back=function(){this.go(-1)},le.prototype.forward=function(){this.go(1)},le.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},le.prototype.resolve=function(t,e,n){e=e||this.history.current;var r=Z(t,e,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=de(a,o,this.mode);return{location:r,route:i,href:s,normalizedTo:r,resolved:i}},le.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==w&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(le.prototype,fe),le.install=st,le.version="3.1.3",ut&&window.Vue&&window.Vue.use(le),e["a"]=le},"90e3":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},9112:function(t,e,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9483:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function i(t,e){void 0===e&&(e={});var n=e.registrationOptions;void 0===n&&(n={}),delete e.registrationOptions;var i=function(t){var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];e&&e[t]&&e[t].apply(e,n)};"serviceWorker"in navigator&&window.addEventListener("load",(function(){r()?(a(t,i,n),navigator.serviceWorker.ready.then((function(t){i("ready",t)}))):o(t,i,n)}))}function o(t,e,n){navigator.serviceWorker.register(t,n).then((function(t){e("registered",t),t.waiting?e("updated",t):t.onupdatefound=function(){e("updatefound",t);var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}})).catch((function(t){e("error",t)}))}function a(t,e,n){fetch(t).then((function(r){404===r.status?(e("error",new Error("Service worker not found at "+t)),s()):-1===r.headers.get("content-type").indexOf("javascript")?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+r.headers.get("content-type"))),s()):o(t,e,n)})).catch((function(t){navigator.onLine?e("error",t):e("offline")}))}function s(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},"94ca":function(t,e,n){var r=n("d039"),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},"9a13":function(t,e,n){t.exports=n("a38c")},"9ab4":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return l})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return g})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return T})),n.d(e,"__importDefault",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{u(i[t](e))}catch(n){l(o[0][3],n)}}function u(t){t.value instanceof v?Promise.resolve(t.value.v).then(c,h):l(o[0][2],t)}function c(t){s("next",t)}function h(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof p?p(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}},"9bdd":function(t,e,n){var r=n("825a");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw void 0!==o&&r(o.call(t)),a}}},"9bf2":function(t,e,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),a=n("c04e"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9e81":function(t,e,n){var r=n("5692");t.exports=r("native-function-to-string",Function.toString)},"9e9c":function(t,e,n){!function(t,e){e(n("c23d"))}(0,(function(t){"use strict";try{(function(){function e(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function n(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}t=t&&t.hasOwnProperty("default")?t.default:t;var r="firebasestorage.googleapis.com",i="storageBucket",o=(a.prototype.codeProp=function(){return this.code},a.prototype.codeEquals=function(t){return u(t)===this.codeProp()},a.prototype.serverResponseProp=function(){return this.serverResponse_},a.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(a.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),a);function a(t,e){this.code_=u(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}var s={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function u(t){return"storage/"+t}function c(){return new o(s.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function h(){return new o(s.CANCELED,"User canceled the upload/download.")}function l(){return new o(s.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function f(t,e,n){return new o(s.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function p(){return new o(s.APP_DELETED,"The Firebase app was deleted.")}function d(t,e){return new o(s.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function m(t){throw new o(s.INTERNAL_ERROR,"Internal error: "+t)}var y={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function v(t){switch(t){case y.RAW:case y.BASE64:case y.BASE64URL:case y.DATA_URL:return;default:throw"Expected one of the event types: ["+y.RAW+", "+y.BASE64+", "+y.BASE64URL+", "+y.DATA_URL+"]."}}var g=function(t,e){this.data=t,this.contentType=e||null};function b(t,e){switch(t){case y.RAW:return new g(w(e));case y.BASE64:case y.BASE64URL:return new g(E(t,e));case y.DATA_URL:return new g(function(t){var e=new _(t);return e.base64?E(y.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw d(y.DATA_URL,"Malformed data URL.")}return w(e)}(e.rest)}(e),function(t){return new _(t).contentType}(e))}throw c()}function w(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function E(t,e){switch(t){case y.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw d(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case y.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw d(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw d(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var T,S,_=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw d(y.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)},I={STATE_CHANGED:"state_changed"},A="running",C="pausing",k="paused",N="success",D="canceling",O="canceled",R="error",x={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function P(t){switch(t){case A:case C:case D:return x.RUNNING;case k:return x.PAUSED;case N:return x.SUCCESS;case O:return x.CANCELED;case R:default:return x.ERROR}}function L(t){return null!=t}function M(t){return void 0!==t}function U(t){return"function"==typeof t}function F(t){return"object"==typeof t}function q(t){return"string"==typeof t||t instanceof String}function V(t){return"number"==typeof t||t instanceof Number}function j(t){return B()&&t instanceof Blob}function B(){return"undefined"!=typeof Blob}(S=T=T||{})[S.NO_ERROR=0]="NO_ERROR",S[S.NETWORK_ERROR=1]="NETWORK_ERROR",S[S.ABORT=2]="ABORT";var W=(K.prototype.send=function(t,e,n,r){if(this.sent_)throw m("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),L(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return L(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},K.prototype.getErrorCode=function(){if(!this.sent_)throw m("cannot .getErrorCode() before sending");return this.errorCode_},K.prototype.getStatus=function(){if(!this.sent_)throw m("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},K.prototype.getResponseText=function(){if(!this.sent_)throw m("cannot .getResponseText() before sending");return this.xhr_.responseText},K.prototype.abort=function(){this.xhr_.abort()},K.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},K.prototype.addUploadProgressListener=function(t){L(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},K.prototype.removeUploadProgressListener=function(t){L(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},K);function K(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=T.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=T.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=T.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}var G=(Q.prototype.createXhrIo=function(){return new W},Q);function Q(){}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(B())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var H=($.prototype.size=function(){return this.size_},$.prototype.type=function(){return this.type_},$.prototype.slice=function(t,e){if(j(this.data_)){var n=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,t,e);return null===n?null:new $(n)}return new $(new Uint8Array(this.data_.buffer,t,e-t),!0)},$.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(B()){var n=t.map((function(t){return t instanceof $?t.data_:t}));return new $(z.apply(null,n))}var r=t.map((function(t){return q(t)?b(y.RAW,t).data:t.data_})),i=0;r.forEach((function(t){i+=t.byteLength}));var o=new Uint8Array(i),a=0;return r.forEach((function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]})),new $(o,!0)},$.prototype.uploadData=function(){return this.data_},$);function $(t,e){var n=0,r="";j(t)?(n=(this.data_=t).size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}var Y=(Object.defineProperty(X.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),X.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},X.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},X.makeFromBucketSpec=function(t){var e;try{e=X.makeFromUrl(t)}catch(e){return new X(t,"")}if(""===e.path)return e;throw function(t){return new o(s.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(t)},X.makeFromUrl=function(t){for(var e=null,n="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+n+"(/(.*))?$","i"),a=r.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],c=0;c<u.length;c++){var h=u[c],l=h.regex.exec(t);if(l){var f=l[h.indices.bucket],p=l[h.indices.path];e=new X(f,p=p||""),h.postModify(e);break}}if(null==e)throw function(t){return new o(s.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return e},X);function X(t,e){this.bucket=t,this.path_=e}function J(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return F(t)&&!Array.isArray(t)}(e)?e:null}function Z(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function tt(t){return"https://"+r+"/v0"+t}function et(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function nt(t,e){return e}var rt=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||nt},it=null;function ot(){if(it)return it;var t=[];t.push(new rt("bucket")),t.push(new rt("generation")),t.push(new rt("metageneration")),t.push(new rt("name","fullPath",!0));var e=new rt("name");e.xform=function(t,e){return function(t){return!q(t)||t.length<2?t:Z(t)}(e)},t.push(e);var n=new rt("size");return n.xform=function(t,e){return L(e)?Number(e):e},t.push(n),t.push(new rt("timeCreated")),t.push(new rt("updated")),t.push(new rt("md5Hash",null,!0)),t.push(new rt("cacheControl",null,!0)),t.push(new rt("contentDisposition",null,!0)),t.push(new rt("contentEncoding",null,!0)),t.push(new rt("contentLanguage",null,!0)),t.push(new rt("contentType",null,!0)),t.push(new rt("metadata","customMetadata",!0)),it=t}function at(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new Y(n,r);return e.makeStorageReference(i)}})}function st(t,e,n){var r=J(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return at(r,t),r}(t,r,n)}function ut(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function ct(t){if(!F(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!F(n))throw"Expected object for 'customMetadata' mapping."}else if(F(r=n)&&null!==r)throw"Mapping for '"+e+"' cannot be an object."}var r}var ht="maxResults",lt=1e3,ft="pageToken",pt="prefixes",dt="items";function mt(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},r=t.bucket();if(null===r)throw new o(s.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+i+"' property when initializing the app?");if(e[pt])for(var a=0,u=e[pt];a<u.length;a++){var c=u[a].replace(/\/$/,""),h=t.makeStorageReference(new Y(r,c));n.prefixes.push(h)}if(e[dt])for(var l=0,f=e[dt];l<f.length;l++){var p=f[l];h=t.makeStorageReference(new Y(r,p.name)),n.items.push(h)}return n}function yt(t){if(!F(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===ht){if(!V(n=t[ht])||!Number.isInteger(n)||t[ht]<=0)throw"Expected maxResults to be a positive number.";if(1e3<t[ht])throw"Expected maxResults to be less than or equal to "+lt+"."}else{if(e!==ft)throw"Unknown option: "+e;if(t[ft]&&!q(t[ft]))throw"Expected pageToken to be string."}var n}var vt=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function gt(t){if(!t)throw c()}function bt(t,e){return function(n,r){var i=st(t,r,e);return gt(null!==i),i}}function wt(t){return function(e,n){var r=function(t,e){var n=J(e);return null===n?null:mt(t,n)}(t,n);return gt(null!==r),r}}function Et(t,e){return function(n,r){var i=st(t,r,e);return gt(null!==i),function(t,e){var n=J(e);if(null===n)return null;if(!q(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return tt("/b/"+i(n)+"/o/"+i(r))+et({alt:"media",token:e})}))[0]}(i,r)}}function Tt(t){return function(e,n){var r;return(r=401===e.getStatus()?new o(s.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(t){return new o(s.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===e.getStatus()?function(t){return new o(s.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):n).setServerResponseProp(n.serverResponseProp()),r}}function St(t){var e=Tt(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=function(t){return new o(s.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),i.setServerResponseProp(r.serverResponseProp()),i}}function _t(t,e,n){var r=tt(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new vt(r,"GET",bt(t,n),i);return o.errorHandler=St(e),o}function It(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}function At(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=It(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ut(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",h="\r\n--"+s+"--",f=H.getBlob(c,r,h);if(null===f)throw l();var p={name:u.fullPath},d=tt(o),m=t.maxUploadRetryTime(),y=new vt(d,"POST",bt(t,n),m);return y.urlParams=p,y.headers=a,y.body=f.uploadData(),y.errorHandler=Tt(e),y}var Ct=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function kt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){gt(!1)}return gt(!!n&&-1!==(e||["active"]).indexOf(n)),n}function Nt(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=It(e,r,i),s={name:a.fullPath},u=tt(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=ut(a,n),l=t.maxUploadRetryTime(),f=new vt(u,"POST",(function(t){var e;kt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){gt(!1)}return gt(q(e)),e}),l);return f.urlParams=s,f.headers=c,f.body=h,f.errorHandler=Tt(e),f}function Dt(t,e,n,r){var i=t.maxUploadRetryTime(),o=new vt(n,"POST",(function(t){var e=kt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){gt(!1)}n||gt(!1);var i=Number(n);return gt(!isNaN(i)),new Ct(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Tt(e),o}function Ot(t,e,n,r,i,a,u,c){var h=new Ct(0,0);if(u?(h.current=u.current,h.total=u.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw new o(s.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var f=h.total-h.current,p=f;0<i&&(p=Math.min(p,i));var d=h.current,m=d+p,y={"X-Goog-Upload-Command":p===f?"upload, finalize":"upload","X-Goog-Upload-Offset":h.current},v=r.slice(d,m);if(null===v)throw l();var g=e.maxUploadRetryTime(),b=new vt(n,"POST",(function(t,n){var i,o=kt(t,["active","final"]),s=h.current+p,u=r.size();return i="final"===o?bt(e,a)(t,n):null,new Ct(s,u,"final"===o,i)}),g);return b.headers=y,b.body=v.uploadData(),b.progressCallback=c||null,b.errorHandler=Tt(t),b}var Rt=function(t,e,n){if(U(t)||L(e)||L(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},xt=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function Pt(t,e,n){for(var r=e.length,i=e.length,a=0;a<e.length;a++)if(e[a].optional){r=a;break}if(!(r<=n.length&&n.length<=i))throw function(t,e,n,r){var i,a;return a=t===e?1===(i=t)?"argument":"arguments":(i="between "+t+" and "+e,"arguments"),new o(s.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+a+", received "+r+".")}(r,i,t,n.length);for(a=0;a<n.length;a++)try{e[a].validator(n[a])}catch(e){throw e instanceof Error?f(a,t,e.message):f(a,t,e)}}var Lt=function(t,e){var n=this;this.validator=function(e){n.optional&&!M(e)||t(e)},this.optional=!!e};function Mt(t,e){function n(t){if(!q(t))throw"Expected string."}var r;return r=t?function(t,e){return function(n){t(n),e(n)}}(n,t):n,new Lt(r,e)}function Ut(){return new Lt((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||B()&&t instanceof Blob))throw"Expected Blob or File."}))}function Ft(t){return new Lt(ct,t)}function qt(){return new Lt((function(t){if(!(V(t)&&0<=t))throw"Expected a number 0 or greater."}))}function Vt(t,e){return new Lt((function(e){if(!(null===e||L(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function jt(t){return new Lt((function(t){if(null!==t&&!U(t))throw"Expected a Function."}),t)}function Bt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Wt=(Kt.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},Kt.prototype.shouldDoResumable_=function(t){return 262144<t.size()},Kt.prototype.start_=function(){this.state_===A&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},Kt.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case A:t(n);break;case D:e.transition_(O);break;case C:e.transition_(k)}}))},Kt.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=Nt(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);(t.request_=r).getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},Kt.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=Dt(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);(t.request_=i).getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},Kt.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Ct(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=Ot(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(i){return t.error_=i,void t.transition_(R)}var a=t.authWrapper_.makeRequest(o,i);(t.request_=a).getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(N)):t.completeTransitions_()}),t.errorHandler_)}))},Kt.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},Kt.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=_t(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);(t.request_=r).getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(N)}),t.metadataErrorHandler_)}))},Kt.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=At(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);(t.request_=r).getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(N)}),t.errorHandler_)}))},Kt.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},Kt.prototype.transition_=function(t){if(this.state_!==t)switch(t){case D:case C:this.state_=t,null!==this.request_&&this.request_.cancel();break;case A:var e=this.state_===k;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case k:this.state_=t,this.notifyObservers_();break;case O:this.error_=h(),this.state_=t,this.notifyObservers_();break;case R:case N:this.state_=t,this.notifyObservers_()}},Kt.prototype.completeTransitions_=function(){switch(this.state_){case C:this.transition_(k);break;case D:this.transition_(O);break;case A:this.start_()}},Object.defineProperty(Kt.prototype,"snapshot",{get:function(){var t=P(this.state_);return new xt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),Kt.prototype.on=function(t,e,n,r){var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=jt(!0).validator,a=Vt(null,!0).validator;function s(t){try{return void o(t)}catch(t){}try{if(a(t),!(M(t.next)||M(t.error)||M(t.complete)))throw"";return}catch(t){throw i}}Pt("on",[Mt((function(){if(t!==I.STATE_CHANGED)throw"Expected one of the event types: ["+I.STATE_CHANGED+"]."})),Vt(s,!0),jt(!0),jt(!0)],arguments);var u=this;function c(t){return function(e,n,i){null!==t&&Pt("on",t,arguments);var o=new Rt(e,n,r);return u.addObserver_(o),function(){u.removeObserver_(o)}}}var h=[Vt((function(t){if(null===t)throw i;s(t)})),jt(!0),jt(!0)];return M(e)||M(n)||M(r)?c(null)(e,n,r):c(h)},Kt.prototype.then=function(t,e){return this.promise_.then(t,e)},Kt.prototype.catch=function(t){return this.then(null,t)},Kt.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},Kt.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},Kt.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},Kt.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(P(this.state_)){case x.SUCCESS:Bt(this.resolve_.bind(null,this.snapshot))();break;case x.CANCELED:case x.ERROR:Bt(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},Kt.prototype.notifyObserver_=function(t){switch(P(this.state_)){case x.RUNNING:case x.PAUSED:t.next&&Bt(t.next.bind(t,this.snapshot))();break;case x.SUCCESS:t.complete&&Bt(t.complete.bind(t))();break;case x.CANCELED:case x.ERROR:t.error&&Bt(t.error.bind(t,this.error_))();break;default:t.error&&Bt(t.error.bind(t,this.error_))()}},Kt.prototype.resume=function(){Pt("resume",[],arguments);var t=this.state_===k||this.state_===C;return t&&this.transition_(A),t},Kt.prototype.pause=function(){Pt("pause",[],arguments);var t=this.state_===A;return t&&this.transition_(C),t},Kt.prototype.cancel=function(){Pt("cancel",[],arguments);var t=this.state_===A||this.state_===C;return t&&this.transition_(D),t},Kt);function Kt(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=A,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(s.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(R))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(s.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(R))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}var Gt=(Qt.prototype.toString=function(){return Pt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},Qt.prototype.newRef=function(t,e){return new Qt(t,e)},Qt.prototype.mappings=function(){return ot()},Qt.prototype.child=function(t){Pt("child",[Mt()],arguments);var e=function(t,e){var n=e.split("/").filter((function(t){return 0<t.length})).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new Y(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(Qt.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Y(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(Qt.prototype,"root",{get:function(){var t=new Y(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(Qt.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(Qt.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(Qt.prototype,"name",{get:function(){return Z(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(Qt.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),Qt.prototype.put=function(t,e){return void 0===e&&(e=null),Pt("put",[Ut(),Ft(!0)],arguments),this.throwIfRoot_("put"),new Wt(this,this.authWrapper,this.location,this.mappings(),new H(t),e)},Qt.prototype.putString=function(t,e,n){void 0===e&&(e=y.RAW),Pt("putString",[Mt(),Mt(v,!0),Ft(!0)],arguments),this.throwIfRoot_("putString");var r=b(e,t),i=Object.assign({},n);return!L(i.contentType)&&L(r.contentType)&&(i.contentType=r.contentType),new Wt(this,this.authWrapper,this.location,this.mappings(),new H(r.data,!0),i)},Qt.prototype.delete=function(){var t=this;return Pt("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=function(t,e){var n=tt(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new vt(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=St(e),i}(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},Qt.prototype.listAll=function(){Pt("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},Qt.prototype.listAllHelper=function(t,n){return function(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var r,i,o,a;return e(this,(function(e){switch(e.label){case 0:return r={pageToken:n},[4,this.list(r)];case 1:return i=e.sent(),(o=t.prefixes).push.apply(o,i.prefixes),(a=t.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,this.listAllHelper(t,i.nextPageToken)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},Qt.prototype.list=function(t){Pt("list",[function(t){return new Lt(yt,t)}(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=function(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&0<n.length&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=tt(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime(),u=new vt(a,"GET",wt(t),s);return u.urlParams=o,u.errorHandler=Tt(e),u}(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},Qt.prototype.getMetadata=function(){var t=this;return Pt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=_t(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},Qt.prototype.updateMetadata=function(t){var e=this;return Pt("updateMetadata",[Ft()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=function(t,e,n,r){var i=tt(e.fullServerUrl()),o=ut(n,r),a=t.maxOperationRetryTime(),s=new vt(i,"PATCH",bt(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=St(e),s}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},Qt.prototype.getDownloadURL=function(){var t=this;return Pt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=function(t,e,n){var r=tt(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new vt(r,"GET",Et(t,n),i);return o.errorHandler=St(e),o}(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new o(s.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))}))},Qt.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new o(s.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},Qt);function Qt(t,e){this.authWrapper=t,this.location=e instanceof Y?e:Y.makeFromUrl(e)}var zt=(Ht.prototype.getPromise=function(){return this.promise_},Ht.prototype.cancel=function(t){},Ht);function Ht(t){this.promise_=Promise.reject(t)}var $t=(Yt.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},Yt.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},Yt);function Yt(){this.map=new Map,this.id=-9007199254740991}var Xt=(Jt.extractBucket_=function(t){var e=t[i]||null;return null==e?null:Y.makeFromBucketSpec(e).bucket},Jt.prototype.getAuthToken=function(){return null!==this.app_&&L(this.app_.INTERNAL)&&L(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},Jt.prototype.bucket=function(){if(this.deleted_)throw p();return this.bucket_},Jt.prototype.service=function(){return this.service_},Jt.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},Jt.prototype.makeRequest=function(t,e){if(this.deleted_)return new zt(p());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},Jt.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},Jt.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},Jt.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},Jt.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},Jt.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},Jt);function Jt(t,e,n,r,i){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var o=this.app_.options;L(o)&&(this.bucket_=Jt.extractBucket_(o))}this.storageRefMaker_=e,this.requestMaker_=n,this.pool_=i,this.service_=r,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new $t}var Zt=(te.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,a=t.reject_,u=n.xhr;if(n.wasSuccessCode)try{var l=t.callback_(u,u.getResponseText());M(l)?i(l):i()}catch(e){a(e)}else null!==u?((r=c()).setServerResponseProp(u.getResponseText()),t.errorCallback_?a(t.errorCallback_(u,r)):a(r)):n.canceled?a(r=t.appDelete_?p():h()):a(r=new o(s.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new ee(!1,null,!0)):this.backoffId_=function(t,e,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function h(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function l(e){o=setTimeout((function(){o=null,t(f,u())}),e)}function f(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];c||(t?h.call.apply(h,n([null,t],e)):u()||a?h.call.apply(h,n([null,t],e)):(i<64&&(i*=2),l(1===s?(s=2,0):1e3*(i+Math.random()))))}var p=!1;function d(t){p||(p=!0,c||(null!==o?(t||(s=2),clearTimeout(o),l(0)):t||(s=1)))}return l(0),setTimeout((function(){d(a=!0)}),r),d}((function(e,n){if(n)e(!1,new ee(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===T.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new ee(a,n))}else{var s=n.getErrorCode()===T.ABORT;e(!1,new ee(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},te.prototype.getPromise=function(){return this.promise_},te.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},te.prototype.isRetryStatusCode_=function(t){var e=500<=t&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},te);function te(t,e,n,r,i,o,a,s,u,c,h){var l=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=h,this.promise_=new Promise((function(t,e){l.resolve_=t,l.reject_=e,l.start_()}))}var ee=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function ne(e,n,r){var i=et(e.urlParams),o=e.url+i,a=Object.assign({},e.headers);return function(t,e){null!==e&&0<e.length&&(t.Authorization="Firebase "+e)}(a,n),function(e){var n=void 0!==t?t.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+n}(a),new Zt(o,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}var re=(ie.prototype.ref=function(t){if(Pt("ref",[Mt((function(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}),!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new Gt(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e},ie.prototype.refFromURL=function(t){return Pt("refFromURL",[Mt((function(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Y.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}),!1)],arguments),new Gt(this.authWrapper_,t)},Object.defineProperty(ie.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),ie.prototype.setMaxUploadRetryTime=function(t){Pt("setMaxUploadRetryTime",[qt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},ie.prototype.setMaxOperationRetryTime=function(t){Pt("setMaxOperationRetryTime",[qt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(ie.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(ie.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),ie);function ie(t,e,n){if(this.bucket_=null,this.authWrapper_=new Xt(t,(function(t,e){return new Gt(t,e)}),ne,this,e),this.app_=t,null!=n)this.bucket_=Y.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new Y(r,""))}this.internals_=new ae(this)}var oe,ae=(se.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},se);function se(t){this.service_=t}function ue(t,e,n){return new re(t,new G,n)}oe={TaskState:x,TaskEvent:I,StringFormat:y,Storage:re,Reference:Gt},t.INTERNAL.registerService("storage",ue,oe,void 0,!0)}).apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-storage - be sure to load firebase-app.js first.")}}))},"9ed3":function(t,e,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),a=n("d44e"),s=n("3f8c"),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,c,!1,!0),s[c]=u,t}},"9f12":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},a0e5:function(t,e,n){var r=n("06fa"),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},a38c:function(t,e,n){n("3e47");var r=n("764b"),i=r.Object,o=t.exports=function(t,e,n){return i.defineProperty(t,e,n)};i.defineProperty.sham&&(o.sham=!0)},a421:function(t,e,n){var r=n("638c"),i=n("1875");t.exports=function(t){return r(i(t))}},a5eb:function(t,e,n){"use strict";var r=n("3ac6"),i=n("44ba").f,o=n("a0e5"),a=n("764b"),s=n("194a"),u=n("0273"),c=n("78e7"),h=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,l,f,p,d,m,y,v,g,b=t.target,w=t.global,E=t.stat,T=t.proto,S=w?r:E?r[b]:(r[b]||{}).prototype,_=w?a:a[b]||(a[b]={}),I=_.prototype;for(p in e)n=o(w?p:b+(E?".":"#")+p,t.forced),l=!n&&S&&c(S,p),m=_[p],l&&(t.noTargetGet?(g=i(S,p),y=g&&g.value):y=S[p]),d=l&&y?y:e[p],l&&typeof m===typeof d||(v=t.bind&&l?s(d,r):t.wrap&&l?h(d):T&&"function"==typeof d?s(Function.call,d):d,(t.sham||d&&d.sham||m&&m.sham)&&u(v,"sham",!0),_[p]=v,T&&(f=b+"Prototype",c(a,f)||u(a,f,{}),a[f][p]=d,t.real&&I&&!I[p]&&u(I,p,d)))}},a691:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},a79d:function(t,e,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),a=n("d066"),s=n("4840"),u=n("cdf9"),c=n("6eeb");r({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=s(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),i||"function"!=typeof o||o.prototype["finally"]||c(o.prototype,"finally",a("Promise").prototype["finally"])},abfd:function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.r(e),n.d(e,"LogLevel",(function(){return i})),n.d(e,"Logger",(function(){return u})),n.d(e,"setLogLevel",(function(){return c}));var i,o=[];(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(i||(i={}));var a=i.INFO,s=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var a=(new Date).toISOString();switch(e){case i.DEBUG:console.log.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.VERBOSE:console.log.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.INFO:console.info.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.WARN:console.warn.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.ERROR:console.error.apply(console,r(["["+a+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.ERROR],t))},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(t){o.forEach((function(e){e.logLevel=t}))}},ae93:function(t,e,n){"use strict";var r,i,o,a=n("e163"),s=n("9112"),u=n("5135"),c=n("b622"),h=n("c430"),l=c("iterator"),f=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):f=!0),void 0==r&&(r={}),h||u(r,l)||s(r,l,p),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},b041:function(t,e,n){"use strict";var r=n("f5df"),i=n("b622"),o=i("toStringTag"),a={};a[o]="z",t.exports="[object z]"!==String(a)?function(){return"[object "+r(this)+"]"}:a.toString},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,u="name";!r||u in o||i(o,u,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},b301:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!n||!r((function(){n.call(null,e||function(){throw 1},1)}))}},b39a:function(t,e,n){var r=n("d066");t.exports=r("navigator","userAgent")||""},b575:function(t,e,n){var r,i,o,a,s,u,c,h,l=n("da84"),f=n("06cf").f,p=n("c6b6"),d=n("2cf4").set,m=n("b39a"),y=l.MutationObserver||l.WebKitMutationObserver,v=l.process,g=l.Promise,b="process"==p(v),w=f(l,"queueMicrotask"),E=w&&w.value;E||(r=function(){var t,e;b&&(t=v.domain)&&t.exit();while(i){e=i.fn,i=i.next;try{e()}catch(n){throw i?a():o=void 0,n}}o=void 0,t&&t.enter()},b?a=function(){v.nextTick(r)}:y&&!/(iphone|ipod|ipad).*applewebkit/i.test(m)?(s=!0,u=document.createTextNode(""),new y(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):g&&g.resolve?(c=g.resolve(void 0),h=c.then,a=function(){h.call(c,r)}):a=function(){d.call(l,r)}),t.exports=E||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},b622:function(t,e,n){var r=n("da84"),i=n("5692"),o=n("90e3"),a=n("4930"),s=r.Symbol,u=i("wks");t.exports=function(t){return u[t]||(u[t]=a&&s[t]||(a?s:o)("Symbol."+t))}},b727:function(t,e,n){var r=n("f8c2"),i=n("44ad"),o=n("7b0b"),a=n("50c4"),s=n("65f0"),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,h=4==t,l=6==t,f=5==t||l;return function(p,d,m,y){for(var v,g,b=o(p),w=i(b),E=r(d,m,3),T=a(w.length),S=0,_=y||s,I=e?_(p,T):n?_(p,0):void 0;T>S;S++)if((f||S in w)&&(v=w[S],g=E(v,S,b),t))if(e)I[S]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:u.call(I,v)}else if(h)return!1;return l?-1:c||h?h:I}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},b7aa:function(t,e,n){"use strict";(function(t){var e=n("c23d"),r=n.n(e);(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i="undefined"!=typeof window&&window===this?this:"undefined"!=typeof t&&null!=t?t:this;function o(t,e){if(e){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}t=t[t.length-1],o=r[t],e=e(o),e!=o&&null!=e&&n(r,t,{configurable:!0,writable:!0,value:e})}}function a(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:a(t)}}o("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.o=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ja(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Ja(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,s--,0==s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ja(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var u=u||{},c=this||self;function h(t){return"string"==typeof t}function l(t){return"boolean"==typeof t}var f=/^[\w+/_-]+[=]{0,2}$/,p=null;function d(){}function m(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function y(t){return null===t}function v(t){return"array"==m(t)}function g(t){var e=m(t);return"array"==e||"object"==e&&"number"==typeof t.length}function b(t){return"function"==m(t)}function w(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var E="closure_uid_"+(1e9*Math.random()>>>0),T=0;function S(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S:_,I.apply(null,arguments)}function A(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now||function(){return+new Date};function k(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.fd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function R(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function x(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}k(D,Error),D.prototype.name="CustomError",k(O,D),O.prototype.name="AssertionError",x.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new x((function(){return new F}),(function(t){t.reset()}));function U(){var t=Yt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function F(){this.next=this.b=this.a=null}function q(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||c,r.Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(w(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}L.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(h(t))return h(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=h(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function B(t,e){for(var n=h(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}var W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=h(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=h(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t){t:{for(var e=Va,n=t.length,r=h(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:h(t)?t.charAt(e):t[e]}function Q(t,e){return 0<=V(t,e)}function z(t,e){var n;return e=V(t,e),(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function H(t,e){B(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function X(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function J(t){for(var e in t)return!1;return!0}function Z(t){var e,n={};for(e in t)n[e]=t[e];return n}var tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<tt.length;o++)n=tt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function nt(t,e){this.a=t===ot&&e||"",this.b=it}function rt(t){return t instanceof nt&&t.constructor===nt&&t.b===it?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}nt.prototype.qa=!0,nt.prototype.pa=function(){return this.a},nt.prototype.toString=function(){return"Const{"+this.a+"}"};var it={},ot={},at=new nt(ot,"");function st(){this.a="",this.b=ft}function ut(t){return t instanceof st&&t.constructor===st&&t.b===ft?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+m(t)),"type_error:TrustedResourceUrl")}function ct(t,e){var n=rt(t);if(!lt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(ht,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof nt?rt(t):encodeURIComponent(String(t))})),pt(t)}st.prototype.qa=!0,st.prototype.pa=function(){return this.a.toString()},st.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ht=/%{(\w+)}/g,lt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ft={};function pt(t){var e=new st;return e.a=t,e}var dt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},mt=/&/g,yt=/</g,vt=/>/g,gt=/"/g,bt=/'/g,wt=/\x00/g,Et=/[\x00&<>"']/;function Tt(t,e){return-1!=t.indexOf(e)}function St(t,e){return t<e?-1:t>e?1:0}function _t(){this.a="",this.b=Nt}function It(t){return t instanceof _t&&t.constructor===_t&&t.b===Nt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+m(t)),"type_error:SafeUrl")}_t.prototype.qa=!0,_t.prototype.pa=function(){return this.a.toString()},_t.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var At=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ct(t){return t instanceof _t?t:(t="object"==typeof t&&t.qa?t.pa():String(t),At.test(t)||(t="about:invalid#zClosurez"),Dt(t))}var kt,Nt={};function Dt(t){var e=new _t;return e.a=t,e}Dt("about:blank");t:{var Ot=c.navigator;if(Ot){var Rt=Ot.userAgent;if(Rt){kt=Rt;break t}}kt=""}function xt(t){return Tt(kt,t)}function Pt(){this.a="",this.b=Mt}function Lt(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Mt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+m(t)),"type_error:SafeHtml")}Pt.prototype.qa=!0,Pt.prototype.pa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function Ut(t){var e=new Pt;return e.a=t,e}Ut("<!DOCTYPE html>");var Ft,qt,Vt=Ut("");function jt(t){var e=pt(rt(at));q(t,"HTMLIFrameElement"),t.src=ut(e).toString()}function Bt(t,e){q(t,"HTMLScriptElement"),t.src=ut(e),null===p&&(e=c.document,p=(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&f.test(e)?e:""),e=p,e&&t.setAttribute("nonce",e)}function Wt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Kt(t){return Et.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(mt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(yt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(vt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(gt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(bt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(wt,"&#0;"))),t}function Gt(t){c.setTimeout((function(){throw t}),0)}function Qt(){var t=c.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!xt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",jt(t),document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(Lt(Vt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=I((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!xt("Trident")&&!xt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){c.setTimeout(t,0)}}function zt(t,e){qt||Ht(),$t||(qt(),$t=!0),Yt.add(t,e)}function Ht(){if(c.Promise&&c.Promise.resolve){var t=c.Promise.resolve(void 0);qt=function(){t.then(Xt)}}else qt=function(){var t=Xt;!b(c.setImmediate)||c.Window&&c.Window.prototype&&!xt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Ft||(Ft=Qt()),Ft(t)):c.setImmediate(t)}}Ut("<br>");var $t=!1,Yt=new L;function Xt(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){Gt(e)}P(M,t)}$t=!1}function Jt(t,e){if(this.a=Zt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=d)try{var n=this;t.call(e,(function(t){pe(n,te,t)}),(function(t){if(!(t instanceof Te))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}pe(n,ee,t)}))}catch(r){pe(this,ee,r)}}var Zt=0,te=2,ee=3;function ne(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ne.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var re=new x((function(){return new ne}),(function(t){t.reset()}));function ie(t,e,n){var r=re.get();return r.g=t,r.b=e,r.f=n,r}function oe(t){if(t instanceof Jt)return t;var e=new Jt(d);return pe(e,te,t),e}function ae(t){return new Jt((function(e,n){n(t)}))}function se(t,e,n){de(t,e,n,null)||zt(A(e,t))}function ue(t){return new Jt((function(e,n){var r=t.length,i=[];if(r)for(var o,a=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},u=0;u<t.length;u++)o=t[u],se(o,A(a,u),s);else e(i)}))}function ce(t){return new Jt((function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],se(i,A(o,a,!0),A(o,a,!1));else e(r)}))}function he(t,e){if(t.a==Zt)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Zt&&1==r?he(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):ve(n),ge(n,i,ee,e)))}t.c=null}else pe(t,ee,e)}function le(t,e){t.b||t.a!=te&&t.a!=ee||ye(t),t.f?t.f.next=e:t.b=e,t.f=e}function fe(t,e,n,r){var i=ie(null,null,null);return i.a=new Jt((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Te?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,le(t,i),i.a}function pe(t,e,n){t.a==Zt&&(t===n&&(e=ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,de(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,ye(t),e!=ee||n instanceof Te||we(t,n)))}function de(t,e,n,r){if(t instanceof Jt)return le(t,ie(e||d,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(w(t))try{var i=t.then;if(b(i))return me(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function me(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}function ye(t){t.h||(t.h=!0,zt(t.Zb,t))}function ve(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function ge(t,e,n,r){if(n==ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,be(e,n,r);else try{e.c?e.g.call(e.f):be(e,n,r)}catch(i){Ee.call(null,i)}P(re,e)}function be(t,e,n){e==te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function we(t,e){t.g=!0,zt((function(){t.g&&Ee.call(null,e)}))}Jt.prototype.then=function(t,e,n){return fe(this,b(t)?t:null,b(e)?e:null,n)},Jt.prototype.$goog_Thenable=!0,e=Jt.prototype,e.ka=function(t,e){return t=ie(t,t,e),t.c=!0,le(this,t),this},e.s=function(t,e){return fe(this,null,t,e)},e.cancel=function(t){this.a==Zt&&zt((function(){var e=new Te(t);he(this,e)}),this)},e.Oc=function(t){this.a=Zt,pe(this,te,t)},e.Pc=function(t){this.a=Zt,pe(this,ee,t)},e.Zb=function(){for(var t;t=ve(this);)ge(this,t,this.a,this.i);this.h=!1};var Ee=Gt;function Te(t){D.call(this,t)}function Se(){0!=_e&&(Ie[this[E]||(this[E]=++T)]=this),this.ta=this.ta,this.la=this.la}k(Te,D),Te.prototype.name="cancel";var _e=0,Ie={};function Ae(t){if(!t.ta&&(t.ta=!0,t.xa(),0!=_e)){var e=t[E]||(t[E]=++T);if(0!=_e&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ie[e]}}function Ce(t){return Ce[" "](t),t}function ke(t,e){var n=je;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Se.prototype.ta=!1,Se.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},Ce[" "]=d;var Ne,De=xt("Opera"),Oe=xt("Trident")||xt("MSIE"),Re=xt("Edge"),xe=Re||Oe,Pe=xt("Gecko")&&!(Tt(kt.toLowerCase(),"webkit")&&!xt("Edge"))&&!(xt("Trident")||xt("MSIE"))&&!xt("Edge"),Le=Tt(kt.toLowerCase(),"webkit")&&!xt("Edge");function Me(){var t=c.document;return t?t.documentMode:void 0}t:{var Ue="",Fe=function(){var t=kt;return Pe?/rv:([^\);]+)(\)|;)/.exec(t):Re?/Edge\/([\d\.]+)/.exec(t):Oe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Le?/WebKit\/(\S+)/.exec(t):De?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Fe&&(Ue=Fe?Fe[1]:""),Oe){var qe=Me();if(null!=qe&&qe>parseFloat(Ue)){Ne=String(qe);break t}}Ne=Ue}var Ve,je={};function Be(t){return ke(t,(function(){for(var e=0,n=dt(String(Ne)).split("."),r=dt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=St(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||St(0==a[2].length,0==s[2].length)||St(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}Ve=c.document&&Oe?Me():void 0;var We=Object.freeze||function(t){return t},Ke=!Oe||9<=Number(Ve),Ge=Oe&&!Be("9"),Qe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{c.addEventListener("test",d,e),c.removeEventListener("test",d,e)}catch(n){}return t}();function ze(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function He(t,e){if(ze.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Pe){t:{try{Ce(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=h(t.pointerType)?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}ze.prototype.preventDefault=function(){this.Mb=!1},k(He,ze);var $e=We({2:"touch",3:"pen",4:"mouse"});He.prototype.preventDefault=function(){He.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},He.prototype.f=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Na=i,this.key=++Xe,this.ra=this.Ia=!1}function Ze(t){t.ra=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&z(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ra&&o.listener==e&&o.capture==!!n&&o.Na==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=nn(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):(e=new Je(e,this.src,o,!!r,i),e.Ia=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(v(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=gn(n),t&&t[Ye]?wn(t,e,n,w(r)?!!r.capture:!!r,i):sn(t,e,n,!1,r,i)}function sn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=w(i)?!!i.capture:!!i,s=yn(t);if(s||(t[rn]=s=new tn(t)),n=s.add(e,n,r,a,o),!n.proxy){if(r=un(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function un(){var t=mn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function cn(t,e,n,r,i){if(v(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=gn(n),t&&t[Ye]?En(t,e,n,w(r)?!!r.capture:!!r,i):sn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(v(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=w(r)?!!r.capture:!!r,n=gn(n),t&&t[Ye]?(t=t.u,e=String(e).toString(),e in t.a&&(o=t.a[e],n=nn(o,n,r,i),-1<n&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.ra){var e=t.src;if(e&&e[Ye])en(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function fn(t){return t in on?on[t]:on[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ra&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Na||t.src;return t.Ia&&ln(t),n.call(r,e)}function mn(t,e){if(t.ra)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=c,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}if(r=e,e=new He(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new He(e,this))}function yn(t){return t=t[rn],t instanceof tn?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return b(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function bn(){Se.call(this),this.u=new tn(this),this.Sb=this,this.Wa=null}function wn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function Tn(t,e,n,r){if(e=t.u.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ra&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&en(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function Sn(t,e,n){if(b(t))n&&(t=I(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:c.setTimeout(t,e||0)}function _n(t){var e=null;return new Jt((function(n,r){e=Sn((function(){n(void 0)}),t),-1==e&&r(Error("Failed to schedule timer."))})).s((function(t){throw c.clearTimeout(e),t}))}function In(t){if(t.U&&"function"==typeof t.U)return t.U();if(h(t))return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(g(t)||h(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Cn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||h(t))j(t,e,void 0);else for(var n=An(t),r=In(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Dn(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(bn,Se),bn.prototype[Ye]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Sb;var r=t.type||t;if(h(t))t=new ze(t,n);else if(t instanceof ze)t.target=t.target||n;else{var i=t;t=new ze(r,n),et(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Tn(a,r,!0,t)&&i}if(a=t.b=n,i=Tn(a,r,!0,t)&&i,i=Tn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)a=t.b=e[o],i=Tn(a,r,!1,t)&&i;return i},bn.prototype.xa=function(){if(bn.qb.xa.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.Wa=null},e=kn.prototype,e.U=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return Nn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},e.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function xn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof xn?(this.h=void 0!==e?e:t.h,Pn(this,t.f),this.i=t.i,this.b=t.b,Ln(this,t.l),this.c=t.c,Mn(this,er(t.a)),this.g=t.g):t&&(n=String(t).match(On))?(this.h=!!e,Pn(this,n[1]||"",!0),this.i=jn(n[2]||""),this.b=jn(n[3]||"",!0),Ln(this,n[4]),this.c=jn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.g=jn(n[7]||"")):(this.h=!!e,this.a=new $n(null,this.h))}function Pn(t,e,n){t.f=n?jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Mn(t,e,n){e instanceof $n?(t.a=e,rr(t.a,t.h)):(n||(e=Bn(e,zn)),t.a=new $n(e,t.h))}function Un(t,e,n){t.a.set(e,n)}function Fn(t,e){return t.a.get(e)}function qn(t){return t instanceof xn?new xn(t):new xn(t,void 0)}function Vn(t,e){var n=new xn(null,void 0);return Pn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return h(t)?(t=encodeURI(t).replace(e,Wn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wn(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}xn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Bn(e,Kn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Bn(e,Kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.l,null!=n&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Qn:Gn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Bn(n,Hn)),t.join("")},xn.prototype.resolve=function(t){var e=new xn(this),n=!!t.f;n?Pn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Ln(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(Tt(i,"./")||Tt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Mn(e,er(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Kn=/[#\/\?@]/g,Gn=/[#\?:]/g,Qn=/[#\?]/g,zn=/[#\?@]/g,Hn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new kn,t.b=0,t.c&&Rn(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xn(t){var e=An(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=In(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];v(o)?tr(n,i,o):n.add(i,o)}return n}function Jn(t,e){Yn(t),e=nr(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Dn(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Zn(t,e){return Yn(t),e=nr(t,e),Dn(t.a.b,e)}function tr(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),Y(n)),t.b+=n.length)}function er(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),tr(this,n,t))}),t)),t.f=e}e=$n.prototype,e.add=function(t,e){Yn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Yn(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.X=function(){Yn(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.U=function(t){Yn(this);var e=[];if(h(t))Zn(this,t)&&(e=$(e,this.a.get(nr(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},e.set=function(t,e){return Yn(this),this.c=null,t=nr(this,t),Zn(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t?(t=this.U(t),0<t.length?String(t[0]):e):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ir=!Oe||9<=Number(Ve);function or(t){var e=document;return h(t)?e.getElementById(t):t}function ar(t,e){X(e,(function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:sr.hasOwnProperty(n)?t.setAttribute(sr[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var sr={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ur(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ir&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Kt(a.name),'"'),a.type){o.push(' type="',Kt(a.type),'"');var s={};et(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(h(a)?o.className=a:v(a)?o.className=a.join(" "):ar(o,a)),2<r.length&&cr(i,o,r),o}function cr(t,e,n){function r(n){n&&e.appendChild(h(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!g(o)||w(o)&&0<o.nodeType?r(o):j(hr(o)?Y(o):o,r)}}function hr(t){if(t&&"number"==typeof t.length){if(w(t))return"function"==typeof t.item||"string"==typeof t.item;if(b(t))return"function"==typeof t.item}return!1}function lr(t){var e=[];return pr(new fr,t,e),e.join("")}function fr(){}function pr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(v(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),pr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],"function"!=typeof o&&(n.push(i),yr(r,n),n.push(":"),pr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":yr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}var dr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},mr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function yr(t,e){e.push('"',t.replace(mr,(function(t){var e=dr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),dr[t]=e),e})),'"')}function vr(){var t=jr();return Oe&&!!Ve&&11==Ve||/Edge\/\d+/.test(t)}function gr(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function br(t,e){e=e||c.window;var n="about:blank";t&&(n=It(Ct(t)).toString()),e.location.href=n}function wr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<wr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function Er(){var t=jr();return t=Fr(t)!=Ur?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!Oe||!Ve||9<Ve)}function Tr(t){return t=(t||jr()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Sr(t){t=t||c.window;try{t.close()}catch(e){}}function _r(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=jr().toLowerCase(),r&&(e.target=r,Tt(n,"crios/")&&(e.target="_blank")),Fr(jr())==Mr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof _t?n:Ct("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((xt("iPhone")&&!xt("iPod")&&!xt("iPad")||xt("iPad")||xt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),q(a,"HTMLAnchorElement"),e instanceof _t||e instanceof _t||(e="object"==typeof e&&e.qa?e.pa():String(e),At.test(e)||(e="about:invalid#zClosurez"),e=Dt(e)),a.href=It(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=It(e).toString(),a&&(xe&&Tt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Ut('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Kt(t)+'">'),a.document.write(Lt(t)),a.document.close())):(a=r.open(It(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}function Ir(t){return new Jt((function(e){function n(){_n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}return n()}))}var Ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cr=/^[^@]+@[^@]+$/;function kr(){var t=null;return new Jt((function(e){"complete"==c.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).s((function(e){throw hn(window,"load",t),e}))}function Nr(){return Dr(void 0)?kr().then((function(){return new Jt((function(t,e){var n=c.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ae(Error("Cordova must run in an Android or iOS file scheme."))}function Dr(t){return t=t||jr(),!("file:"!==Qr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Or(){var t=c.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Rr(){return"undefined"!==typeof c.WorkerGlobalScope&&"function"===typeof c.importScripts}function xr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":Rr()?"Worker":"Browser"}function Pr(){var t=xr();return"ReactNative"===t||"Node"===t}function Lr(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}var Mr="Firefox",Ur="Chrome";function Fr(t){var e=t.toLowerCase();return Tt(e,"opera/")||Tt(e,"opr/")||Tt(e,"opios/")?"Opera":Tt(e,"iemobile")?"IEMobile":Tt(e,"msie")||Tt(e,"trident/")?"IE":Tt(e,"edge/")?"Edge":Tt(e,"firefox/")?Mr:Tt(e,"silk/")?"Silk":Tt(e,"blackberry")?"Blackberry":Tt(e,"webos")?"Webos":!Tt(e,"safari/")||Tt(e,"chrome/")||Tt(e,"crios/")||Tt(e,"android")?!Tt(e,"chrome/")&&!Tt(e,"crios/")||Tt(e,"edge/")?Tt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ur:"Safari"}var qr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function Vr(t,e){e=e||[];var n,r=[],i={};for(n in qr)i[qr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=xr(),"Browser"===r?(i=jr(),r=Fr(i)):"Worker"===r&&(i=jr(),r=Fr(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function jr(){return c.navigator&&c.navigator.userAgent||""}function Br(t,e){t=t.split("."),e=e||c;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Wr(){try{var t=c.localStorage,e=Xr();if(t)return t.setItem(e,"1"),t.removeItem(e),!vr()||!!c.indexedDB}catch(n){return Rr()&&!!c.indexedDB}return!1}function Kr(){return(Gr()||"chrome-extension:"===Qr()||Dr())&&!Pr()&&Wr()&&!Rr()}function Gr(){return"http:"===Qr()||"https:"===Qr()}function Qr(){return c.location&&c.location.protocol||null}function zr(t){return t=t||jr(),!Tr(t)&&Fr(t)!=Mr}function Hr(t){return"undefined"===typeof t?null:lr(t)}function $r(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Yr(t){if(null!==t)return JSON.parse(t)}function Xr(t){return t||Math.floor(1e9*Math.random()).toString()}function Jr(t){return t=t||jr(),"Safari"!=Fr(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Zr(){var t=c.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function ti(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=jr(),e=xr(),this.b=Tr(t)||"ReactNative"===e}function ei(){var t=c.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function ni(){var t=c.document,e=null;return ei()||!t?oe():new Jt((function(n){e=function(){ei()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}function ri(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function ii(){return!(!Br("fireauth.oauthhelper",c)&&!Br("fireauth.iframe",c))}function oi(){var t=c.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function ai(){var t=c.navigator;return t&&t.serviceWorker?oe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):oe(null)}ti.prototype.get=function(){var t=c.navigator;return!t||"boolean"!==typeof t.onLine||!Gr()&&"chrome-extension:"!==Qr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var si,ui={};function ci(t){ui[t]||(ui[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var hi={};Object.defineProperty(hi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(hi,"abcd",{configurable:!0,enumerable:!0,value:2}),si=2==hi.abcd}catch(ep){si=!1}function li(t,e,n){si?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function fi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&li(t,n,e[n])}function pi(t){var e={};return fi(e,t),e}function di(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function mi(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function yi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)li(e,n,yi(t[n]));return e}function vi(t){var e={},n=t[bi],r=t[wi];if(t=t[Ei],!t||t!=gi&&!n)throw Error("Invalid provider user info!");e[Si]=r||null,e[Ti]=n||null,li(this,Ii,t),li(this,_i,yi(e))}var gi="EMAIL_SIGNIN",bi="email",wi="newEmail",Ei="requestType",Ti="email",Si="fromEmail",_i="data",Ii="operation";function Ai(t,e){this.code=ki+t,this.message=e||Ni[t]||""}function Ci(t){var e=t&&t.code;return e?new Ai(e.substring(ki.length),t.message):null}k(Ai,Error),Ai.prototype.A=function(){return{code:this.code,message:this.message}},Ai.prototype.toJSON=function(){return this.A()};var ki="auth/",Ni={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Di(t){t=qn(t);var e=Fn(t,Oi)||null,n=Fn(t,Ri)||null,r=Fn(t,Li)||null;if(r=r&&Ui[r]||null,!e||!n||!r)throw new Ai("argument-error",Oi+", "+Ri+"and "+Li+" are required in a valid action code URL.");fi(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,xi)||null,languageCode:Fn(t,Pi)||null,tenantId:Fn(t,Mi)||null})}var Oi="apiKey",Ri="oobCode",xi="continueUrl",Pi="languageCode",Li="mode",Mi="tenantId",Ui={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:gi,verifyEmail:"VERIFY_EMAIL"};function Fi(t){try{return new Di(t)}catch(e){return null}}function qi(t){var e=t[Ki];if("undefined"===typeof e)throw new Ai("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new Ai("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Vi];if(n&&"object"===typeof n){e=n[zi];var r=n[Gi];if(n=n[Qi],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new Ai("argument-error",Gi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new Ai("argument-error",Qi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new Ai("argument-error",zi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new Ai("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new Ai("argument-error",Vi+" property must be a non null object when specified.");if(this.f=null,(e=t[Wi])&&"object"===typeof e){if(e=e[Hi],"string"===typeof e&&e.length)this.f=e;else if("undefined"!==typeof e)throw new Ai("argument-error",Hi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new Ai("argument-error",Wi+" property must be a non null object when specified.");if(e=t[Bi],"undefined"!==typeof e&&"boolean"!==typeof e)throw new Ai("argument-error",Bi+" property must be a boolean when specified.");if(this.c=!!e,t=t[ji],"undefined"!==typeof t&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new Ai("argument-error",ji+" property must be a non empty string when specified.");this.i=t||null}var Vi="android",ji="dynamicLinkDomain",Bi="handleCodeInApp",Wi="iOS",Ki="url",Gi="installApp",Qi="minimumVersion",zi="packageName",Hi="bundleId";function $i(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}function Yi(t){return W(t,(function(t){return t=t.toString(16),1<t.length?t:"0"+t})).join("")}var Xi=null,Ji=null;function Zi(t){var e="";return to(t,(function(t){e+=String.fromCharCode(t)})),e}function to(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}eo();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function eo(){if(!Xi){Xi={},Ji={};for(var t=0;65>t;t++)Xi[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Ji[Xi[t]]=t,62<=t&&(Ji["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}function no(t){this.f=t.sub,C(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function ro(t){return(t=io(t))&&t.sub&&t.iss&&t.aud&&t.exp?new no(t):null}function io(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Zi(t))}catch(r){}return null}no.prototype.R=function(){return this.c},no.prototype.g=function(){return this.b};var oo,ao={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function so(t){for(var e in ao)if(ao[e].id===t)return t=ao[e],{firebaseEndpoint:t.bb,secureTokenEndpoint:t.ib};return null}oo=so("__EID__")?"__EID__":void 0;var uo="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),co=["client_id","response_type","scope","redirect_uri","state"],ho={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:co},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:co},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:co},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:uo}};function lo(t){for(var e in ho)if(ho[e].Pa==t)return ho[e];return null}function fo(t){var e={};e["facebook.com"]=go,e["google.com"]=wo,e["github.com"]=bo,e["twitter.com"]=Eo;var n=t&&t[mo];try{if(n)return e[n]?new e[n](t):new vo(t);if("undefined"!==typeof t[po])return new yo(t)}catch(r){}return null}var po="idToken",mo="providerId";function yo(t){var e=t[mo];if(!e&&t[po]){var n=ro(t[po]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),li(this,"providerId",e),li(this,"isNewUser",n)}function vo(t){yo.call(this,t),t=Yr(t.rawUserInfo||"{}"),li(this,"profile",yi(t||{}))}function go(t){if(vo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function bo(t){if(vo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");li(this,"username",this.profile&&this.profile.login||null)}function wo(t){if(vo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Eo(t){if(vo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");li(this,"username",t.screenName||null)}function To(t){var e=qn(t),n=Fn(e,"link"),r=Fn(qn(n),"link");return e=Fn(e,"deep_link_id"),Fn(qn(e),"link")||e||r||n||t}function So(){}function _o(t,e){return t.then((function(t){if(t[vs]){var n=ro(t[vs]);if(!n||e!=n.f)throw new Ai("user-mismatch");return t}throw new Ai("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==ki+"user-not-found"?new Ai("user-mismatch"):t}))}function Io(t,e){if(!e)throw new Ai("internal-error","failed to construct a credential");this.a=e,li(this,"providerId",t),li(this,"signInMethod",t)}function Ao(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Io(t.providerId,t.pendingToken)}catch(e){}return null}function ko(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&li(this,"idToken",e.idToken),e.accessToken&&li(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&li(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Ai("internal-error","failed to construct a credential");li(this,"accessToken",e.oauthToken),li(this,"secret",e.oauthTokenSecret)}li(this,"providerId",t),li(this,"signInMethod",n)}function No(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Do(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ko(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Oo(t,e){this.Fc=e||[],fi(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(lo(t)||{}).Oa||null,this.ab=null}function Ro(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new Ai("argument-error",'SAML provider IDs must be prefixed with "saml."');Oo.call(this,t,[])}function xo(t){Oo.call(this,t,co),this.a=[]}function Po(){xo.call(this,"facebook.com")}function Lo(t){if(!t)throw new Ai("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return w(t)&&(e=t.accessToken),(new Po).credential({accessToken:e})}function Mo(){xo.call(this,"github.com")}function Uo(t){if(!t)throw new Ai("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return w(t)&&(e=t.accessToken),(new Mo).credential({accessToken:e})}function Fo(){xo.call(this,"google.com"),this.wa("profile")}function qo(t,e){var n=t;return w(t)&&(n=t.idToken,e=t.accessToken),(new Fo).credential({idToken:n,accessToken:e})}function Vo(){Oo.call(this,"twitter.com",uo)}function jo(t,e){var n=t;if(w(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Ai("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ko("twitter.com",n,"twitter.com")}function Bo(t,e,n){this.a=t,this.c=e,li(this,"providerId","password"),li(this,"signInMethod",n===Ko.EMAIL_LINK_SIGN_IN_METHOD?Ko.EMAIL_LINK_SIGN_IN_METHOD:Ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Wo(t){return t&&t.email&&t.password?new Bo(t.email,t.password,t.signInMethod):null}function Ko(){fi(this,{providerId:"password",isOAuthProvider:!1})}function Go(t,e){if(e=Qo(e),!e)throw new Ai("argument-error","Invalid email link!");return new Bo(t,e.code,Ko.EMAIL_LINK_SIGN_IN_METHOD)}function Qo(t){return t=To(t),(t=Fi(t))&&t.operation===gi?t:null}function zo(t){if(!(t.Ua&&t.Ta||t.Fa&&t.ba))throw new Ai("internal-error");this.a=t,li(this,"providerId","phone"),li(this,"signInMethod","phone")}function Ho(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new zo(e)}return null}function $o(t){return t.a.Fa&&t.a.ba?{temporaryProof:t.a.Fa,phoneNumber:t.a.ba}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function Yo(t){try{this.a=t||r.a.auth()}catch(e){throw new Ai("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}fi(this,{providerId:"phone",isOAuthProvider:!1})}function Xo(t,e){if(!t)throw new Ai("missing-verification-id");if(!e)throw new Ai("missing-verification-code");return new zo({Ua:t,Ta:e})}function Jo(t){if(t.temporaryProof&&t.phoneNumber)return new zo({Fa:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return qo(o,n);case"facebook.com":return Lo(n);case"github.com":return Uo(n);case"twitter.com":return jo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Io(e,a):new ko(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new xo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Zo(t){if(!t.isOAuthProvider)throw new Ai("invalid-oauth-provider")}function ta(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Ai("invalid-auth-event");if(this.g&&this.a)throw new Ai("invalid-auth-event");if(this.g&&!this.f)throw new Ai("invalid-auth-event")}function ea(t){return t=t||{},t.type?new ta(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Ci(t.error),t.postBody,t.tenantId):null}function na(){this.b=null,this.a=[]}k(vo,yo),k(go,vo),k(bo,vo),k(wo,vo),k(Eo,vo),Io.prototype.na=function(t){return Bs(t,Ao(this))},Io.prototype.b=function(t,e){var n=Ao(this);return n.idToken=e,Ws(t,n)},Io.prototype.f=function(t,e){return _o(Ks(t,Ao(this)),e)},Io.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ko.prototype.na=function(t){return Bs(t,No(this))},ko.prototype.b=function(t,e){var n=No(this);return n.idToken=e,Ws(t,n)},ko.prototype.f=function(t,e){var n=No(this);return _o(Ks(t,n),e)},ko.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Oo.prototype.Ea=function(t){return this.zb=Z(t),this},k(Ro,Oo),k(xo,Oo),xo.prototype.wa=function(t){return Q(this.a,t)||this.a.push(t),this},xo.prototype.Hb=function(){return Y(this.a)},xo.prototype.credential=function(t,e){var n;if(n=w(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null},!n.idToken&&!n.accessToken)throw new Ai("argument-error","credential failed: must provide the ID token and/or the access token.");return new ko(this.providerId,n,this.providerId)},k(Po,xo),li(Po,"PROVIDER_ID","facebook.com"),li(Po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(Mo,xo),li(Mo,"PROVIDER_ID","github.com"),li(Mo,"GITHUB_SIGN_IN_METHOD","github.com"),k(Fo,xo),li(Fo,"PROVIDER_ID","google.com"),li(Fo,"GOOGLE_SIGN_IN_METHOD","google.com"),k(Vo,Oo),li(Vo,"PROVIDER_ID","twitter.com"),li(Vo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Bo.prototype.na=function(t){return this.signInMethod==Ko.EMAIL_LINK_SIGN_IN_METHOD?bu(t,Js,{email:this.a,oobCode:this.c}):bu(t,mu,{email:this.a,password:this.c})},Bo.prototype.b=function(t,e){return this.signInMethod==Ko.EMAIL_LINK_SIGN_IN_METHOD?bu(t,Zs,{idToken:e,email:this.a,oobCode:this.c}):bu(t,cu,{idToken:e,email:this.a,password:this.c})},Bo.prototype.f=function(t,e){return _o(this.na(t),e)},Bo.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},fi(Ko,{PROVIDER_ID:"password"}),fi(Ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),fi(Ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),zo.prototype.na=function(t){return t.Va($o(this))},zo.prototype.b=function(t,e){var n=$o(this);return n.idToken=e,bu(t,vu,n)},zo.prototype.f=function(t,e){var n=$o(this);return n.operation="REAUTH",t=bu(t,gu,n),_o(t,e)},zo.prototype.A=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.ba&&(t.phoneNumber=this.a.ba),t},Yo.prototype.Va=function(t,e){var n=this.a.b;return oe(e.verify()).then((function(r){if(!h(r))throw new Ai("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return Us(n,{phoneNumber:t,recaptchaToken:r}).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new Ai("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},fi(Yo,{PROVIDER_ID:"phone"}),fi(Yo,{PHONE_SIGN_IN_METHOD:"phone"}),ta.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},ta.prototype.R=function(){return this.h},ta.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var ra,ia=null;function oa(t){var e=ia;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=Br("universalLinks.subscribe",c),"function"===typeof t&&t(null,e.b))}function aa(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.b,r=r.f,"chrome-extension"==r?n=Wt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Wt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Ai.call(this,e,n)}function sa(t,e,n){Ai.call(this,t,n),t=e||{},t.Ab&&li(this,"email",t.Ab),t.ba&&li(this,"phoneNumber",t.ba),t.credential&&li(this,"credential",t.credential),t.Qb&&li(this,"tenantId",t.Qb)}function ua(t){if(t.code){var e=t.code||"";0==e.indexOf(ki)&&(e=e.substring(ki.length));var n={credential:Jo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Ai(e,t.message||void 0);return new sa(e,n,t.message)}return null}function ca(){}function ha(t){return t.c||(t.c=t.b())}function la(){}function fa(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function pa(){}function da(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.fc,this),this.a.onerror=I(this.Ib,this),this.a.onprogress=I(this.gc,this),this.a.ontimeout=I(this.kc,this)}function ma(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ya(t,e,n){this.reset(t,e,n,void 0,void 0)}k(aa,Ai),k(sa,Ai),sa.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&et(t,e),t},sa.prototype.toJSON=function(){return this.A()},ca.prototype.c=null,k(la,ca),la.prototype.a=function(){var t=fa(this);return t?new ActiveXObject(t):new XMLHttpRequest},la.prototype.b=function(){var t={};return fa(this)&&(t[0]=!0,t[1]=!0),t},ra=new la,k(pa,ca),pa.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new da;throw Error("Unsupported browser")},pa.prototype.b=function(){return{}},e=da.prototype,e.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ma(this,4)},e.Ib=function(){this.status=500,this.response=this.responseText="",ma(this,4)},e.kc=function(){this.Ib()},e.gc=function(){this.status=200,ma(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ya.prototype.a=null;function va(t){this.f=t,this.b=this.c=this.a=null}function ga(t,e){this.name=t,this.value=e}ya.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||C(),delete this.a},ga.prototype.toString=function(){return this.name};var ba=new ga("SEVERE",1e3),wa=new ga("WARNING",900),Ea=new ga("CONFIG",700),Ta=new ga("FINE",500);function Sa(t){return t.c?t.c:t.a?Sa(t.a):(R("Root logger has no level set."),null)}va.prototype.log=function(t,e,n){if(t.value>=Sa(this).value)for(b(e)&&(e=e()),t=new ya(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var _a={},Ia=null;function Aa(t){var e;if(Ia||(Ia=new va(""),_a[""]=Ia,Ia.c=Ea),!(e=_a[t])){e=new va(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=Aa(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,_a[t]=e}return e}function Ca(t,e){t&&t.log(Ta,e,void 0)}function ka(t){this.f=t}function Na(t){bn.call(this),this.o=t,this.readyState=Da,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Aa("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(ka,ca),ka.prototype.a=function(){return new Na(this.f)},ka.prototype.b=function(t){return function(){return t}}({}),k(Na,bn);var Da=0;function Oa(t){t.c.read().then(t.ec.bind(t)).catch(t.Ma.bind(t))}function Ra(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,xa(t)}function xa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Pa(t){bn.call(this),this.headers=new kn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=La,this.v=this.P=!1}e=Na.prototype,e.open=function(t,e){if(this.readyState!=Da)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,xa(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Ma.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ra(this,!1)),this.readyState=Da},e.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,xa(this)),this.a&&(this.readyState=3,xa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):"undefined"!==typeof c.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Oa(this)):t.text().then(this.ic.bind(this),this.Ma.bind(this)))))},e.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Ra(this,!0):xa(this),3==this.readyState&&Oa(this)}},e.ic=function(t){this.a&&(this.response=this.responseText=t,Ra(this,!0))},e.hc=function(t){this.a&&(this.response=t,Ra(this,!0))},e.Ma=function(t){var e=this.h;e&&e.log(wa,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Ra(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(wa,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(wa,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},k(Pa,bn);var La="";Pa.prototype.b=Aa("goog.net.XhrIo");var Ma=/^https?$/i,Ua=["POST","PUT"];function Fa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():ra.a(),t.w=t.B?ha(t.B):ha(ra),t.a.onreadystatechange=I(t.Lb,t);try{Ca(t.b,$a(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(a){return Ca(t.b,$a(t,"Error opening Xhr: "+a.message)),void ja(t,a)}e=r||"";var o=new kn(t.headers);i&&Cn(i,(function(t,e){o.set(e,t)})),i=G(o.X()),r=c.FormData&&e instanceof c.FormData,!Q(Ua,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{Ga(t),0<t.g&&(t.v=qa(t.a),Ca(t.b,$a(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=I(t.Ga,t)):t.o=Sn(t.Ga,t.g,t)),Ca(t.b,$a(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){Ca(t.b,$a(t,"Send error: "+a.message)),ja(t,a)}}function qa(t){return Oe&&Be(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function Va(t){return"content-type"==t.toLowerCase()}function ja(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ba(t),Ka(t)}function Ba(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Wa(t){if(t.c&&"undefined"!=typeof u)if(t.w[1]&&4==Qa(t)&&2==za(t))Ca(t.b,$a(t,"Local request error detected and ignored"));else if(t.i&&4==Qa(t))Sn(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==Qa(t)){Ca(t.b,$a(t,"Request complete")),t.c=!1;try{var e,n=za(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(On)[1]||null;if(!o&&c.self&&c.self.location){var a=c.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ma.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<Qa(t)?t.a.statusText:""}catch(h){Ca(t.b,"Can not get status: "+h.message),s=""}t.h=s+" ["+za(t)+"]",Ba(t)}}finally{Ka(t)}}}function Ka(t,e){if(t.a){Ga(t);var n=t.a,r=t.w[0]?d:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ba,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ga(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(c.clearTimeout(t.o),t.o=null)}function Qa(t){return t.a?t.a.readyState:0}function za(t){try{return 2<Qa(t)?t.a.status:-1}catch(e){return-1}}function Ha(t){try{return t.a?t.a.responseText:""}catch(e){return Ca(t.b,"Can not get responseText: "+e.message),""}}function $a(t,e){return e+" ["+t.O+" "+t.l+" "+za(t)+"]"}function Ya(t){var e=cs;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Xa(t,e,n){t.a=!0,t.c=n,t.f=!e,ns(t)}function Ja(t){if(t.a){if(!t.u)throw new rs(t);t.u=!1}}function Za(t,e){ts(t,null,e,void 0)}function ts(t,e,n,r){t.g.push([e,n,r]),t.a&&ns(t)}function es(t){return K(t.g,(function(t){return b(t[1])}))}function ns(t){if(t.h&&t.a&&es(t)){var e=t.h,n=as[e];n&&(c.clearTimeout(n.a),delete as[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(N(e)||"function"===typeof c.Promise&&e instanceof c.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,es(t)||(n=!0)}}t.c=e,r&&(s=I(t.m,t,!0),r=I(t.m,t,!1),e instanceof Ya?(ts(e,s,r),e.w=!0):e.then(s,r)),n&&(e=new os(e),as[e.a]=e,t.h=e.a)}function rs(){D.call(this)}function is(){D.call(this)}function os(t){this.a=c.setTimeout(I(this.c,this),0),this.b=t}e=Pa.prototype,e.Ga=function(){"undefined"!=typeof u&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ca(this.b,$a(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Ca(this.b,$a(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ka(this))},e.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ka(this,!0)),Pa.qb.xa.call(this)},e.Lb=function(){this.ta||(this.J||this.i||this.f?Wa(this):this.yc())},e.yc=function(){Wa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case La:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ba,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Ca(this.b,"Can not get response: "+e.message),null}},Ya.prototype.cancel=function(t){if(this.a)this.c instanceof Ya&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new is(this),Ja(this),Xa(this,!1,t))}},Ya.prototype.m=function(t,e){this.i=!1,Xa(this,t,e)},Ya.prototype.then=function(t,e,n){var r,i,o=new Jt((function(t,e){r=t,i=e}));return ts(this,r,(function(t){t instanceof is?o.cancel():i(t)})),o.then(t,e,n)},Ya.prototype.$goog_Thenable=!0,k(rs,D),rs.prototype.message="Deferred has already fired",rs.prototype.name="AlreadyCalledError",k(is,D),is.prototype.message="Deferred was canceled",is.prototype.name="CanceledError",os.prototype.c=function(){throw delete as[this.a],this.b};var as={};function ss(t){var e={},n=e.document||document,r=ut(t).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},a=new Ya(o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){hs(i,!0);var t=new ps(fs,"Timeout reached for loading script "+r);Ja(a),Xa(a,!1,t)}),u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(hs(i,e.gd||!1,s),Ja(a),Xa(a,!0,null))},i.onerror=function(){hs(i,!0,s);var t=new ps(ls,"Error while loading script "+r);Ja(a),Xa(a,!1,t)},o=e.attributes||{},et(o,{type:"text/javascript",charset:"UTF-8"}),ar(i,o),Bt(i,t),us(n).appendChild(i),a}function us(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function cs(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&hs(t,!0,this.Ga)}}function hs(t,e,n){null!=n&&c.clearTimeout(n),t.onload=d,t.onerror=d,t.onreadystatechange=d,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var ls=0,fs=1;function ps(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function ds(t){this.f=t}function ms(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||gs,this.g=Z(t.secureTokenHeaders||bs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||ws,this.a=Z(t.firebaseHeaders||Es),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==xr(),n=c.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest,!n&&!Rr())throw new Ai("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Rr()?this.f=new ka(self):Pr()?this.f=new ds(n):this.f=new pa,this.b=null}k(ps,D),k(ds,ca),ds.prototype.a=function(){return new this.f},ds.prototype.b=function(){return{}};var ys,vs="idToken",gs=new ti(3e4,6e4),bs={"Content-Type":"application/x-www-form-urlencoded"},ws=new ti(3e4,6e4),Es={"Content-Type":"application/json"};function Ts(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ss(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function _s(t,e,n,r,i,o,a){Er()||Rr()?t=I(t.o,t):(ys||(ys=new Jt((function(t,e){Cs(t,e)}))),t=I(t.m,t)),t(e,n,r,i,o,a)}ms.prototype.R=function(){return this.b},ms.prototype.o=function(t,e,n,r,i,o){if(Rr()&&("undefined"===typeof c.fetch||"undefined"===typeof c.Headers||"undefined"===typeof c.Request))throw new Ai("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Pa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(Ha(this))||null}catch(n){t=null}e&&e(t)})),En(a,"ready",(function(){s&&clearTimeout(s),Ae(this)})),En(a,"timeout",(function(){s&&clearTimeout(s),Ae(this),e&&e(null)})),Fa(a,t,n,r,i)};var Is=new nt(ot,"https://apis.google.com/js/client.js?onload=%{onload}"),As="__fcb"+Math.floor(1e6*Math.random()).toString();function Cs(t,e){if(((window.gapi||{}).client||{}).request)t();else{c[As]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=ct(Is,{onload:As});Za(ss(n),(function(){e(Error("CORS_UNSUPPORTED"))}))}}function ks(t,e){return new Jt((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?_s(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Eu(t)):t.access_token&&t.refresh_token?n(t):r(new Ai("internal-error")):r(new Ai("network-request-failed"))}),"POST",Xn(e).toString(),t.g,t.u.get()):r(new Ai("internal-error"))}))}function Ns(t,e,n,r,i,o){var a=qn(t.h+e);Un(a,"key",t.c),o&&Un(a,"cb",C().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Un(a,u,r[u]);return new Jt((function(e,o){_s(t,a.toString(),(function(t){t?t.error?o(Eu(t,i||{})):e(t):o(new Ai("network-request-failed"))}),n,s?void 0:lr($r(r)),t.a,t.i.get())}))}function Ds(t){if(t=t.email,!h(t)||!Cr.test(t))throw new Ai("invalid-email")}function Os(t){"email"in t&&Ds(t)}function Rs(t,e){return bu(t,$s,{identifier:e,continueUri:Gr()?gr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}function xs(t){return bu(t,iu,{}).then((function(t){return t.authorizedDomains||[]}))}function Ps(t){if(!t[vs])throw new Ai("internal-error")}function Ls(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Ai("internal-error")}else{if(!t.sessionInfo)throw new Ai("missing-verification-id");if(!t.code)throw new Ai("missing-verification-code")}}ms.prototype.m=function(t,e,n,r,i){var o=this;ys.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},ms.prototype.ob=function(){return bu(this,hu,{})},ms.prototype.rb=function(t,e){return bu(this,uu,{idToken:t,email:e})},ms.prototype.sb=function(t,e){return bu(this,cu,{idToken:t,password:e})};var Ms={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Us(t,e){return bu(t,su,e)}function Fs(t,e,n){return bu(t,Xs,{idToken:e,deleteProvider:n})}function qs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Ai("internal-error")}function Vs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new $n(t.postBody),Zn(t,"nonce")&&(e.nonce=t.get("nonce")))),e}function js(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=ua(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=ua(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=ua(t)):t.errorMessage&&(e=wu(t.errorMessage)),e)throw e;if(!t[vs])throw new Ai("internal-error")}function Bs(t,e){return e.returnIdpCredential=!0,bu(t,lu,e)}function Ws(t,e){return e.returnIdpCredential=!0,bu(t,pu,e)}function Ks(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,bu(t,fu,e)}function Gs(t){if(!t.oobCode)throw new Ai("invalid-action-code")}e=ms.prototype,e.tb=function(t,e){var n={idToken:t},r=[];return X(Ms,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),bu(this,uu,n)},e.kb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},et(t,e),bu(this,ru,t)},e.lb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},et(t,e),bu(this,eu,t)},e.jb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},et(t,e),bu(this,nu,t)},e.Va=function(t){return bu(this,yu,t)},e.$a=function(t,e){return bu(this,au,{oobCode:t,newPassword:e})},e.Ka=function(t){return bu(this,zs,{oobCode:t})},e.Xa=function(t){return bu(this,Qs,{oobCode:t})};var Qs={endpoint:"setAccountInfo",D:Gs,fa:"email",F:!0},zs={endpoint:"resetPassword",D:Gs,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Ai("internal-error")},F:!0},Hs={endpoint:"signupNewUser",D:function(t){if(Ds(t),!t.password)throw new Ai("weak-password")},K:Ps,T:!0,F:!0},$s={endpoint:"createAuthUri",F:!0},Ys={endpoint:"deleteAccount",V:["idToken"]},Xs={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!v(t.deleteProvider))throw new Ai("internal-error")}},Js={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Ds,K:Ps,T:!0,F:!0},Zs={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Ds,K:Ps,T:!0},tu={endpoint:"getAccountInfo"},eu={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Ai("internal-error");Ds(t)},fa:"email",F:!0},nu={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Ai("internal-error")},fa:"email",F:!0},ru={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Ai("internal-error");Ds(t)},fa:"email",F:!0},iu={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ou={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Ai("internal-error")}},au={endpoint:"resetPassword",D:Gs,fa:"email",F:!0},su={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},uu={endpoint:"setAccountInfo",V:["idToken"],D:Os,T:!0},cu={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Os(t),!t.password)throw new Ai("weak-password")},K:Ps,T:!0},hu={endpoint:"signupNewUser",K:Ps,T:!0,F:!0},lu={endpoint:"verifyAssertion",D:qs,Qa:Vs,K:js,T:!0,F:!0},fu={endpoint:"verifyAssertion",D:qs,Qa:Vs,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Ai("user-not-found");if(t.errorMessage)throw wu(t.errorMessage);if(!t[vs])throw new Ai("internal-error")},T:!0,F:!0},pu={endpoint:"verifyAssertion",D:function(t){if(qs(t),!t.idToken)throw new Ai("internal-error")},Qa:Vs,K:js,T:!0},du={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Ai("invalid-custom-token")},K:Ps,T:!0,F:!0},mu={endpoint:"verifyPassword",D:function(t){if(Ds(t),!t.password)throw new Ai("wrong-password")},K:Ps,T:!0,F:!0},yu={endpoint:"verifyPhoneNumber",D:Ls,K:Ps,F:!0},vu={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Ai("internal-error");Ls(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",ua(t);Ps(t)}},gu={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ls,K:Ps,F:!0};function bu(t,e,n){if(!mi(n,e.V))return ae(new Ai("internal-error"));var r,i=e.Kb||"POST";return oe(n).then(e.D).then((function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),Ns(t,e.endpoint,i,n,e.Yb,e.wb||!1)})).then((function(t){return r=t,e.Qa?e.Qa(n,r):r})).then(e.K).then((function(){if(!e.fa)return r;if(!(e.fa in r))throw new Ai("internal-error");return r[e.fa]}))}function wu(t){return Eu({error:{errors:[{message:t}],code:400,message:t}})}function Eu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Ai(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},et(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Ai(r[i],e);return!e&&t&&(e=Hr(t)),new Ai("internal-error",e)}function Tu(t){this.b=t,this.a=null,this.fb=Su(this)}function Su(t){return Du().then((function(){return new Jt((function(e,n){Br("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ku.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}function _u(t,e){return t.fb.then((function(){return new Jt((function(n){t.a.send(e.type,e,n,Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}function Iu(t,e){t.fb.then((function(){t.a.register("authEvent",e,Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}var Au=new nt(ot,"https://apis.google.com/js/api.js?onload=%{onload}"),Cu=new ti(3e4,6e4),ku=new ti(5e3,15e3),Nu=null;function Du(){return Nu||(Nu=new Jt((function(t,e){function n(){Zr(),Br("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Zr(),e(Error("Network Error"))},timeout:Cu.get()})}if(Br("gapi.iframes.Iframe"))t();else if(Br("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[r]=function(){Br("gapi.load")?n():e(Error("Network Error"))},r=ct(Au,{onload:r}),oe(ss(r)).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw Nu=null,t})))}function Ou(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Vn(this.i,"/__/auth/iframe"),Un(this.a,"apiKey",this.g),Un(this.a,"appName",this.h),this.b=null,this.c=[]}function Ru(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function xu(t){try{return r.a.app(t).auth().Aa()}catch(e){return[]}}function Pu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Lu(t){var e=gr();return xs(t).then((function(t){t:{var n=qn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Ar.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new aa(gr())}))}function Mu(t){return t.l?t.l:(t.l=kr().then((function(){if(!t.o){var e=t.c,n=t.h,r=xu(t.b),i=new Ou(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Y(r||[]),t.o=i.toString()}t.i=new Tu(t.o),qu(t)})),t.l)}function Uu(t){return t.m||(t.v=t.c?Vr(t.c,xu(t.b)):null,t.m=new ms(t.f,so(t.h),t.v)),t.m}function Fu(t,e,n,r,i,o,a,s,u,c,h){return t=new Ru(t,e,n,r,i),t.l=o,t.g=a,t.i=s,t.b=Z(u||null),t.f=c,t.nb(h).toString()}function qu(t){if(!t.i)throw Error("IfcHandler must be initialized!");Iu(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ea(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",oe(n)}return n.status="ERROR",oe(n)}))}function Vu(t){var e={type:"webStorageSupport"};return Mu(t).then((function(){return _u(t.i,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))}function ju(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Ai("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Bu(t){this.b=t,this.a={},this.f=I(this.c,this)}Ou.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):Jn(this.a.a,"v"),this.b?Un(this.a,"eid",this.b):Jn(this.a.a,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):Jn(this.a.a,"fw"),this.a.toString()},Ru.prototype.nb=function(t){return this.h=t,this},Ru.prototype.toString=function(){var t=Vn(this.o,"/__/auth/handler");if(Un(t,"apiKey",this.m),Un(t,"appName",this.c),Un(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ha()}catch(u){n=null}for(var i in e.ab=n,Un(t,"providerId",this.a.providerId),e=this.a,n=$r(e.zb),n)n[i]=n[i].toString();i=e.Fc,n=Z(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}e.cb&&e.ab&&!n[e.cb]&&(n[e.cb]=e.ab),J(n)||Un(t,"customParameters",Hr(n))}if("function"===typeof this.a.Hb&&(e=this.a.Hb(),e.length&&Un(t,"scopes",e.join(","))),this.l?Un(t,"redirectUrl",this.l):Jn(t.a,"redirectUrl"),this.g?Un(t,"eventId",this.g):Jn(t.a,"eventId"),this.i?Un(t,"v",this.i):Jn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(t,s)&&Un(t,s,this.b[s]);return this.h?Un(t,"tid",this.h):Jn(t.a,"tid"),this.f?Un(t,"eid",this.f):Jn(t.a,"eid"),s=xu(this.c),s.length&&Un(t,"fw",s.join(",")),t.toString()},e=Pu.prototype,e.Fb=function(t,e,n){var r=new Ai("popup-closed-by-user"),i=new Ai("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){Vu(o).then((function(n){n||(t&&Sr(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return Ir(t)})).then((function(){if(!a)return _n(n).then((function(){e(r)}))}))},e.Ob=function(){var t=jr();return!zr(t)&&!Jr(t)},e.Jb=function(){return!1},e.Db=function(t,e,n,r,i,o,a,s){if(!t)return ae(new Ai("popup-blocked"));if(a&&!zr())return this.ia().s((function(e){Sr(t),i(e)})),r(),oe();this.a||(this.a=Lu(Uu(this)));var u=this;return this.a.then((function(){var e=u.ia().s((function(e){throw Sr(t),i(e),e}));return r(),e})).then((function(){if(Zo(n),!a){var r=Fu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s);br(r,t)}})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},e.Eb=function(t,e,n,r){this.a||(this.a=Lu(Uu(this)));var i=this;return this.a.then((function(){Zo(e);var o=Fu(i.u,i.f,i.b,t,e,gr(),n,i.c,void 0,i.h,r);br(o)})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},e.ia=function(){var t=this;return Mu(this).then((function(){return t.i.fb})).s((function(){throw t.a=null,new Ai("network-request-failed")}))},e.Rb=function(){return!0},e.ya=function(t){this.g.push(t)},e.La=function(t){H(this.g,(function(e){return e==t}))},e=ju.prototype,e.get=function(t){return oe(this.a.getItem(t)).then((function(t){return t&&Yr(t)}))},e.set=function(t,e){return oe(this.a.setItem(t,Hr(e)))},e.S=function(t){return oe(this.a.removeItem(t))},e.$=function(){},e.ea=function(){};var Wu,Ku=[];function Gu(){var t=Rr()?self:null;if(j(Ku,(function(n){n.b==t&&(e=n)})),!e){var e=new Bu(t);Ku.push(e)}return e}function Qu(t,e,n){J(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function zu(t){this.a=t}function Hu(t){this.c=t,this.b=!1,this.a=[]}function $u(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return ae(Error("connection_unavailable"));var h=r?800:50,l="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Jt((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),h),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:l,onMessage:o},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Yu(t,c),e})).s((function(e){throw Yu(t,c),e}))}function Yu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(t.a,(function(t){return t==e}))}}function Xu(){if(!ec())throw new Ai("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=c.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;Rr()&&self?(this.l=Gu(),Qu(this.l,"keyChanged",(function(e,n){return ac(t).then((function(e){return 0<e.length&&j(t.a,(function(t){t(e)})),{keyProcessed:Q(e,n.key)}}))})),Qu(this.l,"ping",(function(){return oe(["keyChanged"])}))):ai().then((function(e){(t.h=e)&&(t.g=new Hu(new zu(e)),$u(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Q(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Ju(t){return new Jt((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}function Zu(t){return new Jt((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):Ju(t).then((function(){return Zu(t)})).then((function(t){e(t)})).s((function(t){n(t)}))}}))}function tc(t){return t.m||(t.m=Zu(t)),t.m}function ec(){try{return!!c.indexedDB}catch(ep){return!1}}function nc(t){return t.objectStore("firebaseLocalStorage")}function rc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ic(t){return new Jt((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function oc(t,e){return t.g&&t.h&&oi()===t.h?$u(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):oe()}function ac(t){return tc(t).then((function(t){var e=nc(rc(t,!1));return e.getAll?ic(e.getAll()):new Jt((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e["continue"]()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=wr(t.c,n),t.c=n}return r}))}function sc(t){function e(){t.f=setTimeout((function(){t.i=ac(t).then((function(e){0<e.length&&j(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}uc(t),e()}function uc(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function cc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=oe().then((function(){if(ec()){var t=Xr(),r="__sak"+t;return Wu||(Wu=new Xu),n=Wu,n.set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.$((function(t){j(e.a,(function(e){e(t)}))})),t}))}function hc(){this.a={},this.type="inMemory"}function lc(){if(!pc()){if("Node"==xr())throw new Ai("internal-error","The LocalStorage compatibility library was not found.");throw new Ai("web-storage-unsupported")}this.a=fc()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function fc(){try{var t=c.localStorage,e=Xr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function pc(){var t="Node"==xr();if(t=fc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function dc(){this.type="nullStorage"}function mc(){if(!vc()){if("Node"==xr())throw new Ai("internal-error","The SessionStorage compatibility library was not found.");throw new Ai("web-storage-unsupported")}this.a=yc()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function yc(){try{var t=c.sessionStorage,e=Xr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function vc(){var t="Node"==xr();if(t=yc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function gc(){var t={};t.Browser=Ec,t.Node=Tc,t.ReactNative=Sc,t.Worker=_c,this.a=t[xr()]}Bu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];j(r,(function(e){i.push(oe().then((function(){return e(t.origin,t.data.data)})))})),ce(i).then((function(r){var i=[];j(r,(function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},zu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Hu.prototype.close=function(){for(;0<this.a.length;)Yu(this,this.a[0]);this.b=!0},e=Xu.prototype,e.set=function(t,e){var n,r=!1,i=this;return tc(this).then((function(e){return n=e,e=nc(rc(n,!0)),ic(e.get(t))})).then((function(o){var a=nc(rc(n,!0));return o?(o.value=e,ic(a.put(o))):(i.b++,r=!0,o={},o.fbase_key=t,o.value=e,ic(a.add(o)))})).then((function(){return i.c[t]=e,oc(i,t)})).ka((function(){r&&i.b--}))},e.get=function(t){return tc(this).then((function(e){return ic(nc(rc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.S=function(t){var e=!1,n=this;return tc(this).then((function(r){return e=!0,n.b++,ic(nc(rc(r,!0))["delete"](t))})).then((function(){return delete n.c[t],oc(n,t)})).ka((function(){e&&n.b--}))},e.$=function(t){0==this.a.length&&sc(this),this.a.push(t)},e.ea=function(t){H(this.a,(function(e){return e==t})),0==this.a.length&&uc(this)},e=cc.prototype,e.get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.S=function(t){return this.b.then((function(e){return e.S(t)}))},e.$=function(t){this.a.push(t)},e.ea=function(t){H(this.a,(function(e){return e==t}))},e=hc.prototype,e.get=function(t){return oe(this.a[t])},e.set=function(t,e){return this.a[t]=e,oe()},e.S=function(t){return delete this.a[t],oe()},e.$=function(){},e.ea=function(){},e=lc.prototype,e.get=function(t){var e=this;return oe().then((function(){var n=e.a.getItem(t);return Yr(n)}))},e.set=function(t,e){var n=this;return oe().then((function(){var r=Hr(e);null===r?n.S(t):n.a.setItem(t,r)}))},e.S=function(t){var e=this;return oe().then((function(){e.a.removeItem(t)}))},e.$=function(t){c.window&&an(c.window,"storage",t)},e.ea=function(t){c.window&&hn(c.window,"storage",t)},e=dc.prototype,e.get=function(){return oe(null)},e.set=function(){return oe()},e.S=function(){return oe()},e.$=function(){},e.ea=function(){},e=mc.prototype,e.get=function(t){var e=this;return oe().then((function(){var n=e.a.getItem(t);return Yr(n)}))},e.set=function(t,e){var n=this;return oe().then((function(){var r=Hr(e);null===r?n.S(t):n.a.setItem(t,r)}))},e.S=function(t){var e=this;return oe().then((function(){e.a.removeItem(t)}))},e.$=function(){},e.ea=function(){};var bc,wc,Ec={C:lc,Sa:mc},Tc={C:lc,Sa:mc},Sc={C:ju,Sa:dc},_c={C:lc,Sa:dc},Ic={$c:"local",NONE:"none",bd:"session"};function Ac(t){var e=new Ai("invalid-persistence-type"),n=new Ai("unsupported-persistence-type");t:{for(r in Ic)if(Ic[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(xr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!Wr()&&"none"!==t)throw n}}function Cc(){var t=!(Jr(jr())||!Or()),e=zr(),n=Wr();this.m=t,this.h=e,this.l=n,this.a={},bc||(bc=new gc),t=bc;try{this.g=!vr()&&ii()||!c.indexedDB?new t.a.C:new cc(Rr()?new hc:new t.a.C)}catch(r){this.g=new hc,this.h=!0}try{this.i=new t.a.Sa}catch(r){this.i=new hc}this.u=new hc,this.f=I(this.Pb,this),this.b={}}function kc(){return wc||(wc=new Cc),wc}function Nc(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Dc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Oc(t,e,n){var r=Dc(e,n),i=Nc(t,e.C);return t.get(e,n).then((function(o){var a=null;try{a=Yr(c.localStorage.getItem(r))}catch(s){}if(a&&!o)return c.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&c.localStorage.removeItem(r)}))}function Rc(t,e,n){return n=Dc(e,n),"local"==e.C&&(t.b[n]=null),Nc(t,e.C).S(n)}function xc(t){Pc(t),t.c=setInterval((function(){for(var e in t.a){var n=c.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new He({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}}),1e3)}function Pc(t){t.c&&(clearInterval(t.c),t.c=null)}function Lc(t){this.a=t,this.b=kc()}e=Cc.prototype,e.get=function(t,e){return Nc(this,t.C).get(Dc(t,e))},e.set=function(t,e,n){var r=Dc(t,n),i=this,o=Nc(this,t.C);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.C&&(i.b[r]=e)}))},e.addListener=function(t,e,n){t=Dc(t,e),this.l&&(this.b[t]=c.localStorage.getItem(t)),J(this.a)&&(Nc(this,"local").$(this.f),this.h||(vr()||!ii())&&c.indexedDB||!this.l||xc(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Dc(t,e),this.a[t]&&(H(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),J(this.a)&&(Nc(this,"local").ea(this.f),Pc(this))},e.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=c.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?Nc(this,"local").ea(this.f):Pc(this),this.m)if(n=c.localStorage.getItem(e),r=t.a.newValue,r!==n)null!==r?c.localStorage.setItem(e,r):c.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===c.localStorage.getItem(e)||(o.b[e]=c.localStorage.getItem(e),o.Za(e))},Oe&&Ve&&10==Ve&&c.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,I(this.Za,this))},e.Za=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var Mc,Uc={name:"authEvent",C:"local"};function Fc(t){return t.b.get(Uc,t.a).then((function(t){return ea(t)}))}function qc(){this.a=kc()}function Vc(){this.b=-1}function jc(t,e){this.b=Bc,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=c.Int32Array?new Int32Array(64):Array(64),void 0!==Mc||(Mc=c.Int32Array?new Int32Array($c):$c),this.reset()}k(jc,Vc);for(var Bc=64,Wc=Bc-1,Kc=[],Gc=0;Gc<Wc;Gc++)Kc[Gc]=0;var Qc=$(128,Kc);function zc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&h^~c&l,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|Mc[e])|0,a=o+(a+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function Hc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(h(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(zc(t),i=0);else{if(!g(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(zc(t),i=0)}}t.c=i,t.g+=n}jc.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):Y(this.h)};var $c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Yc(){jc.call(this,8,Xc)}k(Yc,jc);var Xc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Jc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new qc,this.g=new Lc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Zc(t){return new Ai("invalid-cordova-configuration",t)}function th(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function eh(t){var e=new Yc;Hc(e,t),t=[];var n=8*e.g;56>e.c?Hc(e,Qc,56-e.c):Hc(e,Qc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(zc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return Yi(t)}function nh(t,e,n,r,i){var o=th(),a=new ta(e,r,null,o,new Ai("no-auth-event"),null,i),s=Br("BuildInfo.packageName",c);if("string"!==typeof s)throw new Ai("invalid-cordova-configuration");var u=Br("BuildInfo.displayName",c),h={};if(jr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=s;else{if(!jr().toLowerCase().match(/android/))return ae(new Ai("operation-not-supported-in-this-environment"));h.apn=s}u&&(h.appDisplayName=u),o=eh(o),h.sessionId=o;var l=Fu(t.u,t.i,t.l,e,n,null,r,t.m,h,t.o,i);return t.ia().then((function(){var e=t.h;return t.v.a.set(Uc,a.A(),e)})).then((function(){var e=Br("cordova.plugins.browsertab.isAvailable",c);if("function"!==typeof e)throw new Ai("invalid-cordova-configuration");var n=null;e((function(e){if(e){if(n=Br("cordova.plugins.browsertab.openUrl",c),"function"!==typeof n)throw new Ai("invalid-cordova-configuration");n(l)}else{if(n=Br("cordova.InAppBrowser.open",c),"function"!==typeof n)throw new Ai("invalid-cordova-configuration");e=jr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}function rh(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function ih(t){return t.f||(t.f=t.ia().then((function(){return new Jt((function(e){function n(r){return e(r),t.La(n),!1}t.ya(n),ah(t)}))}))),t.f}function oh(t){var e=null;return Fc(t.g).then((function(n){return e=n,n=t.g,Rc(n.b,Uc,n.a)})).then((function(){return e}))}function ah(t){function e(e){r=!0,i&&i.cancel(),oh(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;i=To(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=qn(i),o=Yr(Fn(o,"firebaseError")||null),o=(o="object"===typeof o?Ci(o):null)?new ta(r.c,r.b,null,null,o,null,r.R()):new ta(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}rh(t,i)}))}var n=new ta("unknown",null,null,null,new Ai("no-auth-event")),r=!1,i=_n(500).then((function(){return oh(t).then((function(){r||rh(t,n)}))})),o=c.handleOpenURL;c.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Br("BuildInfo.packageName",c).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},ia||(ia=new na),oa(e)}function sh(t){this.a=t,this.b=kc()}e=Jc.prototype,e.ia=function(){return this.Ba?this.Ba:this.Ba=Nr().then((function(){if("function"!==typeof Br("universalLinks.subscribe",c))throw Zc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Br("BuildInfo.packageName",c))throw Zc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Br("cordova.plugins.browsertab.openUrl",c))throw Zc("cordova-plugin-browsertab is not installed");if("function"!==typeof Br("cordova.InAppBrowser.open",c))throw Zc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Ai("cordova-not-ready")}))},e.Fb=function(t,e){return e(new Ai("operation-not-supported-in-this-environment")),oe()},e.Db=function(){return ae(new Ai("operation-not-supported-in-this-environment"))},e.Rb=function(){return!1},e.Ob=function(){return!0},e.Jb=function(){return!0},e.Eb=function(t,e,n,r){if(this.c)return ae(new Ai("redirect-operation-pending"));var i=this,o=c.document,a=null,s=null,u=null,h=null;return this.c=oe().then((function(){return Zo(e),ih(i)})).then((function(){return nh(i,t,e,n,r)})).then((function(){return new Jt((function(t,e){s=function(){var e=Br("cordova.plugins.browsertab.close",c);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(s),u=function(){a||(a=_n(2e3).then((function(){e(new Ai("redirect-cancelled-by-user"))})))},h=function(){ei()&&u()},o.addEventListener("resume",u,!1),jr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).s((function(t){return oh(i).then((function(){throw t}))}))})).ka((function(){u&&o.removeEventListener("resume",u,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),s&&i.La(s),i.c=null}))},e.ya=function(t){this.b.push(t),ih(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new ta("unknown",null,null,null,new Ai("no-auth-event")),t(e))}))},e.La=function(t){H(this.b,(function(e){return e==t}))};var uh={name:"pendingRedirect",C:"session"};function ch(t){return t.b.set(uh,"pending",t.a)}function hh(t){return Rc(t.b,uh,t.a)}function lh(t){return t.b.get(uh,t.a).then((function(t){return"pending"==t}))}function fh(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=I(this.o,this),this.b=new Ah,this.w=new Ph,this.g=new sh(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=ph(this.B,this.u,this.m,oo)}function ph(t,e,n,i){var o=r.a.SDK_VERSION||null;return Dr()?new Jc(t,e,n,o,i):new Pu(t,e,n,o,i)}function dh(t){t.f||(t.f=!0,t.a.ya(t.l));var e=t.a;return t.a.ia().s((function(n){throw t.a==e&&t.reset(),n}))}function mh(t){t.a.Ob()&&dh(t).s((function(e){var n=new ta("unknown",null,null,null,new Ai("operation-not-supported-in-this-environment"));Eh(e)&&t.o(n)})),t.a.Jb()||Ch(t.b)}function yh(t,e){Q(t.h,e)||t.h.push(e),t.f||lh(t.g).then((function(e){e?hh(t.g).then((function(){dh(t).s((function(e){var n=new ta("unknown",null,null,null,new Ai("operation-not-supported-in-this-environment"));Eh(e)&&t.o(n)}))})):mh(t)})).s((function(){mh(t)}))}function vh(t,e){H(t.h,(function(t){return t==e}))}fh.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=ph(this.B,this.u,this.m),this.i={}},fh.prototype.o=function(t){if(!t)throw new Ai("invalid-auth-event");if(6e5<=C()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=C())),e=!0;break}}return Ch(this.b),e};var gh=new ti(2e3,1e4),bh=new ti(3e4,6e4);function wh(t,e,n,r,i,o,a){return t.a.Db(e,n,r,(function(){t.f||(t.f=!0,t.a.ya(t.l))}),(function(){t.reset()}),i,o,a)}function Eh(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Th(t,e,n,r,i){var o;return ch(t.g).then((function(){return t.a.Eb(e,n,r,i).s((function(e){if(Eh(e))throw new Ai("operation-not-supported-in-this-environment");return o=e,hh(t.g).then((function(){throw o}))})).then((function(){return t.a.Rb()?new Jt((function(){})):hh(t.g).then((function(){return t.oa()})).then((function(){})).s((function(){}))}))}))}function Sh(t,e,n,r,i){return t.a.Fb(r,(function(t){e.ja(n,null,t,i)}),gh.get())}fh.prototype.oa=function(){return this.b.oa()};var _h={};function Ih(t,e,n){var r=e+":"+n;return _h[r]||(_h[r]=new fh(t,e,n)),_h[r]}function Ah(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ch(t){t.g||(t.g=!0,Rh(t,!1,null,null))}function kh(t){t.g&&!t.i&&Rh(t,!1,null,null)}function Nh(t,e,n){n=n.za(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.R(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Rh(t,s,e,null)})).s((function(e){Rh(t,s,null,e)}))}function Dh(t,e){if(t.b=function(){return ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function Oh(t,e){if(t.b=function(){return oe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Rh(t,e,n,r){e?r?Dh(t,r):Oh(t,n):Oh(t,{user:null}),t.f=[],t.c=[]}function xh(t){var e=new Ai("timeout");t.a&&t.a.cancel(),t.a=_n(bh.get()).then((function(){t.b||(t.g=!0,Rh(t,!0,null,e))}))}function Ph(){}function Lh(t,e){var n=t.b,r=t.c;e.za(r,n)(t.g,t.f,t.R(),t.i).then((function(t){e.ja(r,t,null,n)})).s((function(t){e.ja(r,null,t,n)}))}function Mh(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function Uh(t,e){this.a=e,li(this,"verificationId",t)}function Fh(t,e,n,r){return new Yo(t).Va(e,n).then((function(t){return new Uh(t,r)}))}function qh(t){var e=io(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Ai("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");fi(this,{token:t,expirationTime:ri(1e3*e.exp),authTime:ri(1e3*e.auth_time),issuedAtTime:ri(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function Vh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function jh(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function Bh(t,e){t.stop(),t.b=_n(jh(t,e)).then((function(){return ni()})).then((function(){return t.h()})).then((function(){Bh(t,!0)})).s((function(e){t.i(e)&&Bh(t,!1)}))}function Wh(t){this.f=t,this.b=this.a=null,this.c=0}function Kh(t,e){var n=e[vs],r=e.refreshToken;e=Qh(e.expiresIn),t.b=n,t.c=e,t.a=r}function Gh(t,e){t.b=e.b,t.a=e.a,t.c=e.c}function Qh(t){return C()+1e3*parseInt(t,10)}function zh(t,e){return ks(t.f,e).then((function(e){return t.b=e.access_token,t.c=Qh(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Hh(t,e){this.a=t||null,this.b=e||null,fi(this,{lastSignInTime:ri(e||null),creationTime:ri(t||null)})}function $h(t){return new Hh(t.a,t.b)}function Yh(t,e,n,r,i,o){fi(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Xh(t,e){for(var n in ze.call(this,t),e)this[n]=e[n]}function Jh(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=r.a.SDK_VERSION?Vr(r.a.SDK_VERSION):null,this.a=new ms(this.l,so(oo),t),this.b=new Wh(this.a),al(this,e[vs]),Kh(this.b,e),li(this,"refreshToken",this.b.a),hl(this,n||{}),bn.call(this),this.J=!1,this.o&&Kr()&&(this.i=Ih(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=rl(this),this.W=I(this.Ha,this);var i=this;this.ga=null,this.va=function(t){i.sa(t.g)},this.Z=null,this.P=[],this.ua=function(t){tl(i,t.c)},this.Y=null}function Zh(t,e){t.Z&&hn(t.Z,"languageCodeChanged",t.va),(t.Z=e)&&an(e,"languageCodeChanged",t.va)}function tl(t,e){t.P=e,Ss(t.a,r.a.SDK_VERSION?Vr(r.a.SDK_VERSION,t.P):null)}function el(t,e){t.Y&&hn(t.Y,"frameworkChanged",t.ua),(t.Y=e)&&an(e,"frameworkChanged",t.ua)}function nl(t){try{return r.a.app(t.m).auth()}catch(e){throw new Ai("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function rl(t){return new Vh((function(){return t.G(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-C()-3e5;return 0<e?e:0}))}function il(t){t.B||t.w.b||(t.w.start(),hn(t,"tokenChanged",t.W),an(t,"tokenChanged",t.W))}function ol(t){hn(t,"tokenChanged",t.W),t.w.stop()}function al(t,e){t.ma=e,li(t,"_lat",e)}function sl(t,e){H(t.O,(function(t){return t==e}))}function ul(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return ce(e).then((function(){return t}))}function cl(t){t.i&&!t.J&&(t.J=!0,yh(t.i,t))}function hl(t,e){fi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Hh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function ll(){}function fl(t){return oe().then((function(){if(t.B)throw new Ai("app-deleted")}))}function pl(t){return W(t.providerData,(function(t){return t.providerId}))}function dl(t,e){e&&(ml(t,e.providerId),t.providerData.push(e))}function ml(t,e){H(t.providerData,(function(t){return t.providerId==e}))}function yl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&li(t,e,n)}function vl(t,e){t!=e&&(fi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?li(t,"metadata",$h(e.metadata)):li(t,"metadata",new Hh),j(e.providerData,(function(e){dl(t,e)})),Gh(t.b,e.b),li(t,"refreshToken",t.b.a))}function gl(t){return t.G().then((function(e){var n=t.isAnonymous;return wl(t,e).then((function(){return n||yl(t,"isAnonymous",!1),e}))}))}function bl(t,e){e[vs]&&t.ma!=e[vs]&&(Kh(t.b,e),t.dispatchEvent(new Xh("tokenChanged")),al(t,e[vs]),yl(t,"refreshToken",t.b.a))}function wl(t,e){return bu(t.a,tu,{idToken:e}).then(I(t.zc,t))}function El(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new Yh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}function Tl(t,e){return gl(t).then((function(){if(Q(pl(t),e))return ul(t).then((function(){throw new Ai("provider-already-linked")}))}))}function Sl(t,e,n){var r=Jo(e);return e=fo(e),pi({user:t,credential:r,additionalUserInfo:e,operationType:n})}function _l(t,e){return bl(t,e),t.reload().then((function(){return t}))}function Il(t,e,n,i,o){if(!Kr())return ae(new Ai("operation-not-supported-in-this-environment"));if(t.h&&!o)return ae(t.h);var a=lo(n.providerId),s=Xr(t.uid+":::"),u=null;(!zr()||Or())&&t.o&&n.isOAuthProvider&&(u=Fu(t.o,t.l,t.m,e,n,null,s,r.a.SDK_VERSION||null,null,null,t.tenantId));var c=_r(u,a&&a.Da,a&&a.Ca);return i=i().then((function(){if(Cl(t),!o)return t.G().then((function(){}))})).then((function(){return wh(t.i,c,e,n,s,!!u,t.tenantId)})).then((function(){return new Jt((function(n,r){t.ja(e,null,new Ai("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.c=Sh(t.i,t,e,c,s)}))})).then((function(t){return c&&Sr(c),t?pi(t):null})).s((function(t){throw c&&Sr(c),t})),kl(t,i,o)}function Al(t,e,n,r,i){if(!Kr())return ae(new Ai("operation-not-supported-in-this-environment"));if(t.h&&!i)return ae(t.h);var o=null,a=Xr(t.uid+":::");return r=r().then((function(){if(Cl(t),!i)return t.G().then((function(){}))})).then((function(){return t.ca=a,ul(t)})).then((function(e){return t.da&&(e=t.da,e=e.b.set(Pl,t.A(),e.a)),e})).then((function(){return Th(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.da)return Ll(t.da);throw o})).then((function(){if(o)throw o})),kl(t,r,i)}function Cl(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Ai("internal-error");throw new Ai("auth-domain-config-required")}}function kl(t,e,n){var r=Nl(t,e,n);return t.I.push(r),r.ka((function(){z(t.I,r)})),r}function Nl(t,e,n){return t.h&&!n?(e.cancel(),ae(t.h)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Xh("userInvalidated")),t.h=e),e}))}function Dl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[vs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-C())/1e3;var r=new Jh(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&dl(r,pi(t))})),t.redirectEventId&&(r.ca=t.redirectEventId),r}function Ol(t,e,n,r){var i=new Jh(t,e);return n&&(i.da=n),r&&tl(i,r),i.reload().then((function(){return i}))}function Rl(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,o={};return o[vs]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-C())/1e3,e=new Jh(e,o),n&&(e.da=n),r&&tl(e,r),vl(e,t),e}function xl(t){this.a=t,this.b=kc()}Ah.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ah.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Rh(this,!0,null,t.a),oe()):e.za(n,r)?Nh(this,t,e):ae(new Ai("invalid-auth-event")):(Rh(this,!1,null,null),oe())}else ae(new Ai("invalid-auth-event"))},Ah.prototype.oa=function(){var t=this;return new Jt((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),xh(t))}))},Ph.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),oe()):e.za(n,r)?Lh(t,e):ae(new Ai("invalid-auth-event"))}else ae(new Ai("invalid-auth-event"))},Uh.prototype.confirm=function(t){return t=Xo(this.verificationId,t),this.a(t)},Vh.prototype.start=function(){this.a=this.c,Bh(this,!0)},Vh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Wh.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Wh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ae(new Ai("user-token-expired")):t||!this.b||C()>this.c-3e4?this.a?zh(this,{grant_type:"refresh_token",refresh_token:this.a}):oe(null):oe({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Hh.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(Xh,ze),k(Jh,bn),Jh.prototype.sa=function(t){this.ga=t,Ts(this.a,t)},Jh.prototype.ha=function(){return this.ga},Jh.prototype.Aa=function(){return Y(this.P)},Jh.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},li(Jh.prototype,"providerId","firebase"),e=Jh.prototype,e.reload=function(){var t=this;return kl(this,fl(this).then((function(){return gl(t).then((function(){return ul(t)})).then(ll)})))},e.dc=function(t){return this.G(t).then((function(t){return new qh(t)}))},e.G=function(t){var e=this;return kl(this,fl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new Ai("internal-error");return t.accessToken!=e.ma&&(al(e,t.accessToken),e.dispatchEvent(new Xh("tokenChanged"))),yl(e,"refreshToken",t.refreshToken),t.accessToken})))},e.zc=function(t){if(t=t.users,!t||!t.length)throw new Ai("internal-error");t=t[0],hl(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=El(t),n=0;n<e.length;n++)dl(this,e[n]);yl(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length))},e.Ac=function(t){return ci("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},e.gb=function(t){var e=this,n=null;return kl(this,t.f(this.a,this.uid).then((function(t){return bl(e,t),n=Sl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.rc=function(t){return ci("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},e.eb=function(t){var e=this,n=null;return kl(this,Tl(this,t.providerId).then((function(){return e.G()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Sl(e,t,"link"),_l(e,t)})).then((function(){return n})))},e.sc=function(t,e){var n=this;return kl(this,Tl(this,"phone").then((function(){return Fh(nl(n),t,e,I(n.eb,n))})))},e.Bc=function(t,e){var n=this;return kl(this,oe().then((function(){return Fh(nl(n),t,e,I(n.gb,n))})),!0)},e.rb=function(t){var e=this;return kl(this,this.G().then((function(n){return e.a.rb(n,t)})).then((function(t){return bl(e,t),e.reload()})))},e.Sc=function(t){var e=this;return kl(this,this.G().then((function(n){return t.b(e.a,n)})).then((function(t){return bl(e,t),e.reload()})))},e.sb=function(t){var e=this;return kl(this,this.G().then((function(n){return e.a.sb(n,t)})).then((function(t){return bl(e,t),e.reload()})))},e.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return fl(this);var e=this;return kl(this,this.G().then((function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return bl(e,t),yl(e,"displayName",t.displayName||null),yl(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(li(t,"displayName",e.displayName),li(t,"photoURL",e.photoURL))})),ul(e)})).then(ll))},e.Qc=function(t){var e=this;return kl(this,gl(this).then((function(n){return Q(pl(e),t)?Fs(e.a,n,[t]).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(pl(e),(function(t){n[t]||ml(e,t)})),n[Yo.PROVIDER_ID]||li(e,"phoneNumber",null),ul(e)})):ul(e).then((function(){throw new Ai("no-such-provider")}))})))},e.delete=function(){var t=this;return kl(this,this.G().then((function(e){return bu(t.a,Ys,{idToken:e})})).then((function(){t.dispatchEvent(new Xh("userDeleted"))}))).then((function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");Zh(t,null),el(t,null),t.I=[],t.B=!0,ol(t),li(t,"refreshToken",null),t.i&&vh(t.i,t)}))},e.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},e.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.za=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?I(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?I(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?I(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?I(this.Cb,this):null},e.tc=function(t){var e=this;return Il(this,"linkViaPopup",t,(function(){return Tl(e,t.providerId).then((function(){return ul(e)}))}),!1)},e.Cc=function(t){return Il(this,"reauthViaPopup",t,(function(){return oe()}),!0)},e.uc=function(t){var e=this;return Al(this,"linkViaRedirect",t,(function(){return Tl(e,t.providerId)}),!1)},e.Dc=function(t){return Al(this,"reauthViaRedirect",t,(function(){return oe()}),!0)},e.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.G().then((function(n){return Ws(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Sl(i,t,"link"),_l(i,t)})).then((function(){return o})),kl(this,n)},e.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=oe().then((function(){return _o(Ks(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Sl(i,t,"reauthenticate"),bl(i,t),i.h=null,i.reload()})).then((function(){return o}));return kl(this,a,!0)},e.jb=function(t){var e=this,n=null;return kl(this,this.G().then((function(e){return n=e,"undefined"===typeof t||J(t)?{}:$i(new qi(t))})).then((function(t){return e.a.jb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.toJSON=function(){return this.A()},e.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&et(t,this.metadata.A()),j(this.providerData,(function(e){t.providerData.push(di(e))})),t};var Pl={name:"redirectUser",C:"session"};function Ll(t){return Rc(t.b,Pl,t.a)}function Ml(t,e){return t.b.get(Pl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Dl(t||{})}))}function Ul(t){this.a=t,this.b=kc(),this.c=null,this.f=ql(this),this.b.addListener(jl("local"),this.a,I(this.g,this))}function Fl(t,e){var n,r=[];for(n in Ic)Ic[n]!==e&&r.push(Rc(t.b,jl(Ic[n]),t.a));return r.push(Rc(t.b,Vl,t.a)),ue(r)}function ql(t){var e=jl("local"),n=jl("session"),r=jl("none");return Oc(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Vl,t.a).then((function(t){return t?jl(t):e}))}))}))})).then((function(e){return t.c=e,Fl(t,e.C)})).s((function(){t.c||(t.c=e)}))}Ul.prototype.g=function(){var t=this,e=jl("local");Ql(this,(function(){return oe().then((function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null})).then((function(n){if(n)return Fl(t,"local").then((function(){t.c=e}))}))}))};var Vl={name:"persistence",C:"session"};function jl(t){return{name:"authUser",C:t}}function Bl(t){return Ql(t,(function(){return t.b.set(Vl,t.c.C,t.a)}))}function Wl(t,e){return Ql(t,(function(){return t.b.set(t.c,e.A(),t.a)}))}function Kl(t){return Ql(t,(function(){return Rc(t.b,t.c,t.a)}))}function Gl(t,e){return Ql(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Dl(t||{})}))}))}function Ql(t,e){return t.f=t.f.then(e,e),t.f}function zl(t){if(this.l=!1,li(this,"settings",new Mh),li(this,"app",t),!sf(this).options||!sf(this).options.apiKey)throw new Ai("invalid-api-key");t=r.a.SDK_VERSION?Vr(r.a.SDK_VERSION):null,this.b=new ms(sf(this).options&&sf(this).options.apiKey,so(oo),t),this.O=[],this.m=[],this.J=[],this.Ub=r.a.INTERNAL.createSubscribe(I(this.oc,this)),this.W=void 0,this.Vb=r.a.INTERNAL.createSubscribe(I(this.pc,this)),ef(this,null),this.h=new Ul(sf(this).options.apiKey+":"+sf(this).name),this.w=new xl(sf(this).options.apiKey+":"+sf(this).name),this.Y=ff(this,rf(this)),this.i=ff(this,of(this)),this.ga=!1,this.ma=I(this.Nc,this),this.ub=I(this.aa,this),this.ua=I(this.bc,this),this.va=I(this.mc,this),this.Ha=I(this.nc,this),this.a=null,Jl(this),this.INTERNAL={},this.INTERNAL["delete"]=I(this.delete,this),this.INTERNAL.logFramework=I(this.vc,this),this.o=0,bn.call(this),Yl(this),this.I=[]}function Hl(t){ze.call(this,"languageCodeChanged"),this.g=t}function $l(t){ze.call(this,"frameworkChanged"),this.c=t}function Yl(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.sa(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}function Xl(t){return t.Tb||ae(new Ai("auth-domain-config-required"))}function Jl(t){var e=sf(t).options.authDomain,n=sf(t).options.apiKey;e&&Kr()&&(t.Tb=t.Y.then((function(){if(!t.l){if(t.a=Ih(e,n,sf(t).name),yh(t.a,t),uf(t)&&cl(uf(t)),t.B){cl(t.B);var r=t.B;r.sa(t.ha()),Zh(r,t),r=t.B,tl(r,t.I),el(r,t),t.B=null}return t.a}})))}function Zl(t){if(!Kr())return ae(new Ai("operation-not-supported-in-this-environment"));var e=Xl(t).then((function(){return t.a.oa()})).then((function(t){return t?pi(t):null}));return ff(t,e)}function tf(t,e){var n={};return n.apiKey=sf(t).options.apiKey,n.authDomain=sf(t).options.authDomain,n.appName=sf(t).name,t.Y.then((function(){return Ol(n,e,t.w,t.Aa())})).then((function(e){return uf(t)&&e.uid==uf(t).uid?(vl(uf(t),e),t.aa(e)):(ef(t,e),cl(e),t.aa(e))})).then((function(){hf(t)}))}function ef(t,e){uf(t)&&(sl(uf(t),t.ub),hn(uf(t),"tokenChanged",t.ua),hn(uf(t),"userDeleted",t.va),hn(uf(t),"userInvalidated",t.Ha),ol(uf(t))),e&&(e.O.push(t.ub),an(e,"tokenChanged",t.ua),an(e,"userDeleted",t.va),an(e,"userInvalidated",t.Ha),0<t.o&&il(e)),li(t,"currentUser",e),e&&(e.sa(t.ha()),Zh(e,t),tl(e,t.I),el(e,t))}function nf(t){var e=Ml(t.w,sf(t).options.authDomain).then((function(e){return(t.B=e)&&(e.da=t.w),Ll(t.w)}));return ff(t,e)}function rf(t){var e=sf(t).options.authDomain,n=nf(t).then((function(){return Gl(t.h,e)})).then((function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then((function(){return Wl(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:Kl(t.h)}))):null})).then((function(e){ef(t,e||null)}));return ff(t,n)}function of(t){return t.Y.then((function(){return Zl(t)})).s((function(){})).then((function(){if(!t.l)return t.ma()})).s((function(){})).then((function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(jl("local"),e.a,t.ma)}}))}function af(t,e){var n=null,r=null;return ff(t,e.then((function(e){return n=Jo(e),r=fo(e),tf(t,e)})).then((function(){return pi({user:uf(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function sf(t){return t.app}function uf(t){return t.currentUser}function cf(t){return uf(t)&&uf(t)._lat||null}function hf(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](cf(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](cf(t))}}function lf(t,e){t.J.push(e),ff(t,t.i.then((function(){!t.l&&Q(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(cf(t)))})))}function ff(t,e){return t.O.push(e),e.ka((function(){z(t.O,e)})),e}function pf(){}function df(){this.a={},this.b=1e12}Ul.prototype.mb=function(t){var e=null,n=this;return Ac(t),Ql(this,(function(){return t!=n.c.C?n.b.get(n.c,n.a).then((function(r){return e=r,Fl(n,t)})).then((function(){if(n.c=jl(t),e)return n.b.set(n.c,e,n.a)})):oe()}))},k(zl,bn),k(Hl,ze),k($l,ze),e=zl.prototype,e.mb=function(t){return t=this.h.mb(t),ff(this,t)},e.sa=function(t){this.Z===t||this.l||(this.Z=t,Ts(this.b,this.Z),this.dispatchEvent(new Hl(this.ha())))},e.ha=function(){return this.Z},e.Tc=function(){var t=c.navigator;this.sa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.vc=function(t){this.I.push(t),Ss(this.b,r.a.SDK_VERSION?Vr(r.a.SDK_VERSION,this.I):null),this.dispatchEvent(new $l(this.I))},e.Aa=function(){return Y(this.I)},e.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},e.R=function(){return this.P},e.toJSON=function(){return{apiKey:sf(this).options.apiKey,authDomain:sf(this).options.authDomain,appName:sf(this).name,currentUser:uf(this)&&uf(this).A()}},e.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.za=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?I(this.ac,this):null},e.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=Bs(i.b,t).then((function(t){return o=Jo(t),a=fo(t),t}));return t=i.Y.then((function(){return s})).then((function(t){return tf(i,t)})).then((function(){return pi({user:uf(i),credential:o,additionalUserInfo:a,operationType:"signIn"})})),ff(this,t)},e.Lc=function(t){if(!Kr())return ae(new Ai("operation-not-supported-in-this-environment"));var e=this,n=lo(t.providerId),i=Xr(),o=null;(!zr()||Or())&&sf(this).options.authDomain&&t.isOAuthProvider&&(o=Fu(sf(this).options.authDomain,sf(this).options.apiKey,sf(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.R()));var a=_r(o,n&&n.Da,n&&n.Ca);return n=Xl(this).then((function(n){return wh(n,a,"signInViaPopup",t,i,!!o,e.R())})).then((function(){return new Jt((function(t,n){e.ja("signInViaPopup",null,new Ai("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=Sh(e.a,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&Sr(a),t?pi(t):null})).s((function(t){throw a&&Sr(a),t})),ff(this,n)},e.Mc=function(t){if(!Kr())return ae(new Ai("operation-not-supported-in-this-environment"));var e=this,n=Xl(this).then((function(){return Bl(e.h)})).then((function(){return Th(e.a,"signInViaRedirect",t,void 0,e.R())}));return ff(this,n)},e.oa=function(){var t=this;return Zl(this).then((function(e){return t.a&&kh(t.a.b),e})).s((function(e){throw t.a&&kh(t.a.b),e}))},e.Rc=function(t){if(!t)return ae(new Ai("null-user"));if(this.P!=t.tenantId)return ae(new Ai("tenant-id-mismatch"));var e=this,n={};n.apiKey=sf(this).options.apiKey,n.authDomain=sf(this).options.authDomain,n.appName=sf(this).name;var r=Rl(t,n,e.w,e.Aa());return ff(this,this.i.then((function(){if(sf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return uf(e)&&t.uid==uf(e).uid?(vl(uf(e),t),e.aa(t)):(ef(e,r),cl(r),e.aa(r))})).then((function(){hf(e)})))},e.pb=function(){var t=this,e=this.i.then((function(){return t.a&&kh(t.a.b),uf(t)?(ef(t,null),Kl(t.h).then((function(){hf(t)}))):oe()}));return ff(this,e)},e.Nc=function(){var t=this;return Gl(this.h,sf(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=uf(t)&&e){n=uf(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return vl(uf(t),e),uf(t).G();(uf(t)||e)&&(ef(t,e),e&&(cl(e),e.da=t.w),t.a&&yh(t.a,t),hf(t))}}))},e.aa=function(t){return Wl(this.h,t)},e.bc=function(){hf(this),this.aa(uf(this))},e.mc=function(){this.pb()},e.nc=function(){this.pb()},e.oc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(uf(e))}))},e.pc=function(t){var e=this;lf(this,(function(){t.next(uf(e))}))},e.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){b(t)?t(uf(r)):b(t.next)&&t.next(uf(r))})),this.Ub(t,e,n)},e.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),b(t)?t(uf(r)):b(t.next)&&t.next(uf(r))})),this.Vb(t,e,n)},e.cc=function(t){var e=this,n=this.i.then((function(){return uf(e)?uf(e).G(t).then((function(t){return{accessToken:t}})):null}));return ff(this,n)},e.Hc=function(t){var e=this;return this.i.then((function(){return af(e,bu(e.b,du,{token:t}))})).then((function(t){var n=t.user;return yl(n,"isAnonymous",!1),e.aa(n),t}))},e.Ic=function(t,e){var n=this;return this.i.then((function(){return af(n,bu(n.b,mu,{email:t,password:e}))}))},e.Xb=function(t,e){var n=this;return this.i.then((function(){return af(n,bu(n.b,Hs,{email:t,password:e}))}))},e.Ra=function(t){var e=this;return this.i.then((function(){return af(e,t.na(e.b))}))},e.Gc=function(t){return ci("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(t)},e.ob=function(){var t=this;return this.i.then((function(){var e=uf(t);if(e&&e.isAnonymous){var n=pi({providerId:null,isNewUser:!1});return pi({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return af(t,t.b.ob()).then((function(e){var n=e.user;return yl(n,"isAnonymous",!0),t.aa(n),e}))}))},e.getUid=function(){return uf(this)&&uf(this).uid||null},e.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&uf(this)&&il(uf(this))},e.Ec=function(t){var e=this;j(this.m,(function(n){n==t&&e.o--})),0>this.o&&(this.o=0),0==this.o&&uf(this)&&ol(uf(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),ff(this,this.i.then((function(){e.l||Q(e.m,t)&&t(cf(e))})))},e.removeAuthTokenListener=function(t){H(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h,t.b.removeListener(jl("local"),t.a,this.ma)),this.a&&(vh(this.a,this),kh(this.a.b)),Promise.resolve()},e.$b=function(t){return ff(this,Rs(this.b,t))},e.qc=function(t){return!!Qo(t)},e.lb=function(t,e){var n=this;return ff(this,oe().then((function(){var t=new qi(e);if(!t.c)throw new Ai("argument-error",Bi+" must be true when sending sign in link to email");return $i(t)})).then((function(e){return n.b.lb(t,e)})).then((function(){})))},e.Uc=function(t){return this.Ka(t).then((function(t){return t.data.email}))},e.$a=function(t,e){return ff(this,this.b.$a(t,e).then((function(){})))},e.Ka=function(t){return ff(this,this.b.Ka(t).then((function(t){return new vi(t)})))},e.Xa=function(t){return ff(this,this.b.Xa(t).then((function(){})))},e.kb=function(t,e){var n=this;return ff(this,oe().then((function(){return"undefined"===typeof e||J(e)?{}:$i(new qi(e))})).then((function(e){return n.b.kb(t,e)})).then((function(){})))},e.Kc=function(t,e){return ff(this,Fh(this,t,e,I(this.Ra,this)))},e.Jc=function(t,e){var n=this;return ff(this,oe().then((function(){var r=e||gr(),i=Go(t,r);if(r=Qo(r),!r)throw new Ai("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Ai("tenant-id-mismatch");return n.Ra(i)})))},pf.prototype.render=function(){},pf.prototype.reset=function(){},pf.prototype.getResponse=function(){},pf.prototype.execute=function(){};var mf=null;function yf(t,e){return(e=vf(e))&&t.a[e]||null}function vf(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function gf(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=or(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function bf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function wf(){}df.prototype.render=function(t,e){return this.a[this.b.toString()]=new gf(t,e),this.b++},df.prototype.reset=function(t){var e=yf(this,t);t=vf(t),e&&t&&(e.delete(),delete this.a[t])},df.prototype.getResponse=function(t){return(t=yf(this,t))?t.getResponse():null},df.prototype.execute=function(t){(t=yf(this,t))&&t.execute()},gf.prototype.getResponse=function(){return bf(this),this.b},gf.prototype.execute=function(){bf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=Lr();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},gf.prototype.delete=function(){bf(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},wf.prototype.g=function(){return mf||(mf=new df),oe(mf)},wf.prototype.c=function(){};var Ef=null;function Tf(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Sf=new nt(ot,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_f=new ti(3e4,6e4);Tf.prototype.g=function(t){var e=this;return new Jt((function(n,r){var i=setTimeout((function(){r(new Ai("network-request-failed"))}),_f.get());if(!c.grecaptcha||t!==e.f&&!e.b){c[e.a]=function(){if(c.grecaptcha){e.f=t;var o=c.grecaptcha.render;c.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(c.grecaptcha)}else clearTimeout(i),r(new Ai("internal-error"));delete c[e.a]};var o=ct(Sf,{onload:e.a,hl:t||""});oe(ss(o)).s((function(){clearTimeout(i),r(new Ai("internal-error","Unable to load external reCAPTCHA dependencies!"))}))}else clearTimeout(i),n(c.grecaptcha)}))},Tf.prototype.c=function(){this.b--};var If=null;function Af(t,e,n,r,i,o,a){if(li(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,a?(Ef||(Ef=new wf),a=Ef):(If||(If=new Tf),a=If),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Nf])throw new Ai("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Df],!c.document)throw new Ai("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!or(e)||!this.i&&or(e).hasChildNodes())throw new Ai("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new ms(t,o||null,i||null),this.v=r||function(){return null};var s=this;this.l=[];var u=this.a[Cf];this.a[Cf]=function(t){if(Of(s,t),"function"===typeof u)u(t);else if("string"===typeof u){var e=Br(u,c);"function"===typeof e&&e(t)}};var h=this.a[kf];this.a[kf]=function(){if(Of(s,null),"function"===typeof h)h();else if("string"===typeof h){var t=Br(h,c);"function"===typeof t&&t()}}}var Cf="callback",kf="expired-callback",Nf="sitekey",Df="size";function Of(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Rf(t,e){H(t.l,(function(t){return t==e}))}function xf(t,e){return t.h.push(e),e.ka((function(){z(t.h,e)})),e}function Pf(t){if(t.B)throw new Ai("internal-error","RecaptchaVerifier instance has been destroyed.")}function Lf(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new Ai("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Ai("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Aa()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?Vr(r.a.SDK_VERSION,a):null,Af.call(this,n,t,e,(function(){try{var t=o.b.auth().ha()}catch(e){t=null}return t}),a,so(oo),i)}function Mf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Ai("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!o){if(e=e[i],0>i||i>=Uf.length)throw new Ai("internal-error","Argument validator received an unsupported number of arguments.");n=Uf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new Ai("argument-error",t+" failed: "+r)}e=Af.prototype,e.Ba=function(){var t=this;return this.f?this.f:this.f=xf(this,oe().then((function(){if(Gr()&&!Rr())return kr();throw new Ai("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.v())})).then((function(e){return t.g=e,bu(t.o,ou,{})})).then((function(e){t.a[Nf]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},e.render=function(){Pf(this);var t=this;return xf(this,this.Ba().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=or(e);e=ur("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){Pf(this);var t=this;return xf(this,this.render().then((function(e){return new Jt((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(Rf(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){Pf(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Pf(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=or(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},k(Lf,Af);var Uf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ff(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:h}}function qf(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:l}}function Vf(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:w}}function jf(t,e){return{name:t||"",M:"a function",optional:!!e,N:b}}function Bf(t,e){return{name:t||"",M:"null",optional:!!e,N:y}}function Wf(){return{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}}}function Kf(){return{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof zl)}}}function Gf(){return{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof r.a.app.App)}}}function Qf(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.na||!n)}}}function zf(){return{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Hf(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&h(t.type)&&b(t.verify))}}}function $f(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function Yf(t,e){for(var n in e){var r=e[n].name;t[r]=Zf(r,t[n],e[n].j)}}function Xf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:A((function(t){return this[t]}),n),set:A((function(t,e,n,r){Mf(t,[n],[r],!0),this[e]=r}),r,n,e[n].Ya),enumerable:!0})}}function Jf(t,e,n,r){t[e]=Zf(e,n,r)}function Zf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Mf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=tp(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function tp(t){return t=t.split("."),t[t.length-1]}Yf(zl.prototype,{Xa:{name:"applyActionCode",j:[Ff("code")]},Ka:{name:"checkActionCode",j:[Ff("code")]},$a:{name:"confirmPasswordReset",j:[Ff("code"),Ff("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Ff("email"),Ff("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Ff("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Ff("emailLink")]},wc:{name:"onAuthStateChanged",j:[$f(Vf(),jf(),"nextOrObserver"),jf("opt_error",!0),jf("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[$f(Vf(),jf(),"nextOrObserver"),jf("opt_error",!0),jf("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Ff("email"),$f(Vf("opt_actionCodeSettings",!0),Bf(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Ff("email"),Vf("actionCodeSettings")]},mb:{name:"setPersistence",j:[Ff("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Qf()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[Qf()]},Hc:{name:"signInWithCustomToken",j:[Ff("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Ff("email"),Ff("password")]},Jc:{name:"signInWithEmailLink",j:[Ff("email"),Ff("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Ff("phoneNumber"),Hf()]},Lc:{name:"signInWithPopup",j:[zf()]},Mc:{name:"signInWithRedirect",j:[zf()]},Rc:{name:"updateCurrentUser",j:[$f(function(t){return{name:"user",M:"an instance of Firebase User",optional:!!t,N:function(t){return!!(t&&t instanceof Jh)}}}(),Bf(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ff(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Ff("code")]}}),Xf(zl.prototype,{lc:{name:"languageCode",Ya:$f(Ff(),Bf(),"languageCode")},ti:{name:"tenantId",Ya:$f(Ff(),Bf(),"tenantId")}}),zl.Persistence=Ic,zl.Persistence.LOCAL="local",zl.Persistence.SESSION="session",zl.Persistence.NONE="none",Yf(Jh.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[qf("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[qf("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Qf()]},eb:{name:"linkWithCredential",j:[Qf()]},sc:{name:"linkWithPhoneNumber",j:[Ff("phoneNumber"),Hf()]},tc:{name:"linkWithPopup",j:[zf()]},uc:{name:"linkWithRedirect",j:[zf()]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qf()]},gb:{name:"reauthenticateWithCredential",j:[Qf()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Ff("phoneNumber"),Hf()]},Cc:{name:"reauthenticateWithPopup",j:[zf()]},Dc:{name:"reauthenticateWithRedirect",j:[zf()]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[$f(Vf("opt_actionCodeSettings",!0),Bf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ff(null,!0)]},Qc:{name:"unlink",j:[Ff("provider")]},rb:{name:"updateEmail",j:[Ff("email")]},sb:{name:"updatePassword",j:[Ff("password")]},Sc:{name:"updatePhoneNumber",j:[Qf("phone")]},tb:{name:"updateProfile",j:[Vf("profile")]}}),Yf(df.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yf(pf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yf(Jt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Xf(Mh.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:qf("appVerificationDisabledForTesting")}}),Yf(Uh.prototype,{confirm:{name:"confirm",j:[Ff("verificationCode")]}}),Jf(So,"fromJSON",(function(t){t=h(t)?JSON.parse(t):t;for(var e,n=[Do,Wo,Ho,Co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[$f(Ff(),Vf(),"json")]),Jf(Ko,"credential",(function(t,e){return new Bo(t,e)}),[Ff("email"),Ff("password")]),Yf(Bo.prototype,{A:{name:"toJSON",j:[Ff(null,!0)]}}),Yf(Po.prototype,{wa:{name:"addScope",j:[Ff("scope")]},Ea:{name:"setCustomParameters",j:[Vf("customOAuthParameters")]}}),Jf(Po,"credential",Lo,[$f(Ff(),Vf(),"token")]),Jf(Ko,"credentialWithLink",Go,[Ff("email"),Ff("emailLink")]),Yf(Mo.prototype,{wa:{name:"addScope",j:[Ff("scope")]},Ea:{name:"setCustomParameters",j:[Vf("customOAuthParameters")]}}),Jf(Mo,"credential",Uo,[$f(Ff(),Vf(),"token")]),Yf(Fo.prototype,{wa:{name:"addScope",j:[Ff("scope")]},Ea:{name:"setCustomParameters",j:[Vf("customOAuthParameters")]}}),Jf(Fo,"credential",qo,[$f(Ff(),$f(Vf(),Bf()),"idToken"),$f(Ff(),Bf(),"accessToken",!0)]),Yf(Vo.prototype,{Ea:{name:"setCustomParameters",j:[Vf("customOAuthParameters")]}}),Jf(Vo,"credential",jo,[$f(Ff(),Vf(),"token"),Ff("secret",!0)]),Yf(xo.prototype,{wa:{name:"addScope",j:[Ff("scope")]},credential:{name:"credential",j:[$f(Ff(),$f(Vf(),Bf()),"optionsOrIdToken"),$f(Ff(),Bf(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[Vf("customOAuthParameters")]}}),Yf(ko.prototype,{A:{name:"toJSON",j:[Ff(null,!0)]}}),Yf(Io.prototype,{A:{name:"toJSON",j:[Ff(null,!0)]}}),Jf(Yo,"credential",Xo,[Ff("verificationId"),Ff("verificationCode")]),Yf(Yo.prototype,{Va:{name:"verifyPhoneNumber",j:[Ff("phoneNumber"),Hf()]}}),Yf(zo.prototype,{A:{name:"toJSON",j:[Ff(null,!0)]}}),Yf(Ai.prototype,{toJSON:{name:"toJSON",j:[Ff(null,!0)]}}),Yf(sa.prototype,{toJSON:{name:"toJSON",j:[Ff(null,!0)]}}),Yf(aa.prototype,{toJSON:{name:"toJSON",j:[Ff(null,!0)]}}),Yf(Lf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Jf(Di,"parseLink",Fi,[Ff("link")]),function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:gi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:zl,AuthCredential:So,Error:Ai};Jf(t,"EmailAuthProvider",Ko,[]),Jf(t,"FacebookAuthProvider",Po,[]),Jf(t,"GithubAuthProvider",Mo,[]),Jf(t,"GoogleAuthProvider",Fo,[]),Jf(t,"TwitterAuthProvider",Vo,[]),Jf(t,"OAuthProvider",xo,[Ff("providerId")]),Jf(t,"SAMLAuthProvider",Ro,[Ff("providerId")]),Jf(t,"PhoneAuthProvider",Yo,[Kf()]),Jf(t,"RecaptchaVerifier",Lf,[$f(Ff(),Wf(),"recaptchaContainer"),Vf("recaptchaParameters",!0),Gf()]),Jf(t,"ActionCodeURL",Di,[]),r.a.INTERNAL.registerService("auth",(function(t,e){return t=new zl(t),e({INTERNAL:{getUid:I(t.getUid,t),getToken:I(t.cc,t),addAuthTokenListener:I(t.Wb,t),removeAuthTokenListener:I(t.Ec,t)}}),t}),t,(function(t,e){if("create"===t)try{e.auth()}catch(n){}})),r.a.INTERNAL.extendNamespace({User:Jh})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n("c8ba"))},c04e:function(t,e,n){var r=n("861d");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},c1b2:function(t,e,n){var r=n("06fa");t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},c23d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("9ab4"),o=n("cd51"),a=n("abfd"),s=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),c="[DEFAULT]",h=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){r.tokenListeners_.push(t),setTimeout((function(){return t(null)}),0)},removeAuthTokenListener:function(t){r.tokenListeners_=r.tokenListeners_.filter((function(e){return e!==t}))},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(t.services_[i]);o<a.length;o++){var s=a[o];e.push(t.services_[i][s])}return Promise.all(e.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))})).then((function(){t.isDeleted_=!0,t.services_={}}))},t.prototype._getService=function(t,e){if(void 0===e&&(e=c),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==c?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=c),this.services_[t]&&this.services_[t][e]&&delete this.services_[t][e]},t.prototype.extendApp=function(t){if(o.deepExtend(this,t),t.INTERNAL){if(t.INTERNAL.addAuthTokenListener){for(var e=0,n=this.tokenListeners_;e<n.length;e++){var r=n[e];this.INTERNAL.addAuthTokenListener(r)}this.tokenListeners_=[]}if(t.INTERNAL.analytics){for(var i=0,a=this.analyticsEventRequests_;i<a.length;i++){var s=a[i];this.INTERNAL.analytics.logEvent.apply(void 0,s)}this.analyticsEventRequests_=[]}}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var l="7.2.2",f=new a.Logger("@firebase/app");
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(t){var e={},n={},r={},i={__esModule:!0,initializeApp:h,app:s,apps:null,SDK_VERSION:l,INTERNAL:{registerService:d,removeApp:a,factories:n,useAsService:y}};function a(t){var n=e[t];m(n,"delete"),delete e[t]}function s(t){if(t=t||c,!o.contains(e,t))throw u.create("no-app",{appName:t});return e[t]}function h(n,r){if(void 0===r&&(r={}),"object"!==typeof r||null===r){var a=r;r={name:a}}var s=r;void 0===s.name&&(s.name=c);var h=s.name;if("string"!==typeof h||!h)throw u.create("bad-app-name",{appName:String(h)});if(o.contains(e,h))throw u.create("duplicate-app",{appName:h});var l=new t(n,s,i);return e[h]=l,m(l,"create"),l}function p(){return Object.keys(e).map((function(t){return e[t]}))}function d(e,a,c,h,l){if(void 0===l&&(l=!1),n[e])return f.debug("There were multiple attempts to register service "+e+"."),i[e];function d(t){if(void 0===t&&(t=s()),"function"!==typeof t[e])throw u.create("invalid-app-argument",{appName:e});return t[e]()}return n[e]=a,h&&(r[e]=h,p().forEach((function(t){h("create",t)}))),void 0!==c&&o.deepExtend(d,c),i[e]=d,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._getService.bind(this,e);return r.apply(this,l?t:[])},d}function m(t,e){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=o[i],s=y(t,a);if(null===s)return;r[s]&&r[s](e,t)}}function y(t,e){if("serverAuth"===e)return null;var n=e;return n}return(i["default"]=i,Object.defineProperty(i,"apps",{get:p}),s["App"]=t,i)}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(){var t=p(h);function e(e){o.deepExtend(t,e)}return t.INTERNAL=i.__assign(i.__assign({},t.INTERNAL),{createFirebaseNamespace:d,extendNamespace:e,createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=d(),v=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,t)};var g=y;e.default=g,e.firebase=g},c430:function(t,e){t.exports=!1},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca84:function(t,e,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,a=n("d012");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);while(e.length>u)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},cc12:function(t,e,n){var r=n("da84"),i=n("861d"),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},cc94:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},cca6:function(t,e,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cd51:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("9ab4"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u=function(t){var e=[],n=0,r=0;while(n<t.length){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=t[n++];var a=t[n++],s=t[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,s=a?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var h=i<t.length,l=h?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==l)throw Error();var f=o<<2|s>>4;if(r.push(f),64!==c){var p=s<<4&240|c>>2;if(r.push(p),64!==l){var d=c<<6&192|l;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){var e=s(t);return c.encodeByteArray(e,!0)},l=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=p(t[r],e[r]));return t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function y(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function v(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function g(){return"object"===typeof self&&self.self===self}function b(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function w(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E="FirebaseError",T=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=E,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,S.prototype.create),i}return r.__extends(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?_(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new T(i,s),c=0,h=Object.keys(r);c<h.length;c++){var l=h[c];"_"!==l.slice(-1)&&(l in u&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),u[l]=r[l])}return u},t}();function _(t,e){return t.replace(I,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var I=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(t){return JSON.parse(t)}function C(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=A(l(o[0])||""),n=A(l(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(a){}return{header:e,claims:n,data:r,signature:i}},N=function(t){var e=k(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e["nbf"]:e.hasOwnProperty("iat")&&(r=e["iat"]),i=e.hasOwnProperty("exp")?e["exp"]:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},D=function(t){var e=k(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e["iat"]:null},O=function(t){var e=k(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},R=function(t){var e=k(t).claims;return"object"===typeof e&&!0===e["admin"]};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function L(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function M(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],s=o[1];n(a,s)}return e.length?"&"+e.join("&"):""}function F(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),a=1518500249):(o=u^c^h,a=1859775393):r<60?(o=u&c|h&(u|c),a=2400959708):(o=u^c^h,a=3395469782);i=(s<<5|s>>>27)+o+l+a+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<e){if(0===o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function V(t,e){var n=new j(t,e);return n.subscribe.bind(n)}var j=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=W(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=K),void 0===r.error&&(r.error=K),void 0===r.complete&&(r.complete=K);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function B(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function W(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function K(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function Q(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument ",i}function z(t,e,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(Q(t,e,r)+"must be a valid firebase namespace.")}function H(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Q(t,e,r)+"must be a valid function.")}function $(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Q(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate.");var s=t.charCodeAt(r)-56320;i=65536+(a<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},X=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};e.CONSTANTS=i,e.Deferred=d,e.ErrorFactory=S,e.FirebaseError=T,e.Sha1=q,e.assert=o,e.assertionError=a,e.async=B,e.base64=c,e.base64Decode=l,e.base64Encode=h,e.contains=x,e.createSubscribe=V,e.decode=k,e.deepCopy=f,e.deepExtend=p,e.errorPrefix=Q,e.getUA=m,e.isAdmin=R,e.isBrowser=g,e.isEmpty=L,e.isMobileCordova=y,e.isNode=v,e.isNodeSdk=w,e.isReactNative=b,e.isValidFormat=O,e.isValidTimestamp=N,e.issuedAtTime=D,e.jsonEval=A,e.map=M,e.querystring=U,e.querystringDecode=F,e.safeGet=P,e.stringLength=X,e.stringToByteArray=Y,e.stringify=C,e.validateArgCount=G,e.validateCallback=H,e.validateContextObject=$,e.validateNamespace=z}).call(this,n("c8ba"))},cdf9:function(t,e,n){var r=n("825a"),i=n("861d"),o=n("f069");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},ce4e:function(t,e,n){var r=n("da84"),i=n("9112");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var r=n("428f"),i=n("da84"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},d1e7:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},d2bb:function(t,e,n){var r=n("825a"),i=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(t,e,n){var r=n("6eeb"),i=n("b041"),o=Object.prototype;i!==o.toString&&r(o,"toString",i,{unsafe:!0})},d44e:function(t,e,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),a=o("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("c8ba"))},df75:function(t,e,n){var r=n("ca84"),i=n("7839");t.exports=Object.keys||function(t){return r(t,i)}},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return e=n(i(e.split("/"),(function(t){return!!t})),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),a="/"===o(t,-1);return t=n(i(t.split("/"),(function(t){return!!t})),!r).join("/"),t||r||(t="."),t&&a&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=r(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},dfdb:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},e163:function(t,e,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),a=n("e177"),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},e177:function(t,e,n){var r=n("d039");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),a=n("69f3"),s=n("7dd0"),u="Array Iterator",c=a.set,h=a.getterFor(u);t.exports=s(Array,"Array",(function(t,e){c(this,{type:u,target:r(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(t,e,n){var r=n("6eeb");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e6cf:function(t,e,n){"use strict";var r,i,o,a,s=n("23e7"),u=n("c430"),c=n("da84"),h=n("d066"),l=n("fea9"),f=n("6eeb"),p=n("e2cc"),d=n("d44e"),m=n("2626"),y=n("861d"),v=n("1c0b"),g=n("19aa"),b=n("c6b6"),w=n("2266"),E=n("1c7e"),T=n("4840"),S=n("2cf4").set,_=n("b575"),I=n("cdf9"),A=n("44de"),C=n("f069"),k=n("e667"),N=n("69f3"),D=n("94ca"),O=n("b622"),R=n("60ae"),x=O("species"),P="Promise",L=N.get,M=N.set,U=N.getterFor(P),F=l,q=c.TypeError,V=c.document,j=c.process,B=h("fetch"),W=C.f,K=W,G="process"==b(j),Q=!!(V&&V.createEvent&&c.dispatchEvent),z="unhandledrejection",H="rejectionhandled",$=0,Y=1,X=2,J=1,Z=2,tt=D(P,(function(){if(66===R)return!0;if(!G&&"function"!=typeof PromiseRejectionEvent)return!0;if(u&&!F.prototype["finally"])return!0;if(R>=51&&/native code/.test(F))return!1;var t=F.resolve(1),e=function(t){t((function(){}),(function(){}))},n=t.constructor={};return n[x]=e,!(t.then((function(){}))instanceof e)})),et=tt||!E((function(t){F.all(t)["catch"]((function(){}))})),nt=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},rt=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;_((function(){var i=e.value,o=e.state==Y,a=0;while(r.length>a){var s,u,c,h=r[a++],l=o?h.ok:h.fail,f=h.resolve,p=h.reject,d=h.domain;try{l?(o||(e.rejection===Z&&st(t,e),e.rejection=J),!0===l?s=i:(d&&d.enter(),s=l(i),d&&(d.exit(),c=!0)),s===h.promise?p(q("Promise-chain cycle")):(u=nt(s))?u.call(s,f,p):f(s)):p(i)}catch(m){d&&!c&&d.exit(),p(m)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&ot(t,e)}))}},it=function(t,e,n){var r,i;Q?(r=V.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},(i=c["on"+t])?i(r):t===z&&A("Unhandled promise rejection",n)},ot=function(t,e){S.call(c,(function(){var n,r=e.value,i=at(e);if(i&&(n=k((function(){G?j.emit("unhandledRejection",r,t):it(z,t,r)})),e.rejection=G||at(e)?Z:J,n.error))throw n.value}))},at=function(t){return t.rejection!==J&&!t.parent},st=function(t,e){S.call(c,(function(){G?j.emit("rejectionHandled",t):it(H,t,e.value)}))},ut=function(t,e,n,r){return function(i){t(e,n,i,r)}},ct=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=X,rt(t,e,!0))},ht=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw q("Promise can't be resolved itself");var i=nt(n);i?_((function(){var r={done:!1};try{i.call(n,ut(ht,t,r,e),ut(ct,t,r,e))}catch(o){ct(t,r,o,e)}})):(e.value=n,e.state=Y,rt(t,e,!1))}catch(o){ct(t,{done:!1},o,e)}}};tt&&(F=function(t){g(this,F,P),v(t),r.call(this);var e=L(this);try{t(ut(ht,this,e),ut(ct,this,e))}catch(n){ct(this,e,n)}},r=function(t){M(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:$,value:void 0})},r.prototype=p(F.prototype,{then:function(t,e){var n=U(this),r=W(T(this,F));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=G?j.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=$&&rt(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=L(t);this.promise=t,this.resolve=ut(ht,t,e),this.reject=ut(ct,t,e)},C.f=W=function(t){return t===F||t===o?new i(t):K(t)},u||"function"!=typeof l||(a=l.prototype.then,f(l.prototype,"then",(function(t,e){var n=this;return new F((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof B&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(F,B.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:tt},{Promise:F}),d(F,P,!1,!0),m(P),o=h(P),s({target:P,stat:!0,forced:tt},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),s({target:P,stat:!0,forced:u||tt},{resolve:function(t){return I(u&&this===o?F:this,t)}}),s({target:P,stat:!0,forced:et},{all:function(t){var e=this,n=W(e),r=n.resolve,i=n.reject,o=k((function(){var n=v(e.resolve),o=[],a=0,s=1;w(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=W(e),r=n.reject,i=k((function(){var i=v(e.resolve);w(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(t,e,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),a=n("9bf2");t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,c=0;c<n.length;c++){var h=n[c];r(t,h)||s(t,h,u(e,h))}}},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},e95a:function(t,e,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},ea7b:function(t,e,n){"use strict";n("b7aa")},ee68:function(t,e,n){(function(t,e){!function(t,e){e(n("c23d"))}(0,(function(n){"use strict";try{(function(){n=n&&n.hasOwnProperty("default")?n.default:n;var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o,a,s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function l(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function f(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,l(["["+i+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,l(["["+i+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,l(["["+i+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,l(["["+i+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}}(a=o=o||{})[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT";var p=o.INFO,d=(Object.defineProperty(m.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),m.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,l([this,o.DEBUG],t))},m.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,l([this,o.VERBOSE],t))},m.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,l([this,o.INFO],t))},m.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,l([this,o.WARN],t))},m.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,l([this,o.ERROR],t))},m);function m(t){this.name=t,this._logLevel=p,this._logHandler=f}function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var v,g=(i(b,v=Error),b);function b(t,e){var n=v.call(this,e)||this;return n.code=t,n.name="FirebaseError",Object.setPrototypeOf(n,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,w.prototype.create),n}var w=(E.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(S,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new g(i,s),c=0,h=Object.keys(r);c<h.length;c++){var l=h[c];"_"!==l.slice(-1)&&(l in u&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),u[l]=r[l])}return u},E);function E(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var T,S=/\{\$([^}]+)}/g,_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},I=I||{},A=_;function C(t){return"string"==typeof t}function k(t){return"number"==typeof t}function N(t,e){t=t.split("."),e=e||A;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function D(){}function O(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function R(t){return"array"==O(t)}function x(t){var e=O(t);return"array"==e||"object"==e&&"number"==typeof t.length}function P(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var L="closure_uid_"+(1e9*Math.random()>>>0),M=0;function U(t,e,n){return t.call.apply(t.bind,arguments)}function F(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function q(t,e,n){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?U:F).apply(null,arguments)}function V(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var j=Date.now||function(){return+new Date};function B(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,(t.prototype.constructor=t).yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function W(){this.j=this.j,this.i=this.i}W.prototype.j=!1,W.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[L]||(this[L]=++M))},W.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var K=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(C(t))return C(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=C(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Q(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function H(t){return/^[\s\xa0]*$/.test(t)}var $,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function X(t,e){return-1!=t.indexOf(e)}function J(t,e){return t<e?-1:e<t?1:0}t:{var Z=A.navigator;if(Z){var tt=Z.userAgent;if(tt){$=tt;break t}}$=""}function et(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function nt(t){var e,n={};for(e in t)n[e]=t[e];return n}var rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<rt.length;o++)n=rt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ot(t){return ot[" "](t),t}ot[" "]=D;var at,st,ut=X($,"Opera"),ct=X($,"Trident")||X($,"MSIE"),ht=X($,"Edge"),lt=ht||ct,ft=X($,"Gecko")&&!(X($.toLowerCase(),"webkit")&&!X($,"Edge"))&&!(X($,"Trident")||X($,"MSIE"))&&!X($,"Edge"),pt=X($.toLowerCase(),"webkit")&&!X($,"Edge");function dt(){var t=A.document;return t?t.documentMode:void 0}t:{var mt="",yt=(st=$,ft?/rv:([^\);]+)(\)|;)/.exec(st):ht?/Edge\/([\d\.]+)/.exec(st):ct?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(st):pt?/WebKit\/(\S+)/.exec(st):ut?/(?:Version)[ \/]?(\S+)/.exec(st):void 0);if(yt&&(mt=yt?yt[1]:""),ct){var vt=dt();if(null!=vt&&vt>parseFloat(mt)){at=String(vt);break t}}at=mt}var gt,bt={};function wt(t){return function(t,e){var n=bt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String(at)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=J(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||J(0==a[2].length,0==s[2].length)||J(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var Et=A.document;gt=Et&&ct?dt()||("CSS1Compat"==Et.compatMode?parseInt(at,10):5):void 0;var Tt=!ct||9<=Number(gt),St=ct&&!wt("9"),_t=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{A.addEventListener("test",D,e),A.removeEventListener("test",D,e)}catch(t){}return t}();function It(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function At(t,e){if(It.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ft){t:{try{ot(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=C(t.pointerType)?t.pointerType:Ct[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}It.prototype.b=function(){this.Ja=!1},B(At,It);var Ct={2:"touch",3:"pen",4:"mouse"};At.prototype.b=function(){At.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,St)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var kt="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function Dt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++Nt,this.X=this.Z=!1}function Ot(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function Rt(t){this.src=t,this.a={},this.b=0}function xt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=K(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ot(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}Rt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Pt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Dt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Lt="closure_lm_"+(1e6*Math.random()|0),Mt={};function Ut(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(R(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Gt(r),e&&e[kt]?e.Ba(n,r,P(i)?!!i.capture:!!i,o):Ft(e,n,r,!0,i,o)}(t,e,n,r,i);if(R(e)){for(var o=0;o<e.length;o++)Ut(t,e[o],n,r,i);return null}return n=Gt(n),t&&t[kt]?t.Aa(e,n,P(r)?!!r.capture:!!r,i):Ft(t,e,n,!1,r,i)}function Ft(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=P(i)?!!i.capture:!!i;if(a&&!Tt)return null;var s=Wt(t);if(s||(t[Lt]=s=new Rt(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Bt,e=Tt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),(n.proxy=r).src=t,r.listener=n,t.addEventListener)_t||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function qt(t){if(!k(t)&&t&&!t.X){var e=t.src;if(e&&e[kt])xt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wt(e))?(xt(n,t),0==n.b&&(n.src=null,e[Lt]=null)):Ot(t)}}}function Vt(t){return t in Mt?Mt[t]:Mt[t]="on"+t}function jt(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&qt(t),n.call(r,e)}function Bt(t,e){return!!t.X||jt(t,Tt?new At(e,this):e=new At(e||N("window.event"),this))}function Wt(t){return(t=t[Lt])instanceof Rt?t:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gt(t){return"function"==O(t)?t:(t[Kt]||(t[Kt]=function(e){return t.handleEvent(e)}),t[Kt])}function Qt(){W.call(this),this.c=new Rt(this),(this.J=this).B=null}function zt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&xt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}B(Qt,W),Qt.prototype[kt]=!0,(T=Qt.prototype).addEventListener=function(t,e,n,r){Ut(this,t,e,n,r)},T.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(R(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=P(i)?!!i.capture:!!i,r=Gt(r),e&&e[kt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Pt(a=e.a[n],r,i,o))&&(Ot(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):(e=e&&Wt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Pt(n,r,i,o)),(r=-1<e?n[e]:null)&&qt(r))}(this,t,e,n,r)},T.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(C(t))t=new It(t,n);else if(t instanceof It)t.target=t.target||n;else{var i=t;it(t=new It(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=zt(a,r,!0,t)&&i}if(i=zt(a=t.a=n,r,!0,t)&&i,i=zt(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=zt(a=t.a=e[o],r,!1,t)&&i;return i},T.G=function(){if(Qt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ot(n[r]);delete e.a[t],e.b--}}this.B=null},T.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},T.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ht=A.JSON.stringify;function $t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Yt(){this.b=this.a=null}$t.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Xt,Jt=new $t((function(){return new Zt}),(function(t){t.reset()}));function Zt(){this.next=this.b=this.a=null}function te(t){A.setTimeout((function(){throw t}),0)}function ee(t,e){Xt||function(){var t=A.Promise.resolve(void 0);Xt=function(){t.then(ie)}}(),ne||(Xt(),ne=!0),re.add(t,e)}Yt.prototype.add=function(t,e){var n=Jt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Zt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var ne=!(Zt.prototype.reset=function(){this.next=this.b=this.a=null}),re=new Yt;function ie(){for(var t;r=n=void 0,r=null,(n=re).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),t=r;){try{t.a.call(t.b)}catch(t){te(t)}var e=Jt;e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}var n,r;ne=!1}function oe(t,e){Qt.call(this),this.b=t||1,this.a=e||A,this.f=q(this.gb,this),this.g=j()}function ae(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function se(t,e,n){if("function"==O(t))n&&(t=q(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=q(t.handleEvent,t)}return 2147483647<Number(e)?-1:A.setTimeout(t,e||0)}function ue(t,e,n){W.call(this),this.f=null!=n?q(t,n):t,this.c=e,this.b=q(this.ab,this),this.a=[]}function ce(t){t.U=se(t.b,t.c),t.f.apply(null,t.a)}function he(t){W.call(this),this.b=t,this.a={}}B(oe,Qt),(T=oe.prototype).ba=!1,T.L=null,T.gb=function(){if(this.ba){var t=j()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(ae(this),this.start()))}},T.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=j())},T.G=function(){oe.N.G.call(this),ae(this),delete this.a},B(ue,W),(T=ue.prototype).ea=!1,T.U=null,T.Ua=function(t){this.a=arguments,this.U?this.ea=!0:ce(this)},T.G=function(){ue.N.G.call(this),this.U&&(A.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},T.ab=function(){this.U=null,this.ea&&(this.ea=!1,ce(this))},B(he,W);var le=[];function fe(t,e,n,r){R(n)||(n&&(le[0]=n.toString()),n=le);for(var i=0;i<n.length;i++){var o=Ut(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function pe(t){et(t.a,(function(t,e){this.a.hasOwnProperty(e)&&qt(t)}),t),t.a={}}function de(){}he.prototype.G=function(){he.N.G.call(this),pe(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=new Qt;function ye(t){It.call(this,"serverreachability",t)}function ve(t){me.dispatchEvent(new ye(me,t))}function ge(t){It.call(this,"statevent",t)}function be(t){me.dispatchEvent(new ge(me,t))}function we(t){It.call(this,"timingevent",t)}function Ee(t,e){if("function"!=O(t))throw Error("Fn must not be null and must be a function");return A.setTimeout((function(){t()}),e)}B(ye,It),B(ge,It),B(we,It);var Te={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},Se={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function _e(){}function Ie(t){var e;return(e=t.a)||(e=t.a={}),e}function Ae(){}_e.prototype.a=null;var Ce,ke={OPEN:"a",ib:"b",Na:"c",rb:"d"};function Ne(){It.call(this,"d")}function De(){It.call(this,"c")}function Oe(){}function Re(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new he(this),this.O=xe,t=lt?125:void 0,this.P=new oe(t),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}B(Ne,It),B(De,It),B(Oe,_e),Ce=new Oe;var xe=45e3,Pe={},Le={};function Me(t,e,n){t.F=1,t.f=un(tn(e)),t.l=n,t.H=!0,Fe(t,null)}function Ue(t,e,n,r){t.F=1,t.f=un(tn(e)),t.l=null,t.H=n,Fe(t,r)}function Fe(t,e){t.v=j(),je(t),t.D=tn(t.f),sn(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new ue(q(t.Ka,t,t.a),t.J)),fe(t.I,t.a,"readystatechange",t.eb),e=t.h?nt(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),ve(1)}function qe(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=Ve(t,n);if(i==Le){4==e&&(t.c=4,be(14),r=!1);break}if(i==Pe){t.c=4,be(15),r=!1;break}Qe(t,i)}4==e&&0==n.length&&(t.c=1,be(16),r=!1),t.b=t.b&&r,r||(Ge(t),Ke(t))}function Ve(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?Le:(n=Number(e.substring(n,r)),isNaN(n)?Pe:(r+=1)+n>e.length?Le:(e=e.substr(r,n),t.A=r+n,e))}function je(t){t.R=j()+t.O,Be(t,t.O)}function Be(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=Ee(q(t.bb,t),e)}function We(t){t.i&&(A.clearTimeout(t.i),t.i=null)}function Ke(t){t.g.Da()||t.m||t.g.na(t)}function Ge(t){We(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,ae(t.P),pe(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Qe(t,e){try{t.g.Ga(t,e),ve(4)}catch(t){}}function ze(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(x(t)||C(t))G(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(x(t)||C(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(C(t))return t.split("");if(x(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function He(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof He)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function $e(t,e){Xe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ye(t))}function Ye(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Xe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Xe(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(T=Re.prototype).setTimeout=function(t){this.O=t},T.eb=function(t){t=t.target;var e=this.B;e&&3==tr(t)?e.Ua():this.Ka(t)},T.Ka=function(t){try{if(t==this.a)t:{var e=tr(this.a),n=this.a.ya(),r=this.a.T();if(!(e<3||3==e&&!lt&&!this.a.aa())){this.m||4!=e||7==n||ve(8==n||r<=0?3:2),We(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var a=er(this.a,"X-HTTP-Initial-Response");if(a&&!H(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,be(12),Ge(this),Ke(this);break t}this.s=!0,Qe(this,s)}this.H?(qe(this,e,o),lt&&this.b&&3==e&&(fe(this.I,this.P,"tick",this.cb),this.P.start())):Qe(this,o),4==e&&Ge(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,je(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,be(12)):(this.c=0,be(13)),Ge(this),Ke(this)}}}catch(t){}},T.cb=function(){if(this.a){var t=tr(this.a),e=this.a.aa();this.A<e.length&&(We(this),qe(this,t,e),this.b&&4!=t&&je(this))}},T.cancel=function(){this.m=!0,Ge(this)},T.bb=function(){this.i=null;var t=j();0<=t-this.R?(2!=this.F&&(ve(3),be(17)),Ge(this),this.c=2,Ke(this)):Be(this,this.R-t)},(T=He.prototype).C=function(){Ye(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},T.K=function(){return Ye(this),this.a.concat()},T.get=function(t,e){return Xe(this.b,t)?this.b[t]:e},T.set=function(t,e){Xe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},T.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Je=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ze(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Ze?(this.h=void 0!==e?e:t.h,en(this,t.f),this.j=t.j,nn(this,t.b),rn(this,t.i),this.a=t.a,on(this,Tn(t.c)),this.g=t.g):t&&(n=String(t).match(Je))?(this.h=!!e,en(this,n[1]||"",!0),this.j=cn(n[2]||""),nn(this,n[3]||"",!0),rn(this,n[4]),this.a=cn(n[5]||"",!0),on(this,n[6]||"",!0),this.g=cn(n[7]||"")):(this.h=!!e,this.c=new vn(null,this.h))}function tn(t){return new Ze(t)}function en(t,e,n){t.f=n?cn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function nn(t,e,n){t.b=n?cn(e,!0):e}function rn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.i=e}else t.i=null}function on(t,e,n){e instanceof vn?(t.c=e,function(t,e){e&&!t.f&&(gn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(bn(this,e),En(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=hn(e,mn)),t.c=new vn(e,t.h))}function an(t,e,n){t.c.set(e,n)}function sn(t,e,n){R(n)||(n=[String(n)]),En(t.c,e,n)}function un(t){return an(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^j()).toString(36)),t}function cn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hn(t,e,n){return C(t)?(t=encodeURI(t).replace(e,ln),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ln(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ze.prototype.toString=function(){var t=[],e=this.f;e&&t.push(hn(e,fn,!0),":");var n=this.b;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(hn(e,fn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(hn(n,"/"==n.charAt(0)?dn:pn,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",hn(n,yn)),t.join("")},Ze.prototype.resolve=function(t){var e=tn(this),n=!!t.f;n?en(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?nn(e,t.b):n=null!=t.i;var r=t.a;if(n)rn(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(X(i,"./")||X(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?on(e,Tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var fn=/[#\/\?@]/g,pn=/[#\?:]/g,dn=/[#\?]/g,mn=/[#\?@]/g,yn=/#/g;function vn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gn(t){t.a||(t.a=new He,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function bn(t,e){gn(t),e=Sn(t,e),Xe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,$e(t.a,e))}function wn(t,e){return gn(t),e=Sn(t,e),Xe(t.a.b,e)}function En(t,e,n){bn(t,e),0<n.length&&(t.c=null,t.a.set(Sn(t,e),z(n)),t.b+=n.length)}function Tn(t){var e=new vn;return e.c=t.c,t.a&&(e.a=new He(t.a),e.b=t.b),e}function Sn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function _n(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function In(t){var e=t.a.F.a;if(null!=e)be(4),e?(be(10),pr(t.a,t,!1)):(be(11),pr(t.a,t,!0));else{t.b=new Re(t,void 0,void 0),t.b.h=t.h,e=gr(e=t.a,e.Y()?t.f:null,t.i),be(4),sn(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&an(e,n,r),Ue(t.b,e,!1,t.f)}}function An(){this.a=this.b=null}function Cn(){this.a=new He}function kn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[L]||(t[L]=++M)):e.charAt(0)+t}function Nn(t,e){this.b=t,this.a=e}function Dn(t){this.g=t||On,t=A.PerformanceNavigationTiming?0<(t=A.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(A.ka&&A.ka.Ea&&A.ka.Ea()&&A.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Cn),this.b=null,this.c=[]}(T=vn.prototype).add=function(t,e){gn(this),this.c=null,t=Sn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},T.forEach=function(t,e){gn(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},T.K=function(){gn(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},T.C=function(t){gn(this);var e=[];if(C(t))wn(this,t)&&(e=Q(e,this.a.get(Sn(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},T.set=function(t,e){return gn(this),this.c=null,wn(this,t=Sn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},T.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},T.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},B((function(){}),(function(){})),(T=_n.prototype).M=null,T.$=function(t){return this.a.$(t)},T.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},T.Da=function(){return!1},T.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=er(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=er(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(t){return(e=this.a).m=this.c,void yr(e,2)}this.f=r[0]}else(e=this.a).m=this.c,yr(e,2)}else 1==this.M&&(this.g?be(6):"11111"==e?(be(5),this.g=!0,(!ct||10<=Number(gt))&&(this.c=200,this.b.cancel(),be(11),pr(this.a,this,!0))):(be(7),this.g=!1))},T.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,In(this)):1==this.M&&(this.g?(be(11),pr(this.a,this,!0)):(be(10),pr(this.a,this,!1)));else{0==this.M?be(8):1==this.M&&be(9);var t=this.a;t.m=this.c,yr(t,2)}},T.Y=function(){return this.a.Y()},T.ma=function(){return this.a.ma()},Cn.prototype.add=function(t){this.a.set(kn(t),t)},Cn.prototype.C=function(){return this.a.C()};var On=10;function Rn(t,e){!t.a&&(X(e,"spdy")||X(e,"quic")||X(e,"h2"))&&(t.f=t.g,t.a=new Cn,t.b&&(Mn(t,t.b),t.b=null))}function xn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function Pn(t){return t.b?1:t.a?t.a.a.c:0}function Ln(t,e){return t.b?t.b==e:!!t.a&&(e=kn(e),Xe(t.a.a.b,e))}function Mn(t,e){t.a?t.a.add(e):t.b=e}function Un(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=kn(e),n=Xe(t.a.a.b,n)),n&&$e(t.a.a,kn(e)))}function Fn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null==t.a||0==t.a.a.c)return z(t.c);var e=t.c;return G(t.a.C(),(function(t){e=e.concat(t.j)})),e}function qn(){}function Vn(){this.a=new qn}function jn(t,e,n){var r=n||"";try{ze(t,(function(t,n){var i=t;P(t)&&(i=Ht(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Bn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Dn.prototype.cancel=function(){this.c=Fn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(G(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},qn.prototype.stringify=function(t){return A.JSON.stringify(t,void 0)},qn.prototype.parse=function(t){return A.JSON.parse(t,void 0)};var Wn=A.JSON.parse;function Kn(t){Qt.call(this),this.headers=new He,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Gn,this.D=this.F=!1}B(Kn,Qt);var Gn="",Qn=/^https?$/i,zn=["POST","PUT"];function Hn(t){return"content-type"==t.toLowerCase()}function $n(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Yn(t),Jn(t)}function Yn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Xn(t){if(t.b&&void 0!==I&&(!t.s[1]||4!=tr(t)||2!=t.T()))if(t.l&&4==tr(t))se(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==tr(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.A).match(Je)[1]||null;if(!o&&A.self&&A.self.location){var a=A.self.location.protocol;o=a.substr(0,a.length-1)}i=!Qn.test(o?o.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",Yn(t))}finally{Jn(t)}}}function Jn(t,e){if(t.a){Zn(t);var n=t.a,r=t.s[0]?D:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Zn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(A.clearTimeout(t.m),t.m=null)}function tr(t){return t.a?t.a.readyState:0}function er(t,e){return t.a?t.a.getResponseHeader(e):null}function nr(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return et(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),C(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=t.indexOf("#"))<0&&(n=t.length),(r=t.indexOf("?"))<0||n<r){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return an(t,e,n),t}function rr(t){this.f=[],this.F=new An,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!N("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=N("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=N("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=N("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=N("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new Dn(t&&t.concurrentRequestLimit),this.ja=new Vn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function ir(t){if(or(t),3==t.u){var e=t.P++,n=tn(t.B);an(n,"SID",t.H),an(n,"RID",e),an(n,"TYPE","terminate"),cr(t,n),(e=new Re(t,e,void 0)).F=2,e.f=un(tn(n)),n=!1,A.navigator&&A.navigator.sendBeacon&&(n=A.navigator.sendBeacon(e.f.toString(),"")),!n&&A.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=j(),je(e)}vr(t)}function or(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(A.clearTimeout(t.l),t.l=null),dr(t),t.b.cancel(),t.h&&(k(t.h)&&A.clearTimeout(t.h),t.h=null)}function ar(t,e){t.f.push(new Nn(t.Ra++,e)),3==t.u&&sr(t)}function sr(t){xn(t.b)||t.h||(t.h=!0,ee(t.Ia,t),t.A=0)}function ur(t,e){var n;n=e?e.W:t.P++;var r=tn(t.B);an(r,"SID",t.H),an(r,"RID",n),an(r,"AID",t.O),cr(t,r),t.g&&t.i&&nr(r,t.g,t.i),n=new Re(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=hr(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),Mn(t.b,n),Me(n,r,e)}function cr(t,e){t.c&&ze({},(function(t,n){an(e,n,t)}))}function hr(t,e,n){n=Math.min(t.f.length,n);var r=t.c?q(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{jn(h,a,"req"+c+"_")}catch(t){r&&r(h)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function lr(t){t.a||t.l||(t.S=1,ee(t.Ha,t),t.v=0)}function fr(t){return!(t.a||t.l||3<=t.v)&&(t.S++,t.l=Ee(q(t.Ha,t),mr(t,t.v)),t.v++,!0)}function pr(t,e,n){var r=e.l;r&&Rn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=gr(t,null,t.ha),sr(t)}function dr(t){null!=t.s&&(A.clearTimeout(t.s),t.s=null)}function mr(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function yr(t,e){if(2==e){var n=null;t.c&&(n=null);var r=q(t.fb,t);n||(n=new Ze("//www.google.com/images/cleardot.gif"),A.location&&"http"==A.location.protocol||en(n,"https"),un(n)),function(t,e){var n=new de;if(A.Image){var r=new Image;r.onload=V(Bn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=V(Bn,n,r,"TestLoadImage: error",!1,e),r.onabort=V(Bn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=V(Bn,n,r,"TestLoadImage: timeout",!1,e),A.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else be(2);t.u=0,t.c&&t.c.ta(e),vr(t),or(t)}function vr(t){t.u=0,t.m=-1,t.c&&(0==Fn(t.b).length&&0==t.f.length||(t.b.c.length=0,z(t.f),t.f.length=0),t.c.sa())}function gr(t,e,n){var r=function(t){return t instanceof Ze?tn(t):new Ze(t,void 0)}(n);if(""!=r.b)e&&nn(r,e+"."+r.b),rn(r,r.i);else{var i,o=A.location;i=e?e+"."+o.hostname:o.hostname,r=function(t,e,n,r){var i=new Ze(null,void 0);return t&&en(i,t),e&&nn(i,e),n&&rn(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return t.V&&et(t.V,(function(t,e){an(r,e,t)})),e=t.j,n=t.I,e&&n&&an(r,e,n),an(r,"VER",t.wa),cr(t,r),r}function br(){}function wr(){if(ct&&!(10<=Number(gt)))throw Error("Environmental error: no available transport.")}function Er(t,e){Qt.call(this),this.a=new rr(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=t,n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!H(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!H(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new _r(this)}function Tr(t){Ne.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Sr(){De.call(this),this.status=1}function _r(t){this.a=t}(T=Kn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Ie(this.H):Ie(Ce),this.a.onreadystatechange=q(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void $n(this,t)}t=n||"";var i=new He(this.headers);r&&ze(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Hn,n=t.length,r=C(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:C(t)?t.charAt(e):t[e]}(i.K()),n=A.FormData&&t instanceof A.FormData,0<=K(zn,e)&&!r&&!n&&i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Zn(this),0<this.o&&((this.D=function(t){return ct&&wt(9)&&k(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=q(this.Ca,this)):this.m=se(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){$n(this,t)}},T.Ca=function(){void 0!==I&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},T.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Jn(this))},T.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Jn(this,!0)),Kn.N.G.call(this)},T.Fa=function(){this.j||(this.w||this.l||this.g?Xn(this):this.$a())},T.$a=function(){Xn(this)},T.T=function(){try{return 2<tr(this)?this.a.status:-1}catch(i){return-1}},T.za=function(){try{return 2<tr(this)?this.a.statusText:""}catch(i){return""}},T.aa=function(){try{return this.a?this.a.responseText:""}catch(i){return""}},T.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Wn(e)}},T.ya=function(){return this.h},T.Ya=function(){return C(this.f)?this.f:String(this.f)},(T=rr.prototype).wa=8,T.u=1,T.Da=function(){return 0==this.u},T.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random()),t=this.P++;var e,n=new Re(this,t,void 0),r=this.i;if(this.J&&(r?it(r=nt(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&C(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=hr(this,n,e),an(i=tn(this.B),"RID",t),an(i,"CVER",22),this.o&&this.j&&an(i,"X-HTTP-Session-Id",this.j),cr(this,i),this.g&&r&&nr(i,this.g,r),Mn(this.b,n),this.W?(an(i,"$req",e),an(i,"SID","null"),n.S=!0,Me(n,i,null)):Me(n,i,e),this.u=2}}else 3==this.u&&(t?ur(this,t):0==this.f.length||xn(this.b)||ur(this))},T.Ha=function(){this.l=null,this.a=new Re(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=tn(this.pa);an(t,"RID","rpc"),an(t,"SID",this.H),an(t,"CI",this.ia?"0":"1"),an(t,"AID",this.O),cr(this,t),an(t,"TYPE","xmlhttp"),this.g&&this.i&&nr(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),Ue(this.a,t,!0,this.ga)},T.Ga=function(t,e){if(0!=this.u&&(this.a==t||Ln(this.b,t)))if(this.m=t.o,!t.s&&Ln(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(t){n=null}if(R(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;dr(this),this.a.cancel(),this.a=null}fr(this),be(18)}}else this.ra=e[1],0<this.ra-this.O&&e[2]<37500&&this.ia&&0==this.v&&!this.s&&(this.s=Ee(q(this.Za,this),6e3));if(Pn(this.b)<=1&&this.fa){try{this.fa()}catch(t){}this.fa=void 0}}else yr(this,11)}else if(!t.s&&this.a!=t||dr(this),!H(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&k(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=er(r,"X-Client-Wire-Protocol"))&&Rn(this.b,i),this.j&&(r=er(r,"X-HTTP-Session-Id")))&&(this.I=r,an(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=gr(this,this.Y()?this.ga:null,this.ha),r.s?(Un(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(We(r),je(r)),this.a=r):lr(this),0<this.f.length&&sr(this)}else"stop"!=r[0]&&"close"!=r[0]||yr(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?yr(this,7):ir(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},T.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,fr(this),be(19))},T.na=function(t){var e=null;if(this.a==t){dr(this),this.a=null;var n=2}else{if(!Ln(this.b,t))return;e=t.j,Un(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=j()-t.v,me.dispatchEvent(new we(me,t.l?t.l.length:0,e,this.A)),sr(this)):lr(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(Pn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.f=e.j.concat(t.f),!0):!(1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa))&&(t.h=Ee(q(t.Ia,t,e),mr(t,t.A)),t.A++,!0))}(this,t)||2==n&&fr(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:yr(this,5);break;case 4:yr(this,10);break;case 3:yr(this,6);break;default:yr(this,2)}}},T.fb=function(t){be(t?2:1)},T.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Kn(this.La)).F=this.R,t},T.ma=function(){return!!this.c&&!0},T.Y=function(){return this.R},(T=br.prototype).va=function(){},T.ua=function(){},T.ta=function(){},T.sa=function(){},T.Ta=function(){},wr.prototype.a=function(t,e){return new Er(t,e)},B(Er,Qt),(T=Er.prototype).addEventListener=function(t,e,n,r){Er.N.addEventListener.call(this,t,e,n,r)},T.removeEventListener=function(t,e,n,r){Er.N.removeEventListener.call(this,t,e,n,r)},T.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;be(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new _n(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=nr(e,t.g,t.i)),(t=t.w).i=n,e=gr(t.a,null,t.i),be(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,In(t)):(sn(e,"MODE","init"),!t.a.o&&t.a.j&&sn(e,"X-HTTP-Session-Id",t.a.j),t.b=new Re(t,void 0,void 0),t.b.h=t.h,Ue(t.b,e,!1,null),t.M=0)},T.close=function(){ir(this.a)},T.Xa=function(t){if(C(t)){var e={};e.__data__=t,ar(this.a,e)}else this.h?((e={}).__data__=Ht(t),ar(this.a,e)):ar(this.a,t)},T.G=function(){this.a.c=null,delete this.f,ir(this.a),delete this.a,Er.N.G.call(this)},B(Tr,Ne),B(Sr,De),B(_r,br),_r.prototype.va=function(){this.a.dispatchEvent("a")},_r.prototype.ua=function(t){this.a.dispatchEvent(new Tr(t))},_r.prototype.ta=function(t){this.a.dispatchEvent(new Sr(t))},_r.prototype.sa=function(){this.a.dispatchEvent("b")};var Ir=V((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),wr);wr.prototype.createWebChannel=wr.prototype.a,Er.prototype.send=Er.prototype.Xa,Er.prototype.open=Er.prototype.Wa,Er.prototype.close=Er.prototype.close,Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Se.COMPLETE="complete",(Ae.EventType=ke).OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",Qt.prototype.listen=Qt.prototype.Aa,Kn.prototype.listenOnce=Kn.prototype.Ba,Kn.prototype.getLastError=Kn.prototype.Ya,Kn.prototype.getLastErrorCode=Kn.prototype.ya,Kn.prototype.getStatus=Kn.prototype.T,Kn.prototype.getStatusText=Kn.prototype.za,Kn.prototype.getResponseJson=Kn.prototype.Va,Kn.prototype.getResponseText=Kn.prototype.aa,Kn.prototype.send=Kn.prototype.ca;var Ar,Cr,kr={createWebChannelTransport:Ir,ErrorCode:Te,EventType:Se,WebChannel:Ae,XhrIo:Kn},Nr=kr.createWebChannelTransport,Dr=kr.ErrorCode,Or=kr.EventType,Rr=kr.WebChannel,xr=kr.XhrIo,Pr=n.SDK_VERSION,Lr=new d("@firebase/firestore");function Mr(){return Lr.logLevel===o.DEBUG?Ar.DEBUG:Lr.logLevel===o.SILENT?Ar.SILENT:Ar.ERROR}function Ur(t){switch(t){case Ar.DEBUG:Lr.logLevel=o.DEBUG;break;case Ar.ERROR:Lr.logLevel=o.ERROR;break;case Ar.SILENT:Lr.logLevel=o.SILENT;break;default:Lr.error("Firestore ("+Pr+"): Invalid value passed to `setLogLevel`")}}function Fr(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Lr.logLevel<=o.DEBUG){var i=n.map(Vr);Lr.debug.apply(Lr,h(["Firestore ("+Pr+") ["+t+"]: "+e],i))}}function qr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Lr.logLevel<=o.ERROR){var r=e.map(Vr);Lr.error.apply(Lr,h(["Firestore ("+Pr+"): "+t],r))}}function Vr(t){if("string"==typeof t)return t;var e=Wr.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function jr(t){var e="FIRESTORE ("+Pr+") INTERNAL ASSERTION FAILED: "+t;throw qr(e),new Error(e)}function Br(t,e){t||jr(e)}(Cr=Ar=Ar||{})[Cr.DEBUG=0]="DEBUG",Cr[Cr.ERROR=1]="ERROR",Cr[Cr.SILENT=2]="SILENT";var Wr=(Kr.setPlatform=function(t){Kr.platform&&jr("Platform already defined"),Kr.platform=t},Kr.getPlatform=function(){return Kr.platform||jr("Platform not set"),Kr.platform},Kr);function Kr(){}function Gr(){return Wr.getPlatform().emptyByteString}var Qr,zr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hr=(i($r,Qr=Error),$r);function $r(t,e){var n=Qr.call(this,e)||this;return n.code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Yr(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new Hr(zr.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function Xr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jr(t,e){return void 0!==t?t:e}function Zr(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function ti(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ei(t){for(var e in Br(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ni(t,e){if(0!==e.length)throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+bi(e.length,"argument")+".")}function ri(t,e,n){if(e.length!==n)throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() requires "+bi(n,"argument")+", but was called with "+bi(e.length,"argument")+".")}function ii(t,e,n){if(e.length<n)throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() requires at least "+bi(n,"argument")+", but was called with "+bi(e.length,"argument")+".")}function oi(t,e,n,r){if(e.length<n||e.length>r)throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+bi(e.length,"argument")+".")}function ai(t,e,n,r){fi(t,e,gi(n)+" argument",r)}function si(t,e,n,r){void 0!==r&&ai(t,e,n,r)}function ui(t,e,n,r){fi(t,e,n+" option",r)}function ci(t,e,n,r){void 0!==r&&ui(t,e,n,r)}function hi(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+di(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+di(r[o]))}(t,e,n,r,i)}function li(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(di(u))}var c=di(r);throw new Hr(zr.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function fi(t,e,n,r){if(!("object"===e?pi(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=di(r);throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function pi(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function di(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":jr("Unknown wrong type: "+typeof t);if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}function mi(t,e,n){if(void 0===n)throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+gi(e)+" argument, but it was undefined.")}function yi(t,e,n){ti(e,(function(e,r){if(n.indexOf(e)<0)throw new Hr(zr.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function vi(t,e,n,r){var i=di(r);return new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() requires its "+gi(n)+" argument to be a "+e+", but it was: "+i)}function gi(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function bi(t,e){return t+" "+e+(1===t?"":"s")}var wi=(Ei.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return Br(20===e.length,"Invalid auto ID: "+e),e},Ei);function Ei(){}function Ti(t,e){return t<e?-1:e<t?1:0}function Si(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function _i(t){return t+"\0"}function Ii(){if("undefined"==typeof Uint8Array)throw new Hr(zr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ai(){if(!Wr.getPlatform().base64Available)throw new Hr(zr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ci=(ki.fromBase64String=function(t){ri("Blob.fromBase64String",arguments,1),ai("Blob.fromBase64String","string",1,t),Ai();try{return new ki(Wr.getPlatform().atob(t))}catch(t){throw new Hr(zr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},ki.fromUint8Array=function(t){if(ri("Blob.fromUint8Array",arguments,1),Ii(),!(t instanceof Uint8Array))throw vi("Blob.fromUint8Array","Uint8Array",1,t);return new ki(Array.prototype.map.call(t,(function(t){return String.fromCharCode(t)})).join(""))},ki.prototype.toBase64=function(){return ri("Blob.toBase64",arguments,0),Ai(),Wr.getPlatform().btoa(this._binaryString)},ki.prototype.toUint8Array=function(){ri("Blob.toUint8Array",arguments,0),Ii();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},ki.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},ki.prototype.isEqual=function(t){return this._binaryString===t._binaryString},ki.prototype._compareTo=function(t){return Ti(this._binaryString,t._binaryString)},ki);function ki(t){Ai(),this._binaryString=t}var Ni=Yr(Ci,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Di=function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Oi="(default)",Ri=(Object.defineProperty(xi.prototype,"isDefaultDatabase",{get:function(){return this.database===Oi},enumerable:!0,configurable:!0}),xi.prototype.isEqual=function(t){return t instanceof xi&&t.projectId===this.projectId&&t.database===this.database},xi.prototype.compareTo=function(t){return Ti(this.projectId,t.projectId)||Ti(this.database,t.database)},xi);function xi(t,e){this.projectId=t,this.database=e||Oi}var Pi=(Li.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Li.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},Li.INVALID=-1,Li);function Li(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}var Mi="__name__",Ui=(Object.defineProperty(Fi.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),Fi.prototype.isEqual=function(t){return 0===Fi.comparator(this,t)},Fi.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof Fi?t.forEach((function(t){e.push(t)})):e.push(t),this.construct(e)},Fi.prototype.limit=function(){return this.offset+this.length},Fi.prototype.popFirst=function(t){return t=void 0===t?1:t,Br(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},Fi.prototype.popLast=function(){return Br(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},Fi.prototype.firstSegment=function(){return Br(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},Fi.prototype.lastSegment=function(){return this.get(this.length-1)},Fi.prototype.get=function(t){return Br(t<this.length,"Index out of range"),this.segments[this.offset+t]},Fi.prototype.isEmpty=function(){return 0===this.length},Fi.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Fi.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Fi.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},Fi.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Fi.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},Fi);function Fi(t,e,n){void 0===e?e=0:e>t.length&&jr("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&jr("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}var qi,Vi=(i(ji,qi=Ui),ji.prototype.construct=function(t,e,n){return new ji(t,e,n)},ji.prototype.canonicalString=function(){return this.toArray().join("/")},ji.prototype.toString=function(){return this.canonicalString()},ji.fromString=function(t){if(0<=t.indexOf("//"))throw new Hr(zr.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new ji(t.split("/").filter((function(t){return 0<t.length})))},ji.EMPTY_PATH=new ji([]),ji);function ji(){return null!==qi&&qi.apply(this,arguments)||this}var Bi,Wi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ki=(i(Gi,Bi=Ui),Gi.prototype.construct=function(t,e,n){return new Gi(t,e,n)},Gi.isValidIdentifier=function(t){return Wi.test(t)},Gi.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),Gi.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},Gi.prototype.toString=function(){return this.canonicalString()},Gi.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===Mi},Gi.keyField=function(){return new Gi([Mi])},Gi.fromServerFormat=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Hr(zr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new Hr(zr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Hr(zr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Hr(zr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Gi(e)},Gi.EMPTY_PATH=new Gi([]),Gi);function Gi(){return null!==Bi&&Bi.apply(this,arguments)||this}var Qi=(zi.prototype.hasCollectionId=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},zi.prototype.isEqual=function(t){return null!==t&&0===Vi.comparator(this.path,t.path)},zi.prototype.toString=function(){return this.path.toString()},zi.comparator=function(t,e){return Vi.comparator(t.path,e.path)},zi.isDocumentKey=function(t){return t.length%2==0},zi.fromSegments=function(t){return new zi(new Vi(t.slice()))},zi.fromPathString=function(t){return new zi(Vi.fromString(t))},zi.EMPTY=new zi(new Vi([])),zi);function zi(t){this.path=t,Br(zi.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}var Hi,$i,Yi=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};($i=Hi=Hi||{}).All="all",$i.ListenStreamIdle="listen_stream_idle",$i.ListenStreamConnectionBackoff="listen_stream_connection_backoff",$i.WriteStreamIdle="write_stream_idle",$i.WriteStreamConnectionBackoff="write_stream_connection_backoff",$i.OnlineStateTimeout="online_state_timeout",$i.ClientMetadataRefresh="client_metadata_refresh",$i.LruGarbageCollection="lru_garbage_collection",$i.RetryTransaction="retry_transaction";var Xi=(Ji.createAndSchedule=function(t,e,n,r,i){var o=new Ji(t,e,Date.now()+n,r,i);return o.start(n),o},Ji.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},Ji.prototype.skipDelay=function(){return this.handleDelayElapsed()},Ji.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hr(zr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Ji.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},Ji.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Ji);function Ji(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}var Zi=(Object.defineProperty(to.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),to.prototype.enqueueAndForget=function(t){this.enqueue(t)},to.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},to.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},to.prototype.enqueueAndInitiateShutdown=function(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},to.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(t){})):this.enqueueInternal(t)},to.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then((function(){return e.operationInProgress=!0,t().catch((function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw qr("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.operationInProgress=!1,t}))}));return this.tail=n},to.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),Br(0<=e,"Attempted to schedule an operation with a negative delay of "+e),-1<this.timerIdsToSkip.indexOf(t)&&(e=0);var i=Xi.createAndSchedule(this,t,e,n,(function(t){return r.removeDelayedOperation(t)}));return this.delayedOperations.push(i),i},to.prototype.verifyNotFailed=function(){this.failure&&jr("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},to.prototype.verifyOperationInProgress=function(){Br(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},to.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},to.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},to.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then((function(){Br(t===Hi.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==Hi.All&&i.timerId===t)break}return e.drain()}))},to.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},to.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);Br(0<=e,"Delayed operation not found."),this.delayedOperations.splice(e,1)},to);function to(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}var eo="",no="",ro="",io="";function oo(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=so(e)),e=ao(t.get(n),e);return so(e)}function ao(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=eo+ro;break;case eo:n+=eo+io;break;default:n+=o}}return n}function so(t){return t+eo+no}function uo(t){var e=t.length;if(Br(2<=e,"Invalid path "+t),2===e)return Br(t.charAt(0)===eo&&t.charAt(1)===no,"Non-empty path "+t+" had length 2"),Vi.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(eo,o);switch((a<0||n<a)&&jr('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case no:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case ro:i+=t.substring(o,a),i+="\0";break;case io:i+=t.substring(o,a+1);break;default:jr('Invalid encoded resource path: "'+t+'"')}o=a+2}return new Vi(r)}var co=(ho.now=function(){return ho.fromMillis(Date.now())},ho.fromDate=function(t){return ho.fromMillis(t.getTime())},ho.fromMillis=function(t){var e=Math.floor(t/1e3);return new ho(e,1e6*(t-1e3*e))},ho.prototype.toDate=function(){return new Date(this.toMillis())},ho.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},ho.prototype._compareTo=function(t){return this.seconds===t.seconds?Ti(this.nanoseconds,t.nanoseconds):Ti(this.seconds,t.seconds)},ho.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},ho.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},ho);function ho(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}var lo=(fo.fromMicroseconds=function(t){var e=Math.floor(t/1e6);return new fo(new co(e,t%1e6*1e3))},fo.fromTimestamp=function(t){return new fo(t)},fo.forDeletedDoc=function(){return fo.MIN},fo.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},fo.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},fo.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},fo.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},fo.prototype.toTimestamp=function(){return this.timestamp},fo.MIN=new fo(new co(0,0)),fo);function fo(t){this.timestamp=t}var po=(mo.prototype.insert=function(t,e){return new mo(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,go.BLACK,null,null))},mo.prototype.remove=function(t){return new mo(this.comparator,this.root.remove(t,this.comparator).copy(null,null,go.BLACK,null,null))},mo.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},mo.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},mo.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(mo.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),mo.prototype.minKey=function(){return this.root.minKey()},mo.prototype.maxKey=function(){return this.root.maxKey()},mo.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},mo.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},mo.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},mo.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},mo.prototype.getIterator=function(){return new yo(this.root,null,this.comparator,!1)},mo.prototype.getIteratorFrom=function(t){return new yo(this.root,t,this.comparator,!1)},mo.prototype.getReverseIterator=function(){return new yo(this.root,null,this.comparator,!0)},mo.prototype.getReverseIteratorFrom=function(t){return new yo(this.root,t,this.comparator,!0)},mo);function mo(t,e){this.comparator=t,this.root=e||go.EMPTY}var yo=(vo.prototype.getNext=function(){Br(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},vo.prototype.hasNext=function(){return 0<this.nodeStack.length},vo.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},vo);function vo(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}var go=(bo.prototype.copy=function(t,e,n,r,i){return new bo(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},bo.prototype.isEmpty=function(){return!1},bo.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},bo.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},bo.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},bo.prototype.minKey=function(){return this.min().key},bo.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},bo.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},bo.prototype.removeMin=function(){if(this.left.isEmpty())return bo.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},bo.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return bo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()},bo.prototype.isRed=function(){return this.color},bo.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},bo.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},bo.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},bo.prototype.rotateLeft=function(){var t=this.copy(null,null,bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},bo.prototype.rotateRight=function(){var t=this.copy(null,null,bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},bo.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},bo.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},bo.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw jr("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw jr("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw jr("Black depths differ");return t+(this.isRed()?0:1)},bo.EMPTY=null,bo.RED=!0,bo.BLACK=!1,bo);function bo(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:bo.RED,this.left=null!=r?r:bo.EMPTY,this.right=null!=i?i:bo.EMPTY,this.size=this.left.size+1+this.right.size}var wo=(Object.defineProperty(Eo.prototype,"key",{get:function(){throw jr("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(Eo.prototype,"value",{get:function(){throw jr("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(Eo.prototype,"color",{get:function(){throw jr("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(Eo.prototype,"left",{get:function(){throw jr("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(Eo.prototype,"right",{get:function(){throw jr("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),Eo.prototype.copy=function(t,e,n,r,i){return this},Eo.prototype.insert=function(t,e,n){return new go(t,e)},Eo.prototype.remove=function(t,e){return this},Eo.prototype.isEmpty=function(){return!0},Eo.prototype.inorderTraversal=function(t){return!1},Eo.prototype.reverseTraversal=function(t){return!1},Eo.prototype.minKey=function(){return null},Eo.prototype.maxKey=function(){return null},Eo.prototype.isRed=function(){return!1},Eo.prototype.checkMaxDepth=function(){return!0},Eo.prototype.check=function(){return 0},Eo);function Eo(){this.size=0}go.EMPTY=new wo;var To=(So.fromMapKeys=function(t){var e=new So(t.comparator);return t.forEach((function(t){e=e.add(t)})),e},So.prototype.has=function(t){return null!==this.data.get(t)},So.prototype.first=function(){return this.data.minKey()},So.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(So.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),So.prototype.indexOf=function(t){return this.data.indexOf(t)},So.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},So.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,t[1]))return;e(r.key)}},So.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},So.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},So.prototype.getIterator=function(){return new _o(this.data.getIterator())},So.prototype.getIteratorFrom=function(t){return new _o(this.data.getIteratorFrom(t))},So.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},So.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},So.prototype.isEmpty=function(){return this.data.isEmpty()},So.prototype.unionWith=function(t){var e=this;return t.forEach((function(t){e=e.add(t)})),e},So.prototype.isEqual=function(t){if(!(t instanceof So))return!1;if(this.size!==t.size)return!1;for(var e=this.data.getIterator(),n=t.data.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},So.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},So.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},So.prototype.copy=function(t){var e=new So(this.comparator);return e.data=t,e},So);function So(t){this.comparator=t,this.data=new po(this.comparator)}var _o=(Io.prototype.getNext=function(){return this.iter.getNext().key},Io.prototype.hasNext=function(){return this.iter.hasNext()},Io);function Io(t){this.iter=t}var Ao=new po(Qi.comparator);function Co(){return Ao}function ko(){return Co()}var No=new po(Qi.comparator);function Do(){return No}var Oo=new po(Qi.comparator);function Ro(){return Oo}var xo=new To(Qi.comparator);function Po(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=xo,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Lo=new To(Ti);function Mo(){return Lo}var Uo=(Fo.prototype.applyToRemoteDocument=function(t,e,n){e&&Br(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;Br(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},Fo.prototype.applyToLocalView=function(t,e){e&&Br(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.applyToLocalView(e,i,this.localWriteTime))}return e},Fo.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))})),n},Fo.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Po())},Fo.prototype.isEqual=function(t){return this.batchId===t.batchId&&Si(this.mutations,t.mutations)&&Si(this.baseMutations,t.baseMutations)},Fo);function Fo(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,Br(0<(this.mutations=r).length,"Cannot create an empty mutation batch")}var qo=(Vo.from=function(t,e,n,r){Br(t.mutations.length===n.length,"Mutations sent "+t.mutations.length+" must equal results received "+n.length);for(var i=Ro(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new Vo(t,e,n,r,i)},Vo);function Vo(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}var jo=(Bo.prototype.catch=function(t){return this.next(void 0,t)},Bo.prototype.next=function(t,e){var n=this;return this.callbackAttached&&jr("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Bo((function(r,i){n.nextCallback=function(e){n.wrapSuccess(t,e).next(r,i)},n.catchCallback=function(t){n.wrapFailure(e,t).next(r,i)}}))},Bo.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},Bo.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof Bo?e:Bo.resolve(e)}catch(t){return Bo.reject(t)}},Bo.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction((function(){return t(e)})):Bo.resolve(e)},Bo.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction((function(){return t(e)})):Bo.reject(e)},Bo.resolve=function(t){return new Bo((function(e,n){e(t)}))},Bo.reject=function(t){return new Bo((function(e,n){n(t)}))},Bo.waitFor=function(t){return new Bo((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},Bo.or=function(t){for(var e=Bo.resolve(!1),n=function(t){e=e.next((function(e){return e?Bo.resolve(e):t()}))},r=0,i=t;r<i.length;r++)n(i[r]);return e},Bo.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},Bo);function Bo(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}var Wo="SimpleDb",Ko=(Go.openOrCreate=function(t,e,n){return Br(Go.isAvailable(),"IndexedDB not supported in current environment."),Fr(Wo,"Opening database:",t),new jo((function(r,i){var o=window.indexedDB.open(t,e);o.onsuccess=function(t){var e=t.target.result;r(new Go(e))},o.onblocked=function(){i(new Hr(zr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;"VersionError"===e.name?i(new Hr(zr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(e)},o.onupgradeneeded=function(e){Fr(Wo,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var r=e.target.result;n.createOrUpgrade(r,o.transaction,e.oldVersion,cu).next((function(){Fr(Wo,"Database upgrade to version "+cu+" complete")}))}})).toPromise()},Go.delete=function(t){return Fr(Wo,"Removing database:",t),Jo(window.indexedDB.deleteDatabase(t)).toPromise()},Go.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(Go.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var t=y(),e=Go.getIOSVersion(t),n=0<e&&e<10,r=Go.getAndroidVersion(t),i=0<r&&r<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||i)},Go.isMockPersistence=function(){return"undefined"!=typeof e&&"YES"===Object({NODE_ENV:"production",BASE_URL:"/login-start-vue/"}).USE_MOCK_PERSISTENCE},Go.getStore=function(t,e){return t.store(e)},Go.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},Go.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},Go.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},Go.prototype.runTransaction=function(t,e,n){return u(this,void 0,void 0,(function(){var r,i,o,a,s,u;return c(this,(function(h){switch(h.label){case 0:r=t.startsWith("readonly"),i=t.endsWith("idempotent"),o=0,a=function(){var t,a,u,h;return c(this,(function(c){switch(c.label){case 0:++o,t=Ho.open(s.db,r?"readonly":"readwrite",e),c.label=1;case 1:return c.trys.push([1,3,,4]),(a=n(t).catch((function(e){return t.abort(e),jo.reject(e)})).toPromise()).catch((function(){})),[4,t.completionPromise];case 2:return c.sent(),[2,{value:a}];case 3:return u=c.sent(),h=i&&"FirebaseError"!==u.name&&o<3,Fr(Wo,"Transaction failed with error: %s. Retrying: %s.",u.message,h),h?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},s=this,h.label=1;case 1:return[5,a()];case 2:return"object"==typeof(u=h.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))},Go.prototype.close=function(){this.db.close()},Go);function Go(t){this.db=t,12.2===Go.getIOSVersion(y())&&qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}var Qo=(Object.defineProperty(zo.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(zo.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(zo.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),zo.prototype.done=function(){this.shouldStop=!0},zo.prototype.skip=function(t){this.nextKey=t},zo.prototype.delete=function(){return Jo(this.dbCursor.delete())},zo);function zo(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}var Ho=($o.open=function(t,e,n){return new $o(t.transaction(n,e))},Object.defineProperty($o.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),$o.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(Fr(Wo,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},$o.prototype.store=function(t){var e=this.transaction.objectStore(t);return Br(!!e,"Object store not part of transaction: "+t),new Yo(e)},$o);function $o(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new Yi,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=ta(t.target.error);e.completionDeferred.reject(n)}}var Yo=(Xo.prototype.put=function(t,e){return Jo(void 0!==e?(Fr(Wo,"PUT",this.store.name,t,e),this.store.put(e,t)):(Fr(Wo,"PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},Xo.prototype.add=function(t){return Fr(Wo,"ADD",this.store.name,t,t),Jo(this.store.add(t))},Xo.prototype.get=function(t){var e=this;return Jo(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Fr(Wo,"GET",e.store.name,t,n),n}))},Xo.prototype.delete=function(t){return Fr(Wo,"DELETE",this.store.name,t),Jo(this.store.delete(t))},Xo.prototype.count=function(){return Fr(Wo,"COUNT",this.store.name),Jo(this.store.count())},Xo.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,(function(t,e){r.push(e)})).next((function(){return r}))},Xo.prototype.deleteAll=function(t,e){Fr(Wo,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(t,e,n){return n.delete()}))},Xo.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},Xo.prototype.iterateSerial=function(t){var e=this.cursor({});return new jo((function(n,r){e.onerror=function(t){var e=ta(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},Xo.prototype.iterateCursor=function(t,e){var n=[];return new jo((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Qo(i),a=e(i.primaryKey,i.value,o);if(a instanceof jo){var s=a.catch((function(t){return o.done(),jo.reject(t)}));n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return jo.waitFor(n)}))},Xo.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(Br(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},Xo.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},Xo);function Xo(t){this.store=t}function Jo(t){return new jo((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=ta(t.target.error);n(e)}}))}var Zo=!1;function ta(t){var e=Ko.getIOSVersion(y());if(12.2<=e&&e<13){var n="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(n)){var r=new Hr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zo||(Zo=!0,setTimeout((function(){throw r}),0)),r}}return t}var ea,na,ra=(ia.forUser=function(t,e,n,r){return Br(""!==t.uid,"UserID must not be an empty string."),new ia(t.isAuthenticated()?t.uid:"",e,n,r)},ia.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ua(t).iterate({index:vu.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},ia.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next((function(e){return e.lastStreamToken=sa(n),ha(t).put(e)}))},ia.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next((function(t){return t.lastStreamToken}))},ia.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next((function(n){return n.lastStreamToken=sa(e),ha(t).put(n)}))},ia.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ca(t),a=ua(t);return a.add({}).next((function(s){Br("number"==typeof s,"Auto-generated key is not a number");for(var u=new Uo(s,e,n,r),c=i.serializer.toDbMutationBatch(i.userId,u),h=[],l=new To((function(t,e){return Ti(t.canonicalString(),e.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],m=bu.key(i.userId,d.key.path,s);l=l.add(d.key.path.popLast()),h.push(a.put(c)),h.push(o.put(m,bu.PLACEHOLDER))}return l.forEach((function(e){h.push(i.indexManager.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.documentKeysByBatchId[s]=u.keys()})),jo.waitFor(h).next((function(){return u}))}))},ia.prototype.lookupMutationBatch=function(t,e){var n=this;return ua(t).get(e).next((function(t){return t?(Br(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null}))},ia.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?jo.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r}return null}))},ia.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ua(t).iterate({index:vu.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Br(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()})).next((function(){return o}))},ia.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ua(t).iterate({index:vu.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},ia.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ua(t).loadAll(vu.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.fromDbMutationBatch(t)}))}))},ia.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=bu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ca(t).iterate({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],h=uo(u);if(s===n.userId&&e.path.isEqual(h))return ua(t).get(c).next((function(t){if(!t)throw jr("Dangling document-mutation reference found: "+r+" which points to "+c);Br(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(t))}));a.done()})).next((function(){return o}))},ia.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new To(Ti),i=[];return e.forEach((function(e){var o=bu.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ca(t).iterate({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=uo(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),jo.waitFor(i).next((function(){return n.lookupMutationBatches(t,r)}))},ia.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;Br(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),Br(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=bu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new To(Ti);return ca(t).iterate({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],h=uo(u);a===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.lookupMutationBatches(t,s)}))},ia.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ua(t).get(e).next((function(t){if(null===t)throw jr("Dangling document-mutation reference found, which points to "+e);Br(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))})))})),jo.waitFor(i).next((function(){return r}))},ia.prototype.removeMutationBatch=function(t,e){var n=this;return aa(t.simpleDbTransaction,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.removeCachedMutationKeys(e.batchId)})),jo.forEach(r,(function(e){return n.referenceDelegate.removeMutationReference(t,e)}))}))},ia.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},ia.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return jo.resolve();var r=IDBKeyRange.lowerBound(bu.prefixForUser(e.userId)),i=[];return ca(t).iterate({range:r},(function(t,n,r){if(t[0]===e.userId){var o=uo(t[1]);i.push(o)}else r.done()})).next((function(){Br(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.canonicalString()})))}))}))},ia.prototype.containsKey=function(t,e){return oa(t,this.userId,e)},ia.prototype.getMutationQueueMetadata=function(t){var e=this;return ha(t).get(this.userId).next((function(t){return t||new mu(e.userId,-1,"")}))},ia);function ia(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}function oa(t,e,n){var r=bu.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ca(t).iterate({range:o,keysOnly:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function aa(t,e,n){var r=t.store(vu.store),i=t.store(bu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Br(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=bu.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return jo.waitFor(o).next((function(){return c}))}function sa(t){return t instanceof Uint8Array?(Br(Ko.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function ua(t){return fc.getStore(t,vu.store)}function ca(t){return fc.getStore(t,bu.store)}function ha(t){return fc.getStore(t,mu.store)}(na=ea=ea||{})[na.QueryCache=0]="QueryCache",na[na.SyncEngine=1]="SyncEngine";var la=(fa.prototype.next=function(){var t=this.nextId;return this.nextId+=2,t},fa.prototype.after=function(t){return this.seek(t+2),this.next()},fa.prototype.seek=function(t){Br((1&t)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},fa.forQueryCache=function(){return new fa(ea.QueryCache,2)},fa.forSyncEngine=function(){return new fa(ea.SyncEngine)},fa);function fa(t,e){Br((1&(this.generatorId=t))===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.seek(void 0!==e?e:this.generatorId)}var pa=(da.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next((function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next((function(){return n.highestTargetId}))}))},da.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next((function(t){return lo.fromTimestamp(new co(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},da.prototype.getHighestSequenceNumber=function(t){return va(t.simpleDbTransaction)},da.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)}))},da.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next((function(){return n.retrieveMetadata(t).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)}))}))},da.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},da.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return ma(t).delete(e.targetId)})).next((function(){return n.retrieveMetadata(t)})).next((function(e){return Br(0<e.targetCount,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)}))},da.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ma(t).iterate((function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeQueryData(t,u)))})).next((function(){return jo.waitFor(o)})).next((function(){return i}))},da.prototype.forEachTarget=function(t,e){var n=this;return ma(t).iterate((function(t,r){var i=n.serializer.fromDbTarget(r);e(i)}))},da.prototype.retrieveMetadata=function(t){return ya(t.simpleDbTransaction)},da.prototype.saveMetadata=function(t,e){return function(t){return fc.getStore(t,Ou.store)}(t).put(Ou.key,e)},da.prototype.saveQueryData=function(t,e){return ma(t).put(this.serializer.toDbTarget(e))},da.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},da.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next((function(t){return t.targetCount}))},da.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ma(t).iterate({range:i,index:Cu.queryTargetsIndexName},(function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())})).next((function(){return o}))},da.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ga(t);return e.forEach((function(e){var a=oo(e.path);i.push(o.put(new Nu(n,a))),i.push(r.referenceDelegate.addReference(t,e))})),jo.waitFor(i)},da.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ga(t);return jo.forEach(e,(function(e){var o=oo(e.path);return jo.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])}))},da.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ga(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},da.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ga(t),i=Po();return r.iterate({range:n,keysOnly:!0},(function(t,e,n){var r=uo(t[1]),o=new Qi(r);i=i.add(o)})).next((function(){return i}))},da.prototype.containsKey=function(t,e){var n=oo(e.path),r=IDBKeyRange.bound([n],[_i(n)],!1,!0),i=0;return ga(t).iterate({index:Nu.documentTargetsIndex,keysOnly:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return 0<i}))},da.prototype.getQueryDataForTarget=function(t,e){var n=this;return ma(t).get(e).next((function(t){return t?n.serializer.fromDbTarget(t):null}))},da);function da(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=la.forQueryCache()}function ma(t){return fc.getStore(t,Cu.store)}function ya(t){return Ko.getStore(t,Ou.store).get(Ou.key).next((function(t){return Br(null!==t,"Missing metadata row."),t}))}function va(t){return ya(t).next((function(t){return t.highestListenSequenceNumber}))}function ga(t){return fc.getStore(t,Nu.store)}var ba=(wa.fromSet=function(t){return new wa(t)},wa.fromArray=function(t){var e=new To(Ki.comparator);return t.forEach((function(t){return e=e.add(t)})),new wa(e)},wa.prototype.covers=function(t){var e=!1;return this.fields.forEach((function(n){n.isPrefixOf(t)&&(e=!0)})),e},wa.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},wa);function wa(t){this.fields=t}var Ea=(Ta.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},Ta);function Ta(t,e){this.field=t,this.transform=e}var Sa,_a,Ia=function(t,e){this.version=t,this.transformResults=e};(_a=Sa=Sa||{})[_a.Set=0]="Set",_a[_a.Patch=1]="Patch",_a[_a.Transform=2]="Transform",_a[_a.Delete=3]="Delete";var Aa=(Ca.exists=function(t){return new Ca(void 0,t)},Ca.updateTime=function(t){return new Ca(t)},Object.defineProperty(Ca.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),Ca.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof qs&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof qs:(Br(this.isNone,"Precondition should be empty"),!0)},Ca.prototype.isEqual=function(t){return function(t,e){return null!=t?!(!e||!t.isEqual(e)):t===e}(this.updateTime,t.updateTime)&&this.exists===t.exists},Ca.NONE=new Ca,Ca);function Ca(t,e){this.updateTime=t,this.exists=e,Br(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}var ka=(Na.prototype.verifyKeyMatches=function(t){null!=t&&Br(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},Na.getPostMutationVersion=function(t){return t instanceof qs?t.version:lo.MIN},Na);function Na(){}var Da,Oa=(i(Ra,Da=ka),Ra.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),Br(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new qs(this.key,n,{hasCommittedMutations:!0},this.value)},Ra.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ka.getPostMutationVersion(t);return new qs(this.key,r,{hasLocalMutations:!0},this.value)},Ra.prototype.extractBaseValue=function(t){return null},Ra.prototype.isEqual=function(t){return t instanceof Ra&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},Ra);function Ra(t,e,n){var r=Da.call(this)||this;return r.key=t,r.value=e,r.precondition=n,r.type=Sa.Set,r}var xa,Pa=(i(La,xa=ka),La.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),Br(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new Gs(this.key,e.version);var n=this.patchDocument(t);return new qs(this.key,e.version,{hasCommittedMutations:!0},n)},La.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ka.getPostMutationVersion(t),i=this.patchDocument(t);return new qs(this.key,r,{hasLocalMutations:!0},i)},La.prototype.extractBaseValue=function(t){return null},La.prototype.isEqual=function(t){return t instanceof La&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},La.prototype.patchDocument=function(t){var e;return e=t instanceof qs?t.data():Os.EMPTY,this.patchObject(e)},La.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}})),t},La);function La(t,e,n,r){var i=xa.call(this)||this;return i.key=t,i.data=e,i.fieldMask=n,i.precondition=r,i.type=Sa.Patch,i}var Ma,Ua=(i(Fa,Ma=ka),Fa.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),Br(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new Gs(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data(),r);return new qs(this.key,i,{hasCommittedMutations:!0},o)},Fa.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),o=this.transformObject(r.data(),i);return new qs(this.key,r.version,{hasLocalMutations:!0},o)},Fa.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof qs?t.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(e=null==e?Os.EMPTY.set(i.field,a):e.set(i.field,a))}return e},Fa.prototype.isEqual=function(t){return t instanceof Fa&&this.key.isEqual(t.key)&&Si(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},Fa.prototype.requireDocument=function(t){Br(t instanceof qs,"Unknown MaybeDocument type "+t);var e=t;return Br(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},Fa.prototype.serverTransformResults=function(t,e){var n=[];Br(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof qs&&(a=t.field(i.field)),n.push(o.applyToRemoteDocument(a,e[r]))}return n},Fa.prototype.localTransformResults=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;e instanceof qs&&(u=e.field(a.field)),null===u&&n instanceof qs&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,t))}return r},Fa.prototype.transformObject=function(t,e){Br(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},Fa);function Fa(t,e){var n=Ma.call(this)||this;return n.key=t,n.fieldTransforms=e,n.type=Sa.Transform,n.precondition=Aa.exists(!0),n}var qa,Va,ja,Ba,Wa,Ka=(i(Ga,qa=ka),Ga.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),Br(null==e.transformResults,"Transform results received by DeleteMutation."),new Bs(this.key,e.version,{hasCommittedMutations:!0})},Ga.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&Br(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Bs(this.key,lo.forDeletedDoc())):t},Ga.prototype.extractBaseValue=function(t){return null},Ga.prototype.isEqual=function(t){return t instanceof Ga&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Ga);function Ga(t,e){var n=qa.call(this)||this;return n.key=t,n.precondition=e,n.type=Sa.Delete,n}(ja=Va=Va||{})[ja.NullValue=0]="NullValue",ja[ja.BooleanValue=1]="BooleanValue",ja[ja.NumberValue=2]="NumberValue",ja[ja.TimestampValue=3]="TimestampValue",ja[ja.StringValue=4]="StringValue",ja[ja.BlobValue=5]="BlobValue",ja[ja.RefValue=6]="RefValue",ja[ja.GeoPointValue=7]="GeoPointValue",ja[ja.ArrayValue=8]="ArrayValue",ja[ja.ObjectValue=9]="ObjectValue",(Wa=Ba=Ba||{})[Wa.Default=0]="Default",Wa[Wa.Estimate=1]="Estimate",Wa[Wa.Previous=2]="Previous";var Qa=(za.fromSnapshotOptions=function(t,e){switch(t.serverTimestamps){case"estimate":return new za(Ba.Estimate,e);case"previous":return new za(Ba.Previous,e);case"none":case void 0:return new za(Ba.Default,e);default:return jr("fromSnapshotOptions() called with invalid options.")}},za);function za(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}var Ha=($a.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},$a.prototype.defaultCompareTo=function(t){return Br(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Ti(this.typeOrder,t.typeOrder)},$a);function $a(){}var Ya,Xa=(i(Ja,Ya=Ha),Ja.prototype.value=function(t){return null},Ja.prototype.isEqual=function(t){return t instanceof Ja},Ja.prototype.compareTo=function(t){return t instanceof Ja?0:this.defaultCompareTo(t)},Ja.INSTANCE=new Ja,Ja);function Ja(){var t=Ya.call(this)||this;return t.typeOrder=Va.NullValue,t.internalValue=null,t}var Za,ts=(i(es,Za=Ha),es.prototype.value=function(t){return this.internalValue},es.prototype.isEqual=function(t){return t instanceof es&&this.internalValue===t.internalValue},es.prototype.compareTo=function(t){return t instanceof es?Ti(this,t):this.defaultCompareTo(t)},es.of=function(t){return t?es.TRUE:es.FALSE},es.TRUE=new es(!0),es.FALSE=new es(!1),es);function es(t){var e=Za.call(this)||this;return e.internalValue=t,e.typeOrder=Va.BooleanValue,e}var ns,rs=(i(is,ns=Ha),is.prototype.value=function(t){return this.internalValue},is.prototype.compareTo=function(t){return t instanceof is?function(t,e){return t<e?-1:e<t?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}(this.internalValue,t.internalValue):this.defaultCompareTo(t)},is);function is(t){var e=ns.call(this)||this;return e.internalValue=t,e.typeOrder=Va.NumberValue,e}function os(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var as,ss=(i(us,as=rs),us.prototype.isEqual=function(t){return t instanceof us&&os(this.internalValue,t.internalValue)},us);function us(){return null!==as&&as.apply(this,arguments)||this}var cs,hs=(i(ls,cs=rs),ls.prototype.isEqual=function(t){return t instanceof ls&&os(this.internalValue,t.internalValue)},ls.NAN=new ls(NaN),ls.POSITIVE_INFINITY=new ls(1/0),ls.NEGATIVE_INFINITY=new ls(-1/0),ls);function ls(){return null!==cs&&cs.apply(this,arguments)||this}var fs,ps=(i(ds,fs=Ha),ds.prototype.value=function(t){return this.internalValue},ds.prototype.isEqual=function(t){return t instanceof ds&&this.internalValue===t.internalValue},ds.prototype.compareTo=function(t){return t instanceof ds?Ti(this.internalValue,t.internalValue):this.defaultCompareTo(t)},ds);function ds(t){var e=fs.call(this)||this;return e.internalValue=t,e.typeOrder=Va.StringValue,e}var ms,ys=(i(vs,ms=Ha),vs.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},vs.prototype.isEqual=function(t){return t instanceof vs&&this.internalValue.isEqual(t.internalValue)},vs.prototype.compareTo=function(t){return t instanceof vs?this.internalValue._compareTo(t.internalValue):t instanceof bs?-1:this.defaultCompareTo(t)},vs);function vs(t){var e=ms.call(this)||this;return e.internalValue=t,e.typeOrder=Va.TimestampValue,e}var gs,bs=(i(ws,gs=Ha),ws.prototype.value=function(t){return t&&t.serverTimestampBehavior===Ba.Estimate?new ys(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===Ba.Previous&&this.previousValue?this.previousValue.value(t):null},ws.prototype.isEqual=function(t){return t instanceof ws&&this.localWriteTime.isEqual(t.localWriteTime)},ws.prototype.compareTo=function(t){return t instanceof ws?this.localWriteTime._compareTo(t.localWriteTime):t instanceof ys?1:this.defaultCompareTo(t)},ws.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},ws);function ws(t,e){var n=gs.call(this)||this;return n.localWriteTime=t,n.previousValue=e,n.typeOrder=Va.TimestampValue,n}var Es,Ts=(i(Ss,Es=Ha),Ss.prototype.value=function(t){return this.internalValue},Ss.prototype.isEqual=function(t){return t instanceof Ss&&this.internalValue.isEqual(t.internalValue)},Ss.prototype.compareTo=function(t){return t instanceof Ss?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},Ss);function Ss(t){var e=Es.call(this)||this;return e.internalValue=t,e.typeOrder=Va.BlobValue,e}var _s,Is=(i(As,_s=Ha),As.prototype.value=function(t){return this.key},As.prototype.isEqual=function(t){return t instanceof As&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},As.prototype.compareTo=function(t){if(t instanceof As){var e=this.databaseId.compareTo(t.databaseId);return 0!==e?e:Qi.comparator(this.key,t.key)}return this.defaultCompareTo(t)},As);function As(t,e){var n=_s.call(this)||this;return n.databaseId=t,n.key=e,n.typeOrder=Va.RefValue,n}var Cs,ks=(i(Ns,Cs=Ha),Ns.prototype.value=function(t){return this.internalValue},Ns.prototype.isEqual=function(t){return t instanceof Ns&&this.internalValue.isEqual(t.internalValue)},Ns.prototype.compareTo=function(t){return t instanceof Ns?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},Ns);function Ns(t){var e=Cs.call(this)||this;return e.internalValue=t,e.typeOrder=Va.GeoPointValue,e}var Ds,Os=(i(Rs,Ds=Ha),Rs.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal((function(n,r){e[n]=r.value(t)})),e},Rs.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},Rs.prototype.isEqual=function(t){if(t instanceof Rs){for(var e=this.internalValue.getIterator(),n=t.internalValue.getIterator();e.hasNext()&&n.hasNext();){var r=e.getNext(),i=n.getNext();if(r.key!==i.key||!r.value.isEqual(i.value))return!1}return!e.hasNext()&&!n.hasNext()}return!1},Rs.prototype.compareTo=function(t){if(t instanceof Rs){for(var e=this.internalValue.getIterator(),n=t.internalValue.getIterator();e.hasNext()&&n.hasNext();){var r=e.getNext(),i=n.getNext(),o=Ti(r.key,i.key)||r.value.compareTo(i.value);if(o)return o}return Ti(e.hasNext(),n.hasNext())}return this.defaultCompareTo(t)},Rs.prototype.set=function(t,e){if(Br(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),e);var n=this.child(t.firstSegment());n instanceof Rs||(n=Rs.EMPTY);var r=n.set(t.popFirst(),e);return this.setChild(t.firstSegment(),r)},Rs.prototype.delete=function(t){if(Br(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new Rs(this.internalValue.remove(t.firstSegment()));var e=this.child(t.firstSegment());if(e instanceof Rs){var n=e.delete(t.popFirst());return new Rs(this.internalValue.insert(t.firstSegment(),n))}return this},Rs.prototype.contains=function(t){return null!==this.field(t)},Rs.prototype.field=function(t){Br(!t.isEmpty(),"Can't get field of empty path");var e=this;return t.forEach((function(t){e=e instanceof Rs?e.internalValue.get(t):null})),e},Rs.prototype.fieldMask=function(){var t=new To(Ki.comparator);return this.internalValue.forEach((function(e,n){var r=new Ki([e]);if(n instanceof Rs){var i=n.fieldMask().fields;i.isEmpty()?t=t.add(r):i.forEach((function(e){t=t.add(r.child(e))}))}else t=t.add(r)})),ba.fromSet(t)},Rs.prototype.toString=function(){return this.internalValue.toString()},Rs.prototype.child=function(t){return this.internalValue.get(t)||void 0},Rs.prototype.setChild=function(t,e){return new Rs(this.internalValue.insert(t,e))},Rs.EMPTY=new Rs(new po(Ti)),Rs);function Rs(t){var e=Ds.call(this)||this;return e.internalValue=t,e.typeOrder=Va.ObjectValue,e}var xs,Ps=(i(Ls,xs=Ha),Ls.prototype.value=function(t){return this.internalValue.map((function(e){return e.value(t)}))},Ls.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},Ls.prototype.forEach=function(t){this.internalValue.forEach(t)},Ls.prototype.isEqual=function(t){if(t instanceof Ls){if(this.internalValue.length!==t.internalValue.length)return!1;for(var e=0;e<this.internalValue.length;e++)if(!this.internalValue[e].isEqual(t.internalValue[e]))return!1;return!0}return!1},Ls.prototype.compareTo=function(t){if(t instanceof Ls){for(var e=Math.min(this.internalValue.length,t.internalValue.length),n=0;n<e;n++){var r=this.internalValue[n].compareTo(t.internalValue[n]);if(r)return r}return Ti(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},Ls.prototype.toString=function(){return"["+this.internalValue.map((function(t){return t.toString()})).join(",")+"]"},Ls);function Ls(t){var e=xs.call(this)||this;return e.internalValue=t,e.typeOrder=Va.ArrayValue,e}var Ms=(Us.compareByKey=function(t,e){return Qi.comparator(t.key,e.key)},Us);function Us(t,e){this.key=t,this.version=e}var Fs,qs=(i(Vs,Fs=Ms),Vs.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var r=this.getProtoField(t);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(e,n)}return n},Vs.prototype.data=function(){var t=this;if(!this.objectValue){var e=Os.EMPTY;ti(this.proto.fields||{},(function(n,r){e=e.set(new Ki([n]),t.converter(r))})),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},Vs.prototype.value=function(){return this.data().value()},Vs.prototype.isEqual=function(t){return t instanceof Vs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},Vs.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Vs.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),Vs.prototype.getProtoField=function(t){Br(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.firstSegment()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},Vs.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):jr("Trying to compare documents on fields that don't exist")},Vs);function Vs(t,e,n,r,i,o){var a=Fs.call(this,t,e)||this;return a.objectValue=r,a.proto=i,a.converter=o,Br(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!n.hasLocalMutations,a.hasCommittedMutations=!!n.hasCommittedMutations,a}var js,Bs=(i(Ws,js=Ms),Ws.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Ws.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Ws.prototype.isEqual=function(t){return t instanceof Ws&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Ws);function Ws(t,e,n){var r=js.call(this,t,e)||this;return r.hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}var Ks,Gs=(i(Qs,Ks=Ms),Qs.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Qs.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),Qs.prototype.isEqual=function(t){return t instanceof Qs&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Qs);function Qs(){return null!==Ks&&Ks.apply(this,arguments)||this}var zs=(Hs.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(t))return s}},Hs.prototype.has=function(t){return void 0!==this.get(t)},Hs.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},Hs.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},Hs.prototype.forEach=function(t){ti(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},Hs.prototype.isEmpty=function(){return ei(this.inner)},Hs);function Hs(t){this.mapKeyFn=t,this.inner={}}var $s=(Object.defineProperty(Ys.prototype,"readTime",{get:function(){return Br(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(t){Br(void 0===this._readTime||this._readTime.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=t},enumerable:!0,configurable:!0}),Ys.prototype.addEntry=function(t,e){this.assertNotApplied(),this.readTime=e,this.changes.set(t.key,t)},Ys.prototype.removeEntry=function(t,e){this.assertNotApplied(),e&&(this.readTime=e),this.changes.set(t,null)},Ys.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?jo.resolve(n):this.getFromCache(t,e)},Ys.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},Ys.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},Ys.prototype.assertNotApplied=function(){Br(!this.changesApplied,"Changes have already been applied.")},Ys);function Ys(){this.changes=new zs((function(t){return t.toString()})),this.changesApplied=!1}var Xs,Js=(Zs.prototype.addEntry=function(t,e,n){return nu(t).put(ru(e),n)},Zs.prototype.removeEntry=function(t,e){var n=nu(t),r=ru(e);return n.delete(r)},Zs.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.setMetadata(t,r)}))},Zs.prototype.getEntry=function(t,e){var n=this;return nu(t).get(ru(e)).next((function(t){return n.maybeDecodeDocument(t)}))},Zs.prototype.getSizedEntry=function(t,e){var n=this;return nu(t).get(ru(e)).next((function(t){var e=n.maybeDecodeDocument(t);return e?{maybeDocument:e,size:iu(t)}:null}))},Zs.prototype.getEntries=function(t,e){var n=this,r=ko();return this.forEachDbEntry(t,e,(function(t,e){var i=n.maybeDecodeDocument(e);r=r.insert(t,i)})).next((function(){return r}))},Zs.prototype.getSizedEntries=function(t,e){var n=this,r=ko(),i=new po(Qi.comparator);return this.forEachDbEntry(t,e,(function(t,e){var o=n.maybeDecodeDocument(e);i=o?(r=r.insert(t,o),i.insert(t,iu(e))):(r=r.insert(t,null),i.insert(t,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},Zs.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return jo.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return nu(t).iterate({range:r},(function(t,e,r){for(var a=Qi.fromSegments(t);o&&Qi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},Zs.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this;Br(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Do(),o=e.path.length+1,a={};if(n.isEqual(lo.MIN)){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Su.collectionReadTimeIndex}return nu(t).iterate(a,(function(t,n,a){if(t.length===o){var s=r.serializer.fromDbRemoteDocument(n);e.path.isPrefixOf(s.key.path)?s instanceof qs&&e.matches(s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},Zs.prototype.getNewDocumentChanges=function(t,e){var n=this,r=Co(),i=this.serializer.toDbTimestampKey(e),o=nu(t),a=IDBKeyRange.lowerBound(i,!0);return o.iterate({index:Su.readTimeIndex,range:a},(function(t,e){var o=n.serializer.fromDbRemoteDocument(e);r=r.insert(o.key,o),i=e.readTime})).next((function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(i)}}))},Zs.prototype.getLastDocumentChange=function(t){var e,n=this,r=nu(t),i=lo.MIN;return r.iterate({index:Su.readTimeIndex,reverse:!0},(function(t,r,o){e=n.serializer.fromDbRemoteDocument(r),r.readTime&&(i=n.serializer.fromDbTimestampKey(r.readTime)),o.done()})).next((function(){return{changedDoc:e,readTime:i}}))},Zs.prototype.newChangeBuffer=function(t){return new Zs.RemoteDocumentChangeBuffer(this,!!t&&t.trackRemovals)},Zs.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},Zs.prototype.getMetadata=function(t){return eu(t).get(Iu.key).next((function(t){return Br(!!t,"Missing document cache metadata"),t}))},Zs.prototype.setMetadata=function(t,e){return eu(t).put(Iu.key,e)},Zs.prototype.maybeDecodeDocument=function(t){if(t){var e=this.serializer.fromDbRemoteDocument(t);return e instanceof Bs&&e.version.isEqual(lo.forDeletedDoc())?null:e}return null},Zs.RemoteDocumentChangeBuffer=(i(tu,Xs=$s),tu.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new To((function(t,e){return Ti(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.documentSizes.get(o);if(Br(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){Br(!e.readTime.isEqual(lo.MIN),"Cannot add a document with a read time of zero");var u=e.documentCache.serializer.toDbRemoteDocument(a,e.readTime);i=i.add(o.path.popLast());var c=iu(u);r+=c-s,n.push(e.documentCache.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var h=e.documentCache.serializer.toDbRemoteDocument(new Bs(o,lo.forDeletedDoc()),e.readTime);n.push(e.documentCache.addEntry(t,o,h))}else n.push(e.documentCache.removeEntry(t,o))})),i.forEach((function(r){n.push(e.documentCache.indexManager.addToCollectionParentIndex(t,r))})),n.push(this.documentCache.updateMetadata(t,r)),jo.waitFor(n)},tu.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next((function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)}))},tu.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next((function(t){var e=t.maybeDocuments;return t.sizeMap.forEach((function(t,e){n.documentSizes.set(t,e)})),e}))},tu),Zs);function Zs(t,e){this.serializer=t,this.indexManager=e}function tu(t,e){var n=Xs.call(this)||this;return n.documentCache=t,n.trackRemovals=e,n.documentSizes=new zs((function(t){return t.toString()})),n}function eu(t){return fc.getStore(t,Iu.store)}function nu(t){return fc.getStore(t,Su.store)}function ru(t){return t.path.toArray()}function iu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw jr("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var ou=(au.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),jo.resolve()},au.prototype.getCollectionParents=function(t,e){return jo.resolve(this.collectionParentIndex.getEntries(e))},au);function au(){this.collectionParentIndex=new su}var su=(uu.prototype.add=function(t){Br(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new To(Vi.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},uu.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},uu.prototype.getEntries=function(t){return(this.index[t]||new To(Vi.comparator)).toArray()},uu);function uu(){this.index={}}var cu=9,hu=(lu.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Br(n<r&&0<=n&&r<=cu,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new Ho(e);n<1&&1<=r&&(function(t){t.createObjectStore(pu.store)}(t),function(t){t.createObjectStore(mu.store,{keyPath:mu.keyPath}),t.createObjectStore(vu.store,{keyPath:vu.keyPath,autoIncrement:!0}).createIndex(vu.userMutationsIndex,vu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(bu.store)}(t),Lu(t),function(t){t.createObjectStore(Su.store)}(t));var a=jo.resolve();return n<3&&3<=r&&(0!==n&&(function(t){t.deleteObjectStore(Nu.store),t.deleteObjectStore(Cu.store),t.deleteObjectStore(Ou.store)}(t),Lu(t)),a=a.next((function(){return function(t){var e=t.store(Ou.store),n=new Ou(0,0,lo.MIN.toTimestamp(),0);return e.put(Ou.key,n)}(o)}))),n<4&&4<=r&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(vu.store).loadAll().next((function(n){t.deleteObjectStore(vu.store),t.createObjectStore(vu.store,{keyPath:vu.keyPath,autoIncrement:!0}).createIndex(vu.userMutationsIndex,vu.userMutationsKeyPath,{unique:!0});var r=e.store(vu.store),i=n.map((function(t){return r.put(t)}));return jo.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Mu.store,{keyPath:Mu.keyPath})}(t)}))),n<5&&5<=r&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&6<=r&&(a=a.next((function(){return function(t){t.createObjectStore(Iu.store)}(t),i.addDocumentGlobal(o)}))),n<7&&7<=r&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&8<=r&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&9<=r&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Su.store);e.createIndex(Su.readTimeIndex,Su.readTimeIndexPath,{unique:!1}),e.createIndex(Su.collectionReadTimeIndex,Su.collectionReadTimeIndexPath,{unique:!1})}(e)}))),a},lu.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Su.store).iterate((function(t,n){e+=iu(n)})).next((function(){var n=new Iu(e);return t.store(Iu.store).put(Iu.key,n)}))},lu.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(mu.store),r=t.store(vu.store);return n.loadAll().next((function(n){return jo.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(vu.userMutationsIndex,i).next((function(r){return jo.forEach(r,(function(r){Br(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return aa(t,n.userId,i).next((function(){}))}))}))}))}))},lu.prototype.ensureSequenceNumbers=function(t){var e=t.store(Nu.store),n=t.store(Su.store);return va(t).next((function(t){var r=[];return n.iterate((function(n,i){var o=new Vi(n),a=function(t){return[0,oo(t)]}(o);r.push(e.get(a).next((function(n){return n?jo.resolve():function(n){return e.put(new Nu(0,oo(n),t))}(o)})))})).next((function(){return jo.waitFor(r)}))}))},lu.prototype.createCollectionParentIndex=function(t,e){function n(t){if(i.add(t)){var e=t.lastSegment(),n=t.popLast();return r.put({collectionId:e,parent:oo(n)})}}t.createObjectStore(xu.store,{keyPath:xu.keyPath});var r=e.store(xu.store),i=new su;return e.store(Su.store).iterate({keysOnly:!0},(function(t,e){var r=new Vi(t);return n(r.popLast())})).next((function(){return e.store(bu.store).iterate({keysOnly:!0},(function(t,e){t[0];var r=t[1],i=(t[2],uo(r));return n(i.popLast())}))}))},lu);function lu(t){this.serializer=t}var fu=function(t,e){this.seconds=t,this.nanoseconds=e},pu=(du.store="owner",du.key="owner",du);function du(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}var mu=(yu.store="mutationQueues",yu.keyPath="userId",yu);function yu(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}var vu=(gu.store="mutations",gu.keyPath="batchId",gu.userMutationsIndex="userMutationsIndex",gu.userMutationsKeyPath=["userId","batchId"],gu);function gu(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}var bu=(wu.prefixForUser=function(t){return[t]},wu.prefixForPath=function(t,e){return[t,oo(e)]},wu.key=function(t,e,n){return[t,oo(e),n]},wu.store="documentMutations",wu.PLACEHOLDER=new wu,wu);function wu(){}var Eu=function(t,e){this.path=t,this.readTime=e},Tu=function(t,e){this.path=t,this.version=e},Su=(_u.store="remoteDocuments",_u.readTimeIndex="readTimeIndex",_u.readTimeIndexPath="readTime",_u.collectionReadTimeIndex="collectionReadTimeIndex",_u.collectionReadTimeIndexPath=["parentPath","readTime"],_u);function _u(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}var Iu=(Au.store="remoteDocumentGlobal",Au.key="remoteDocumentGlobalKey",Au);function Au(t){this.byteSize=t}var Cu=(ku.store="targets",ku.keyPath="targetId",ku.queryTargetsIndexName="queryTargetsIndex",ku.queryTargetsKeyPath=["canonicalId","targetId"],ku);function ku(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}var Nu=(Du.store="targetDocuments",Du.keyPath=["targetId","path"],Du.documentTargetsIndex="documentTargetsIndex",Du.documentTargetsKeyPath=["path","targetId"],Du);function Du(t,e,n){this.targetId=t,this.path=e,Br(0===t==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}var Ou=(Ru.key="targetGlobalKey",Ru.store="targetGlobal",Ru);function Ru(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}var xu=(Pu.store="collectionParents",Pu.keyPath=["collectionId","parent"],Pu);function Pu(t,e){this.collectionId=t,this.parent=e}function Lu(t){t.createObjectStore(Nu.store,{keyPath:Nu.keyPath}).createIndex(Nu.documentTargetsIndex,Nu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Cu.store,{keyPath:Cu.keyPath}).createIndex(Cu.queryTargetsIndexName,Cu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ou.store)}var Mu=(Uu.store="clientMetadata",Uu.keyPath="clientId",Uu);function Uu(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}var Fu,qu,Vu=h(h(h([mu.store,vu.store,bu.store,Su.store,Cu.store,pu.store,Ou.store,Nu.store],[Mu.store]),[Iu.store]),[xu.store]),ju=(Bu.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(Br(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.has(e))return jo.resolve();var r=e.lastSegment(),i=e.popLast();return t.addOnCommittedListener((function(){n.collectionParentsCache.add(e)})),Wu(t).put({collectionId:r,parent:oo(i)})},Bu.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[_i(e),""],!1,!0);return Wu(t).loadAll(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(uo(o.parent))}return n}))},Bu);function Bu(){this.collectionParentsCache=new su}function Wu(t){return fc.getStore(t,xu.store)}(qu=Fu=Fu||{})[qu.Listen=0]="Listen",qu[qu.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",qu[qu.LimboResolution=2]="LimboResolution";var Ku=(Gu.prototype.withSequenceNumber=function(t){return new Gu(this.query,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Gu.prototype.withResumeToken=function(t,e){return new Gu(this.query,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Gu.prototype.withLastLimboFreeSnapshotVersion=function(t){return new Gu(this.query,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},Gu.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},Gu);function Gu(t,e,n,r,i,o,a){void 0===i&&(i=lo.MIN),void 0===o&&(o=lo.MIN),void 0===a&&(a=Gr()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}var Qu=(zu.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=Qi.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new Bs(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=Qi.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new Gs(e,n)):jr("Unexpected DbRemoteDocument")},zu.prototype.toDbRemoteDocument=function(t,e){var n=this.toDbTimestampKey(e),r=t.key.path.popLast().toArray();if(t instanceof qs){var i=t.proto?t.proto:this.remoteSerializer.toDocument(t),o=t.hasCommittedMutations;return new Su(null,null,i,o,n,r)}if(t instanceof Bs){var a=t.key.path.toArray(),s=this.toDbTimestamp(t.version);return o=t.hasCommittedMutations,new Su(null,new Eu(a,s),null,o,n,r)}if(t instanceof Gs){a=t.key.path.toArray();var u=this.toDbTimestamp(t.version);return new Su(new Tu(a,u),null,null,!0,n,r)}return jr("Unexpected MaybeDocument")},zu.prototype.toDbTimestampKey=function(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]},zu.prototype.fromDbTimestampKey=function(t){var e=new co(t[0],t[1]);return lo.fromTimestamp(e)},zu.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new fu(e.seconds,e.nanoseconds)},zu.prototype.fromDbTimestamp=function(t){var e=new co(t.seconds,t.nanoseconds);return lo.fromTimestamp(e)},zu.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.remoteSerializer.toMutation(t)})),i=e.mutations.map((function(t){return n.remoteSerializer.toMutation(t)}));return new vu(t,e.batchId,e.localWriteTime.toMillis(),r,i)},zu.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.remoteSerializer.fromMutation(t)})),r=t.mutations.map((function(t){return e.remoteSerializer.fromMutation(t)})),i=co.fromMillis(t.localWriteTimeMs);return new Uo(t.batchId,i,n,r)},zu.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach((function(t){e.push(oo(t.path))})),e},zu.prototype.fromDbResourcePaths=function(t){for(var e=Po(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new Qi(uo(i)))}return e},zu.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(t.lastLimboFreeSnapshotVersion):lo.MIN,i=t.resumeToken;return e=function(t){return void 0!==t.documents}(t.query)?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Ku(e,t.targetId,Fu.Listen,t.lastListenSequenceNumber,n,r,i)},zu.prototype.toDbTarget=function(t){Br(Fu.Listen===t.purpose,"Only queries with purpose "+Fu.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion),i=this.toDbTimestamp(t.lastLimboFreeSnapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),n=t.resumeToken instanceof Uint8Array?(Br(Ko.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),t.resumeToken.toString()):t.resumeToken,new Cu(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,i,e)},zu);function zu(t){this.remoteSerializer=t}function Hu(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Ti(n,i);return 0===a?Ti(r,o):a}var $u=(Yu.prototype.nextIndex=function(){return++this.previousIndex},Yu.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Hu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(Yu.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),Yu);function Yu(t){this.maxElements=t,this.buffer=new To(Hu),this.previousIndex=0}var Xu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ju=(Zu.withCacheSize=function(t){return new Zu(t,Zu.DEFAULT_COLLECTION_PERCENTILE,Zu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Zu.COLLECTION_DISABLED=-1,Zu.MINIMUM_CACHE_SIZE_BYTES=1048576,Zu.DEFAULT=new Zu(Zu.DEFAULT_CACHE_SIZE_BYTES=41943040,Zu.DEFAULT_COLLECTION_PERCENTILE=10,Zu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),Zu.DISABLED=new Zu(Zu.COLLECTION_DISABLED,0,0),Zu);function Zu(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}var tc=(ec.prototype.start=function(){Br(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Ju.COLLECTION_DISABLED&&this.scheduleGC()},ec.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(ec.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),ec.prototype.scheduleGC=function(){var t=this;Br(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;Fr("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Hi.LruGarbageCollection,e,(function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then((function(){return t.scheduleGC()})).catch(dc)}))},ec);function ec(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}var nc=(rc.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next((function(t){return Math.floor(e/100*t)}))},rc.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return jo.resolve(Pi.INVALID);var r=new $u(e);return this.delegate.forEachTarget(t,(function(t){return r.addElement(t.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,(function(t){return r.addElement(t)}))})).next((function(){return r.maxValue}))},rc.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},rc.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},rc.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Ju.COLLECTION_DISABLED?(Fr("LruGarbageCollector","Garbage collection skipped; disabled"),jo.resolve(Xu)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Fr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Xu):n.runGarbageCollection(t,e)}))},rc.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},rc.prototype.runGarbageCollection=function(t,e){var n,r,i,o,a,s,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return r=e>c.params.maximumSequenceNumbersToCollect?(Fr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),c.params.maximumSequenceNumbersToCollect):e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Mr()<=Ar.DEBUG&&Fr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-h)+"ms"),jo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},rc);function rc(t,e){this.delegate=t,this.params=e}var ic=(oc.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},oc.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},oc);function oc(){this.onCommittedListeners=[]}var ac,sc="IndexedDbPersistence",uc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cc="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",hc=(i(lc,ac=ic),lc);function lc(t,e){var n=ac.call(this)||this;return n.simpleDbTransaction=t,n.currentSequenceNumber=e,n}var fc=(pc.getStore=function(t,e){if(t instanceof hc)return Ko.getStore(t.simpleDbTransaction,e);throw jr("IndexedDbPersistence must use instances of IndexedDbTransaction")},pc.createIndexedDbPersistence=function(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:if(!pc.isAvailable())throw new Hr(zr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(e=new pc(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return n.sent(),[2,e]}}))}))},pc.prototype.start=function(){var t=this;return Br(!this.started,"IndexedDbPersistence double-started!"),Br(null!==this.window,"Expected 'window' to be defined"),Ko.openOrCreate(this.dbName,cu,new hu(this.serializer)).then((function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()})).then((function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.simpleDb.runTransaction("readonly-idempotent",[Ou.store],(function(t){return va(t)}))})).then((function(e){t.listenSequence=new Pi(e,t.sequenceNumberSyncer)})).then((function(){t._started=!0})).catch((function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)}))},pc.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return u(e,void 0,void 0,(function(){return c(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},pc.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener((function(n){return u(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},pc.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget((function(){return u(e,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},pc.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Vu,(function(e){return yc(e).put(new Mu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next((function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget((function(){return t.primaryStateListener(!1)})))}))})).next((function(){return t.canActAsPrimary(e)})).next((function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget((function(){return t.primaryStateListener(t.isPrimary)})),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0}))}))},pc.prototype.verifyPrimaryLease=function(t){var e=this;return mc(t).get(pu.key).next((function(t){return jo.resolve(e.isLocalClient(t))}))},pc.prototype.removeClientMetadata=function(t){return yc(t).delete(this.clientId)},pc.prototype.maybeGarbageCollectMultiClientState=function(){return u(this,void 0,void 0,(function(){var t=this;return c(this,(function(e){switch(e.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(e){var n=pc.getStore(e,Mu.store);return n.loadAll().next((function(e){var r=t.filterActiveClients(e,18e5),i=e.filter((function(t){return-1===r.indexOf(t)}));return jo.forEach(i,(function(t){return n.delete(t.clientId)})).next((function(){return i}))}))}))]);case 1:e.sent().forEach((function(e){t.window.localStorage.removeItem(t.zombiedClientLocalStorageKey(e.clientId))})),e.label=2;case 2:return[2]}}))}))},pc.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Hi.ClientMetadataRefresh,4e3,(function(){return t.updateClientMetadataAndTryBecomePrimary().then((function(){return t.maybeGarbageCollectMultiClientState()})).then((function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},pc.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},pc.prototype.canActAsPrimary=function(t){var e=this;return mc(t).get(pu.key).next((function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new Hr(zr.FAILED_PRECONDITION,cc);return!1}}return!(!e.networkEnabled||!e.inForeground)||yc(t).loadAll().next((function(t){return void 0===e.filterActiveClients(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Fr(sc,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},pc.prototype.shutdown=function(){return u(this,void 0,void 0,(function(){var t=this;return c(this,(function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[pu.store,Mu.store],(function(e){return t.releasePrimaryLeaseIfHeld(e).next((function(){return t.removeClientMetadata(e)}))}))];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},pc.prototype.filterActiveClients=function(t,e){var n=this;return t.filter((function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)}))},pc.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly-idempotent",[Mu.store],(function(e){return yc(e).loadAll().next((function(e){return t.filterActiveClients(e,18e5).map((function(t){return t.clientId}))}))}))},pc.clearPersistence=function(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return pc.isAvailable()?(e=t+pc.MAIN_DATABASE,[4,Ko.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(pc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),pc.prototype.getMutationQueue=function(t){return Br(this.started,"Cannot initialize MutationQueue before persistence is started."),ra.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},pc.prototype.getQueryCache=function(){return Br(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},pc.prototype.getRemoteDocumentCache=function(){return Br(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},pc.prototype.getIndexManager=function(){return Br(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},pc.prototype.runTransaction=function(t,e,n){var r=this;Fr(sc,"Starting transaction:",t);var i,o=e.endsWith("idempotent"),a=e.startsWith("readonly")?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite";return this.simpleDb.runTransaction(a,Vu,(function(o){return i=new hc(o,r.listenSequence.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?r.verifyPrimaryLease(o).next((function(e){if(!e)throw qr("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new Hr(zr.FAILED_PRECONDITION,uc);return n(i)})).next((function(t){return r.acquireOrExtendPrimaryLease(o).next((function(){return t}))})):r.verifyAllowTabSynchronization(o).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},pc.prototype.verifyAllowTabSynchronization=function(t){var e=this;return mc(t).get(pu.key).next((function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new Hr(zr.FAILED_PRECONDITION,cc)}))},pc.prototype.acquireOrExtendPrimaryLease=function(t){var e=new pu(this.clientId,this.allowTabSynchronization,Date.now());return mc(t).put(pu.key,e)},pc.isAvailable=function(){return Ko.isAvailable()},pc.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},pc.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=mc(t);return n.get(pu.key).next((function(t){return e.isLocalClient(t)?(Fr(sc,"Releasing primary lease."),n.delete(pu.key)):jo.resolve()}))},pc.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(qr("Detected an update time that is in the future: "+t+" > "+n),1))},pc.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},pc.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(Br(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},pc.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},pc.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(Br("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},pc.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return Fr(sc,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return qr(sc,"Failed to get zombied client id.",t),!1}},pc.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(i){qr("Failed to set zombie client id.",i)}},pc.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(i){}},pc.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},pc.MAIN_DATABASE="main",pc);function pc(t,e,n,r,i,o,a,s){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.queue=o,this.sequenceNumberSyncer=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new vc(this,i),this.dbName=e+pc.MAIN_DATABASE,this.serializer=new Qu(a),this.document=r.document,this.queryCache=new pa(this.referenceDelegate,this.serializer),this.indexManager=new ju,this.remoteDocumentCache=new Js(this.serializer,this.indexManager),!r.window||!r.window.localStorage)throw new Hr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}function dc(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){if(!function(t){return t.code===zr.FAILED_PRECONDITION&&t.message===uc}(t))throw t;return Fr(sc,"Unexpectedly lost primary lease"),[2]}))}))}function mc(t){return t.store(pu.store)}function yc(t){return t.store(Mu.store)}var vc=(gc.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next((function(t){return e.next((function(e){return t+e}))}))},gc.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},gc.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},gc.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,(function(t,n){return e(n)}))},gc.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},gc.prototype.addReference=function(t,e){return bc(t,e)},gc.prototype.removeReference=function(t,e){return bc(t,e)},gc.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},gc.prototype.removeMutationReference=function(t,e){return bc(t,e)},gc.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?jo.resolve(!0):function(t,e){var n=!1;return ha(t).iterateSerial((function(r){return oa(t,r,e).next((function(t){return t&&(n=!0),jo.resolve(!t)}))})).next((function(){return n}))}(t,e)},gc.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(t,(function(a,s){if(s<=e){var u=n.isPinned(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),ga(t).delete(function(t){return[0,oo(t.path)]}(a))}))}));i.push(u)}})).next((function(){return jo.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},gc.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(t,n)},gc.prototype.updateLimboDocument=function(t,e){return bc(t,e)},gc.prototype.forEachOrphanedDocument=function(t,e){var n,r=ga(t),i=Pi.INVALID;return r.iterate({index:Nu.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Pi.INVALID&&e(new Qi(uo(n)),i),i=s,n=a):i=Pi.INVALID})).next((function(){i!==Pi.INVALID&&e(new Qi(uo(n)),i)}))},gc.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},gc);function gc(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new nc(this,e)}function bc(t,e){return ga(t).put(function(t,e){return new Nu(0,oo(t.path),e)}(e,t.currentSequenceNumber))}var wc=(Ec.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.getDocumentInternal(t,e,r)}))},Ec.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t}))},Ec.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=ko();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)})),r},Ec.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.getLocalViewOfDocuments(t,e)}))},Ec.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Co();return i.forEach((function(t,e){e=e||new Bs(t,lo.forDeletedDoc()),o=o.insert(t,e)})),o}))},Ec.prototype.getDocumentsMatchingQuery=function(t,e,n){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)},Ec.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new Qi(e)).next((function(t){var e=Do();return t instanceof qs&&(e=e.insert(t.key,t)),e}))},Ec.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e,n){var r=this;Br(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,o=Do();return this.indexManager.getCollectionParents(t,i).next((function(a){return jo.forEach(a,(function(a){var s=e.asCollectionQueryAtPath(a.child(i));return r.getDocumentsMatchingCollectionQuery(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},Ec.prototype.getDocumentsMatchingCollectionQuery=function(t,e,n){var r,i,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.addMissingBaseDocuments(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,h=r.get(c),l=u.applyToLocalView(h,h,o.localWriteTime);r=l instanceof qs?r.insert(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},Ec.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=Po(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Pa&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof qs&&(c=c.insert(t,e))})),c}))},Ec);function Ec(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}var Tc=(Sc.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},Sc.prototype.addReference=function(t,e){var n=new _c(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},Sc.prototype.addReferences=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},Sc.prototype.removeReference=function(t,e){this.removeRef(new _c(t,e))},Sc.prototype.removeReferences=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},Sc.prototype.removeReferencesForId=function(t){var e=this,n=Qi.EMPTY,r=new _c(n,t),i=new _c(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(t){e.removeRef(t),o.push(t.key)})),o},Sc.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach((function(e){return t.removeRef(e)}))},Sc.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},Sc.prototype.referencesForId=function(t){var e=Qi.EMPTY,n=new _c(e,t),r=new _c(e,t+1),i=Po();return this.refsByTarget.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},Sc.prototype.containsKey=function(t){var e=new _c(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},Sc);function Sc(){this.refsByKey=new To(_c.compareByKey),this.refsByTarget=new To(_c.compareByTargetId)}var _c=(Ic.compareByKey=function(t,e){return Qi.comparator(t.key,e.key)||Ti(t.targetOrBatchId,e.targetOrBatchId)},Ic.compareByTargetId=function(t,e){return Ti(t.targetOrBatchId,e.targetOrBatchId)||Qi.comparator(t.key,e.key)},Ic);function Ic(t,e){this.key=t,this.targetOrBatchId=e}var Ac="LocalStore",Cc=(kc.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},kc.prototype.handleUserChange=function(t){return u(this,void 0,void 0,(function(){var e,n,r,i=this;return c(this,(function(o){switch(o.label){case 0:return e=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var o;return i.mutationQueue.getAllMutationBatches(r).next((function(a){return o=a,e=i.persistence.getMutationQueue(t),n=new wc(i.remoteDocuments,e,i.persistence.getIndexManager()),e.getAllMutationBatches(r)})).next((function(t){for(var e=[],i=[],a=Po(),s=0,u=o;s<u.length;s++){var c=u[s];e.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];a=a.add(f.key)}}for(var p=0,d=t;p<d.length;p++){c=d[p],i.push(c.batchId);for(var m=0,y=c.mutations;m<y.length;m++)f=y[m],a=a.add(f.key)}return n.getDocuments(r,a).next((function(t){return{affectedDocuments:t,removedBatchIds:e,addedBatchIds:i}}))}))}))];case 1:return r=o.sent(),this.mutationQueue=e,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}}))}))},kc.prototype.localWrite=function(t){var e,n=this,r=co.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Po());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.localDocuments.getDocuments(o,i).next((function(i){e=i;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],h=c.extractBaseValue(e.get(c.key));null!=h&&a.push(new Pa(c.key,h,h.fieldMask(),Aa.exists(!0)))}return n.mutationQueue.addMutationBatch(o,r,a,t)}))})).then((function(t){var n=t.applyToLocalDocumentSet(e);return{batchId:t.batchId,changes:n}}))},kc.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return e.mutationQueue.lookupMutationKeys(n,t).next((function(t){return t?e.localDocuments.getDocuments(n,t):jo.resolve(null)}))}))},kc.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer({trackRemovals:!0});return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next((function(){return e.applyWriteToRemoteDocuments(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,r)}))}))},kc.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next((function(t){return Br(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,r)}))}))},kc.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))},kc.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(e){return t.mutationQueue.getLastStreamToken(e)}))},kc.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return e.mutationQueue.setLastStreamToken(n,t)}))},kc.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)}))},kc.prototype.applyRemoteEvent=function(t){var e=this,n=t.snapshotVersion,r=this.queryDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(i){var o=e.remoteDocuments.newChangeBuffer({trackRemovals:!0});r=e.queryDataByTarget;var a=[];Zr(t.targetChanges,(function(t,o){var s=r.get(t);if(s){a.push(e.queryCache.removeMatchingKeys(i,o.removedDocuments,t).next((function(){return e.queryCache.addMatchingKeys(i,o.addedDocuments,t)})));var u=o.resumeToken;if(0<u.length){var c=s.withResumeToken(u,n).withSequenceNumber(i.currentSequenceNumber);r=r.insert(t,c),kc.shouldPersistQueryData(s,c,o)&&a.push(e.queryCache.updateQueryData(i,c))}}}));var s=Co(),u=Po();if(t.documentUpdates.forEach((function(t,e){u=u.add(t)})),a.push(o.getEntries(i,u).next((function(r){t.documentUpdates.forEach((function(u,c){var h=r.get(u);c instanceof Bs&&c.version.isEqual(lo.MIN)?(o.removeEntry(u,n),s=s.insert(u,c)):null==h||0<c.version.compareTo(h.version)||0===c.version.compareTo(h.version)&&h.hasPendingWrites?(lo.MIN.isEqual(n)&&qr(Ac,"Cannot add a document when the remote version is zero"),o.addEntry(c,n),s=s.insert(u,c)):Fr(Ac,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version),t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(i,u))}))}))),!n.isEqual(lo.MIN)){var c=e.queryCache.getLastRemoteSnapshotVersion(i).next((function(t){return Br(0<=n.compareTo(t),"Watch stream reverted to previous snapshot?? "+n+" < "+t),e.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,n)}));a.push(c)}return jo.waitFor(a).next((function(){return o.apply(i)})).next((function(){return e.localDocuments.getLocalViewOfDocuments(i,s)}))})).then((function(t){return e.queryDataByTarget=r,t}))},kc.shouldPersistQueryData=function(t,e,n){return Br(0<e.resumeToken.length,"Attempted to persist query data with no resume token"),0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size},kc.prototype.notifyLocalViewChanges=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.localViewReferences.addReferences(i.addedKeys,o),this.localViewReferences.removeReferences(i.removedKeys,o),!i.fromCache){var a=this.queryDataByTarget.get(o);Br(null!==a,"Can't set limbo-free snapshot version for unknown target: "+o);var s=a.snapshotVersion,u=a.withLastLimboFreeSnapshotVersion(s);this.queryDataByTarget=this.queryDataByTarget.insert(o,u)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return jo.forEach(t,(function(t){return jo.forEach(t.removedKeys,(function(t){return e.persistence.referenceDelegate.removeReference(n,t)}))}))}))},kc.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)}))},kc.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return e.localDocuments.getDocument(n,t)}))},kc.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite-idempotent",(function(n){var r;return e.queryCache.getQueryData(n,t).next((function(i){return i?(r=i,jo.resolve(r)):e.queryCache.allocateTargetId(n).next((function(i){return r=new Ku(t,i,Fu.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r).next((function(){return r}))}))}))})).then((function(n){return Br(null===e.queryDataByTarget.get(n.targetId),"Tried to allocate an already allocated query: "+t),e.queryDataByTarget=e.queryDataByTarget.insert(n.targetId,n),e.targetIdByQuery.set(t,n.targetId),n}))},kc.prototype.getQueryData=function(t,e){var n=this.targetIdByQuery.get(e);return void 0!==n?jo.resolve(this.queryDataByTarget.get(n)):this.queryCache.getQueryData(t,e)},kc.prototype.releaseQuery=function(t,e){var n,r=this,i=e?"readwrite-idempotent":"readwrite-primary-idempotent";return this.persistence.runTransaction("Release query",i,(function(i){var o=r.targetIdByQuery.get(t);Br(void 0!==o,"Tried to release nonexistent query: "+t),n=o;var a=r.queryDataByTarget.get(n),s=r.localViewReferences.removeReferencesForId(n);return e?jo.resolve():jo.forEach(s,(function(t){return r.persistence.referenceDelegate.removeReference(i,t)})).next((function(){r.persistence.referenceDelegate.removeTarget(i,a)}))})).then((function(){r.queryDataByTarget=r.queryDataByTarget.remove(n),r.targetIdByQuery.delete(t)}))},kc.prototype.executeQuery=function(t,e){var n=this,r=lo.MIN,i=Po();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.getQueryData(o,t).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.queryCache.getMatchingKeysForTargetId(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(o,t,e?r:lo.MIN,e?i:Po())})).next((function(t){return{documents:t,remoteKeys:i}}))}))},kc.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)}))},kc.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},kc.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},kc.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},kc.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=jo.resolve();return o.forEach((function(r){a=a.next((function(){return n.getEntry(t,r)})).next((function(t){var o=t,a=e.docVersions.get(r);Br(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o,e.commitVersion):Br(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(t,i)}))},kc.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return t.collect(n,e.queryDataByTarget)}))},kc.prototype.getQueryForTarget=function(t){var e=this,n=this.queryDataByTarget.get(t);return n?Promise.resolve(n.query):this.persistence.runTransaction("Get query data","readonly-idempotent",(function(n){return e.queryCache.getQueryDataForTarget(n,t).next((function(t){return t?t.query:null}))}))},kc.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(e){return t.remoteDocuments.getNewDocumentChanges(e,t.lastDocumentChangeReadTime)})).then((function(e){var n=e.changedDocs,r=e.readTime;return t.lastDocumentChangeReadTime=r,n}))},kc.prototype.synchronizeLastDocumentChangeReadTime=function(){return u(this,void 0,void 0,(function(){var t,e=this;return c(this,(function(n){return this.remoteDocuments instanceof Js?(t=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(e){return t.getLastDocumentChange(e)})).then((function(t){var n=t.readTime;e.lastDocumentChangeReadTime=n}))]):[2]}))}))},kc.RESUME_TOKEN_MAX_AGE_MICROS=3e8,kc);function kc(t,e,n){this.persistence=t,this.queryEngine=e,this.localViewReferences=new Tc,this.queryDataByTarget=new po(Ti),this.targetIdByQuery=new zs((function(t){return t.canonicalId()})),this.lastDocumentChangeReadTime=lo.MIN,Br(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(n),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new wc(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}var Nc=(Dc.prototype.checkEmpty=function(t){return jo.resolve(0===this.mutationQueue.length)},Dc.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");Br(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return Br(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,jo.resolve()},Dc.prototype.getLastStreamToken=function(t){return jo.resolve(this.lastStreamToken)},Dc.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,jo.resolve()},Dc.prototype.addMutationBatch=function(t,e,n,r){Br(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&Br(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Uo(i,e,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new _c(u.key,i)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}return jo.resolve(o)},Dc.prototype.lookupMutationBatch=function(t,e){return jo.resolve(this.findMutationBatch(e))},Dc.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return Br(null!=n,"Failed to find local mutation batch."),jo.resolve(n.keys())},Dc.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.indexOfBatchId(n),i=r<0?0:r;return jo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},Dc.prototype.getHighestUnacknowledgedBatchId=function(){return jo.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},Dc.prototype.getAllMutationBatches=function(t){return jo.resolve(this.mutationQueue.slice())},Dc.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new _c(e,0),i=new _c(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(t){Br(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);Br(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),jo.resolve(o)},Dc.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new To(Ti);return e.forEach((function(t){var e=new _c(t,0),i=new _c(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],(function(e){Br(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)}))})),jo.resolve(this.findMutationBatches(r))},Dc.prototype.getAllMutationBatchesAffectingQuery=function(t,e){Br(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;Qi.isDocumentKey(i)||(i=i.child(""));var o=new _c(new Qi(i),0),a=new To(Ti);return this.batchesByDocumentKey.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)}),o),jo.resolve(this.findMutationBatches(a))},Dc.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)})),n},Dc.prototype.removeMutationBatch=function(t,e){var n=this;Br(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return jo.forEach(e.mutations,(function(i){var o=new _c(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)})).next((function(){n.batchesByDocumentKey=r}))},Dc.prototype.removeCachedMutationKeys=function(t){},Dc.prototype.containsKey=function(t,e){var n=new _c(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return jo.resolve(e.isEqual(r&&r.key))},Dc.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&Br(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),jo.resolve()},Dc.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return Br(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},Dc.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},Dc.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return Br(n.batchId===t,"If found batch must match"),n},Dc);function Dc(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=Gr(),this.batchesByDocumentKey=new To(_c.compareByKey)}var Oc=(Rc.prototype.getTargetCount=function(t){return jo.resolve(this.targetCount)},Rc.prototype.forEachTarget=function(t,e){return this.queries.forEach((function(t,n){return e(n)})),jo.resolve()},Rc.prototype.getLastRemoteSnapshotVersion=function(t){return jo.resolve(this.lastRemoteSnapshotVersion)},Rc.prototype.getHighestSequenceNumber=function(t){return jo.resolve(this.highestSequenceNumber)},Rc.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,jo.resolve(e)},Rc.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),jo.resolve()},Rc.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},Rc.prototype.addQueryData=function(t,e){return Br(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,jo.resolve()},Rc.prototype.updateQueryData=function(t,e){return Br(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),jo.resolve()},Rc.prototype.removeQueryData=function(t,e){return Br(0<this.targetCount,"Removing a target from an empty cache"),Br(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,jo.resolve()},Rc.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),jo.waitFor(o).next((function(){return i}))},Rc.prototype.getQueryCount=function(t){return jo.resolve(this.targetCount)},Rc.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return jo.resolve(n)},Rc.prototype.getQueryDataForTarget=function(t,e){return jr("Not yet implemented.")},Rc.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.addReference(t,e))})),jo.waitFor(i)},Rc.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.removeReference(t,e))})),jo.waitFor(i)},Rc.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),jo.resolve()},Rc.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return jo.resolve(n)},Rc.prototype.containsKey=function(t,e){return jo.resolve(this.references.containsKey(e))},Rc);function Rc(t){this.persistence=t,this.queries=new zs((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=lo.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Tc,this.targetCount=0,this.targetIdGenerator=la.forQueryCache()}var xc,Pc=(Lc.prototype.addEntry=function(t,e,n){Br(!n.isEqual(lo.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.sizer(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())},Lc.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},Lc.prototype.getEntry=function(t,e){var n=this.docs.get(e);return jo.resolve(n?n.maybeDocument:null)},Lc.prototype.getEntries=function(t,e){var n=this,r=ko();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)})),jo.resolve(r)},Lc.prototype.getDocumentsMatchingQuery=function(t,e,n){Br(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Do(),i=new Qi(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,h=u.readTime;if(!e.path.isPrefixOf(s.path))break;h.compareTo(n)<=0||c instanceof qs&&e.matches(c)&&(r=r.insert(c.key,c))}return jo.resolve(r)},Lc.prototype.forEachDocumentKey=function(t,e){return jo.forEach(this.docs,(function(t){return e(t)}))},Lc.prototype.getNewDocumentChanges=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},Lc.prototype.newChangeBuffer=function(t){return new Lc.RemoteDocumentChangeBuffer(this)},Lc.prototype.getSize=function(t){return jo.resolve(this.size)},Lc.RemoteDocumentChangeBuffer=(i(Mc,xc=$s),Mc.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i?n.push(e.documentCache.addEntry(t,i,e.readTime)):e.documentCache.removeEntry(r)})),jo.waitFor(n)},Mc.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},Mc.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},Mc),Lc);function Lc(t,e){this.indexManager=t,this.sizer=e,this.docs=new po(Qi.comparator),this.size=0}function Mc(t){var e=xc.call(this)||this;return e.documentCache=t,e}var Uc=(Fc.createLruPersistence=function(t,e,n){return new Fc(t,(function(t){return new Kc(t,new Qu(e),n)}))},Fc.createEagerPersistence=function(t){return new Fc(t,(function(t){return new Bc(t)}))},Fc.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(Fc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),Fc.prototype.getActiveClients=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return[2,[this.clientId]]}))}))},Fc.prototype.setPrimaryStateListener=function(t){return t(!0)},Fc.prototype.setDatabaseDeletedListener=function(){},Fc.prototype.setNetworkEnabled=function(t){},Fc.prototype.getIndexManager=function(){return this.indexManager},Fc.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Nc(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},Fc.prototype.getQueryCache=function(){return this.queryCache},Fc.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},Fc.prototype.runTransaction=function(t,e,n){var r=this;Fr("MemoryPersistence","Starting transaction:",t);var i=new Vc(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(t){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},Fc.prototype.mutationQueuesContainKey=function(t,e){return jo.or(function(t){var e=[];return ti(t,(function(t,n){return e.push(n)})),e}(this.mutationQueues).map((function(n){return function(){return n.containsKey(t,e)}})))},Fc);function Fc(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new Pi(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Oc(this),this.indexManager=new ou,this.remoteDocumentCache=new Pc(this.indexManager,(function(t){return n.referenceDelegate.documentSize(t)}))}var qc,Vc=(i(jc,qc=ic),jc);function jc(t){var e=qc.call(this)||this;return e.currentSequenceNumber=t,e}var Bc=(Object.defineProperty(Wc.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw jr("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),Wc.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},Wc.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),jo.resolve()},Wc.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),jo.resolve()},Wc.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),jo.resolve()},Wc.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.orphanedDocuments.add(t)}))})).next((function(){return r.removeQueryData(t,e)}))},Wc.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},Wc.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jo.forEach(this.orphanedDocuments,(function(r){return e.isReferenced(t,r).next((function(t){t||n.removeEntry(r)}))})).next((function(){return e._orphanedDocuments=null,n.apply(t)}))},Wc.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next((function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)}))},Wc.prototype.documentSize=function(t){return 0},Wc.prototype.isReferenced=function(t,e){var n=this;return jo.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return jo.resolve(n.inMemoryPins.containsKey(e))}])},Wc);function Wc(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}var Kc=(Gc.prototype.onTransactionStarted=function(){},Gc.prototype.onTransactionCommitted=function(t){return jo.resolve()},Gc.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},Gc.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},Gc.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},Gc.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return jo.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(t,r,i).next((function(t){return t?jo.resolve():e(i)}))}))},Gc.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},Gc.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},Gc.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(t,(function(i){return n.isPinned(t,i,e).next((function(t){t||(r++,o.removeEntry(i))}))})).next((function(){return o.apply(t)})).next((function(){return r}))},Gc.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),jo.resolve()},Gc.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(t,n)},Gc.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),jo.resolve()},Gc.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),jo.resolve()},Gc.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),jo.resolve()},Gc.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t,t.version);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw jr("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},Gc.prototype.isPinned=function(t,e,n){var r=this;return jo.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return jo.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return jo.resolve(void 0!==t&&n<t)}])},Gc.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},Gc);function Gc(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new zs((function(t){return oo(t.path)})),this.garbageCollector=new nc(this,n)}var Qc=(zc.prototype.setLocalDocumentsView=function(t){this.localDocumentsView=t},zc.prototype.getDocumentsMatchingQuery=function(t,e,n,r){return Br(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),this.localDocumentsView.getDocumentsMatchingQuery(t,e,lo.MIN)},zc);function zc(){}var Hc=Number,$c=Hc.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Yc=Hc.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Xc=Hc.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Jc(t){return null==t}function Zc(t){return Xc(t)&&t<=Yc&&$c<=t}var th=(eh.prototype.reset=function(){this.currentBaseMs=0},eh.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},eh.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);0<this.currentBaseMs&&Fr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return e.lastAttemptTime=Date.now(),t()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},eh.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},eh.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},eh);function eh(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}var nh,rh,ih="PersistentStream";(rh=nh=nh||{})[rh.Initial=0]="Initial",rh[rh.Starting=1]="Starting",rh[rh.Open=2]="Open",rh[rh.Error=3]="Error",rh[rh.Backoff=4]="Backoff";var oh=(ah.prototype.isStarted=function(){return this.state===nh.Starting||this.state===nh.Open||this.state===nh.Backoff},ah.prototype.isOpen=function(){return this.state===nh.Open},ah.prototype.start=function(){this.state!==nh.Error?(Br(this.state===nh.Initial,"Already started"),this.auth()):this.performBackoff()},ah.prototype.stop=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(nh.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},ah.prototype.inhibitBackoff=function(){Br(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=nh.Initial,this.backoff.reset()},ah.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return t.handleIdleCloseTimer()})))},ah.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},ah.prototype.handleIdleCloseTimer=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return this.isOpen()?[2,this.close(nh.Initial)]:[2]}))}))},ah.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},ah.prototype.close=function(t,e){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return Br(this.isStarted(),"Only started streams should be closed."),Br(t===nh.Error||Jc(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==nh.Error?this.backoff.reset():e&&e.code===zr.RESOURCE_EXHAUSTED?(qr(e.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===zr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}}))}))},ah.prototype.tearDown=function(){},ah.prototype.auth=function(){var t=this;Br(this.state===nh.Initial,"Must be in initial state to auth"),this.state=nh.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(e){t.closeCount===n&&t.startStream(e)}),(function(n){e((function(){var e=new Hr(zr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)}))}))},ah.prototype.startStream=function(t){var e=this;Br(this.state===nh.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen((function(){n((function(){return Br(e.state===nh.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=nh.Open,e.listener.onOpen()}))})),this.stream.onClose((function(t){n((function(){return e.handleStreamClose(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},ah.prototype.performBackoff=function(){var t=this;Br(this.state===nh.Error,"Should only perform backoff when in Error state"),this.state=nh.Backoff,this.backoff.backoffAndRun((function(){return u(t,void 0,void 0,(function(){return c(this,(function(t){return Br(this.state===nh.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=nh.Initial,this.start(),Br(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},ah.prototype.handleStreamClose=function(t){return Br(this.isStarted(),"Can't handle server close on non-started stream"),Fr(ih,"close with error: "+t),this.stream=null,this.close(nh.Error,t)},ah.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget((function(){return e.closeCount===t?n():(Fr(ih,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},ah);function ah(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=nh.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new th(t,e)}var sh,uh=(i(ch,sh=oh),ch.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},ch.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},ch.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},ch.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},ch);function ch(t,e,n,r,i){var o=sh.call(this,t,Hi.ListenStreamConnectionBackoff,Hi.ListenStreamIdle,e,n,i)||this;return o.serializer=r,o}var hh,lh=(i(fh,hh=oh),Object.defineProperty(fh.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),fh.prototype.start=function(){this.handshakeComplete_=!1,hh.prototype.start.call(this)},fh.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},fh.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},fh.prototype.onMessage=function(t){if(Br(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return Br(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},fh.prototype.writeHandshake=function(){Br(this.isOpen(),"Writing handshake requires an opened stream"),Br(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},fh.prototype.writeMutations=function(t){var e=this;Br(this.isOpen(),"Writing mutations requires an opened stream"),Br(this.handshakeComplete_,"Handshake must be complete before writing mutations"),Br(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map((function(t){return e.serializer.toMutation(t)}))};this.sendRequest(n)},fh);function fh(t,e,n,r,i){var o=hh.call(this,t,Hi.WriteStreamConnectionBackoff,Hi.WriteStreamIdle,e,n,i)||this;return o.serializer=r,o.handshakeComplete_=!1,o.lastStreamToken=Gr(),o}var ph=(dh.prototype.newPersistentWriteStream=function(t){return new lh(this.queue,this.connection,this.credentials,this.serializer,t)},dh.prototype.newPersistentWatchStream=function(t){return new uh(this.queue,this.connection,this.credentials,this.serializer,t)},dh.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map((function(t){return e.serializer.toMutation(t)}))};return this.invokeRPC("Commit",n).then((function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)}))},dh.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map((function(t){return e.serializer.toName(t)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Co();n.forEach((function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);Br(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},dh.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(t,e,r)})).catch((function(t){throw t.code===zr.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},dh.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(t,e,r)})).catch((function(t){throw t.code===zr.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},dh);function dh(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}var mh,yh,vh,gh,bh=(wh.prototype.lookup=function(t){return u(this,void 0,void 0,(function(){var e,n=this;return c(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Hr(zr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof Bs||t instanceof qs?n.recordVersion(t):jr("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},wh.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},wh.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t)},wh.prototype.delete=function(t){this.write([new Ka(t,this.precondition(t))]),this.writtenDocs.add(t)},wh.prototype.commit=function(){return u(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach((function(e){t=t.remove(e.key)})),!t.isEmpty())throw new Hr(zr.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}}))}))},wh.prototype.recordVersion=function(t){var e;if(t instanceof qs)e=t.version;else{if(!(t instanceof Bs))throw jr("Document in a transaction was a "+t.constructor.name);e=lo.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new Hr(zr.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},wh.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?Aa.updateTime(e):Aa.NONE},wh.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(this.writtenDocs.has(t)||!e)return Aa.exists(!0);if(e.isEqual(lo.forDeletedDoc()))throw new Hr(zr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Aa.updateTime(e)},wh.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},wh.prototype.ensureCommitNotCalled=function(){Br(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},wh);function wh(t){this.datastore=t,this.readVersions=Ro(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}(yh=mh=mh||{})[yh.Unknown=0]="Unknown",yh[yh.Online=1]="Online",yh[yh.Offline=2]="Offline",(gh=vh=vh||{})[gh.RemoteStore=0]="RemoteStore",gh[gh.SharedClientState=1]="SharedClientState";var Eh,Th,Sh=(_h.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(mh.Unknown),Br(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Hi.OnlineStateTimeout,1e4,(function(){return t.onlineStateTimer=null,Br(t.state===mh.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(mh.Offline),Promise.resolve()})))},_h.prototype.handleWatchStreamFailure=function(t){this.state===mh.Online?(this.setAndBroadcast(mh.Unknown),Br(0===this.watchStreamFailures,"watchStreamFailures must be 0"),Br(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(mh.Offline)))},_h.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===mh.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},_h.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},_h.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(qr(e),this.shouldWarnClientIsOffline=!1):Fr("OnlineStateTracker",e)},_h.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},_h);function _h(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=mh.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}function Ih(t){switch(t){case zr.OK:return jr("Treated status OK as error");case zr.CANCELLED:case zr.UNKNOWN:case zr.DEADLINE_EXCEEDED:case zr.RESOURCE_EXHAUSTED:case zr.INTERNAL:case zr.UNAVAILABLE:case zr.UNAUTHENTICATED:return!1;case zr.INVALID_ARGUMENT:case zr.NOT_FOUND:case zr.ALREADY_EXISTS:case zr.PERMISSION_DENIED:case zr.FAILED_PRECONDITION:case zr.ABORTED:case zr.OUT_OF_RANGE:case zr.UNIMPLEMENTED:case zr.DATA_LOSS:return!0;default:return jr("Unknown status code: "+t)}}function Ah(t){if(void 0===t)return qr("GRPC error has no .code"),zr.UNKNOWN;switch(t){case Eh.OK:return zr.OK;case Eh.CANCELLED:return zr.CANCELLED;case Eh.UNKNOWN:return zr.UNKNOWN;case Eh.DEADLINE_EXCEEDED:return zr.DEADLINE_EXCEEDED;case Eh.RESOURCE_EXHAUSTED:return zr.RESOURCE_EXHAUSTED;case Eh.INTERNAL:return zr.INTERNAL;case Eh.UNAVAILABLE:return zr.UNAVAILABLE;case Eh.UNAUTHENTICATED:return zr.UNAUTHENTICATED;case Eh.INVALID_ARGUMENT:return zr.INVALID_ARGUMENT;case Eh.NOT_FOUND:return zr.NOT_FOUND;case Eh.ALREADY_EXISTS:return zr.ALREADY_EXISTS;case Eh.PERMISSION_DENIED:return zr.PERMISSION_DENIED;case Eh.FAILED_PRECONDITION:return zr.FAILED_PRECONDITION;case Eh.ABORTED:return zr.ABORTED;case Eh.OUT_OF_RANGE:return zr.OUT_OF_RANGE;case Eh.UNIMPLEMENTED:return zr.UNIMPLEMENTED;case Eh.DATA_LOSS:return zr.DATA_LOSS;default:return jr("Unknown status code: "+t)}}(Th=Eh=Eh||{})[Th.OK=0]="OK",Th[Th.CANCELLED=1]="CANCELLED",Th[Th.UNKNOWN=2]="UNKNOWN",Th[Th.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Th[Th.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Th[Th.NOT_FOUND=5]="NOT_FOUND",Th[Th.ALREADY_EXISTS=6]="ALREADY_EXISTS",Th[Th.PERMISSION_DENIED=7]="PERMISSION_DENIED",Th[Th.UNAUTHENTICATED=16]="UNAUTHENTICATED",Th[Th.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Th[Th.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Th[Th.ABORTED=10]="ABORTED",Th[Th.OUT_OF_RANGE=11]="OUT_OF_RANGE",Th[Th.UNIMPLEMENTED=12]="UNIMPLEMENTED",Th[Th.INTERNAL=13]="INTERNAL",Th[Th.UNAVAILABLE=14]="UNAVAILABLE",Th[Th.DATA_LOSS=15]="DATA_LOSS";var Ch,kh,Nh,Dh,Oh=(Rh.emptySet=function(t){return new Rh(t.comparator)},Rh.prototype.has=function(t){return null!=this.keyedMap.get(t)},Rh.prototype.get=function(t){return this.keyedMap.get(t)},Rh.prototype.first=function(){return this.sortedSet.minKey()},Rh.prototype.last=function(){return this.sortedSet.maxKey()},Rh.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},Rh.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(Rh.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),Rh.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},Rh.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},Rh.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},Rh.prototype.isEqual=function(t){if(!(t instanceof Rh))return!1;if(this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},Rh.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},Rh.prototype.copy=function(t,e){var n=new Rh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n},Rh);function Rh(t){this.comparator=t?function(e,n){return t(e,n)||Qi.comparator(e.key,n.key)}:function(t,e){return Qi.comparator(t.key,e.key)},this.keyedMap=Do(),this.sortedSet=new po(this.comparator)}(kh=Ch=Ch||{})[kh.Added=0]="Added",kh[kh.Removed=1]="Removed",kh[kh.Modified=2]="Modified",kh[kh.Metadata=3]="Metadata",(Dh=Nh=Nh||{})[Dh.Local=0]="Local",Dh[Dh.Synced=1]="Synced";var xh=(Ph.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Ch.Added&&n.type===Ch.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Ch.Metadata&&n.type!==Ch.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Ch.Modified&&n.type===Ch.Modified?this.changeMap=this.changeMap.insert(e,{type:Ch.Modified,doc:t.doc}):t.type===Ch.Modified&&n.type===Ch.Added?this.changeMap=this.changeMap.insert(e,{type:Ch.Added,doc:t.doc}):t.type===Ch.Removed&&n.type===Ch.Added?this.changeMap=this.changeMap.remove(e):t.type===Ch.Removed&&n.type===Ch.Modified?this.changeMap=this.changeMap.insert(e,{type:Ch.Removed,doc:n.doc}):t.type===Ch.Added&&n.type===Ch.Removed?this.changeMap=this.changeMap.insert(e,{type:Ch.Modified,doc:t.doc}):jr("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},Ph.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal((function(e,n){t.push(n)})),t},Ph);function Ph(){this.changeMap=new po(Qi.comparator)}var Lh=(Mh.fromInitialDocuments=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:Ch.Added,doc:t})})),new Mh(t,e,Oh.emptySet(e),i,n,r,!0,!1)},Object.defineProperty(Mh.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),Mh.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},Mh);function Mh(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}var Uh=(Fh.createSynthesizedRemoteEventForCurrentChange=function(t,e){var n,r=((n={})[t]=qh.createSynthesizedTargetChangeForCurrentChange(t,e),n);return new Fh(lo.MIN,r,Mo(),Co(),Po())},Fh);function Fh(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}var qh=(Vh.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new Vh(Gr(),e,Po(),Po(),Po())},Vh);function Vh(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}var jh,Bh,Wh=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Kh=function(t,e){this.targetId=t,this.existenceFilter=e};(Bh=jh=jh||{})[Bh.NoChange=0]="NoChange",Bh[Bh.Added=1]="Added",Bh[Bh.Removed=2]="Removed",Bh[Bh.Current=3]="Current",Bh[Bh.Reset=4]="Reset";var Gh=function(t,e,n,r){void 0===n&&(n=Gr()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Qh=(Object.defineProperty(zh.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(zh.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(zh.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(zh.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),zh.prototype.updateResumeToken=function(t){0<t.length&&(this._hasPendingChanges=!0,this._resumeToken=t)},zh.prototype.toTargetChange=function(){var t=Po(),e=Po(),n=Po();return this.documentChanges.forEach((function(r,i){switch(i){case Ch.Added:t=t.add(r);break;case Ch.Modified:e=e.add(r);break;case Ch.Removed:n=n.add(r);break;default:jr("Encountered invalid change type: "+i)}})),new qh(this._resumeToken,this._current,t,e,n)},zh.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Xh()},zh.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},zh.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},zh.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},zh.prototype.recordTargetResponse=function(){this.pendingResponses-=1},zh.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},zh);function zh(){this.pendingResponses=0,this.documentChanges=Xh(),this._resumeToken=Gr(),this._current=!1,this._hasPendingChanges=!0}var Hh=($h.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof qs?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof Bs&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.removeDocumentFromTarget(r,t.key,t.newDoc)},$h.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ensureTargetState(n);switch(t.state){case jh.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case jh.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case jh.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),Br(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case jh.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case jh.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:jr("Unknown target watch change state: "+t.state)}}))},$h.prototype.forEachTarget=function(t,e){0<t.targetIds.length?t.targetIds.forEach(e):Zr(this.targetStates,e)},$h.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new Qi(i.path);this.removeDocumentFromTarget(e,o,new Bs(o,lo.forDeletedDoc()))}else Br(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},$h.prototype.createRemoteEvent=function(t){var e=this,n={};Zr(this.targetStates,(function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new Qi(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new Bs(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=Po();this.pendingDocumentTargetMapping.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Fu.LimboResolution||(i=!1)})),i&&(r=r.add(t))}));var i=new Uh(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Co(),this.pendingDocumentTargetMapping=Yh(),this.pendingTargetResets=new To(Ti),i},$h.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Ch.Modified:Ch.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},$h.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Ch.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},$h.prototype.removeTarget=function(t){delete this.targetStates[t]},$h.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},$h.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},$h.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Qh),this.targetStates[t]},$h.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new To(Ti),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},$h.prototype.isActiveTarget=function(t){var e=null!==this.queryDataForActiveTarget(t);return e||Fr("WatchChangeAggregator","Detected inactive target",t),e},$h.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},$h.prototype.resetTarget=function(t){var e=this;Br(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Qh,this.metadataProvider.getRemoteKeysForTarget(t).forEach((function(n){e.removeDocumentFromTarget(t,n,null)}))},$h.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},$h);function $h(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Co(),this.pendingDocumentTargetMapping=Yh(),this.pendingTargetResets=new To(Ti)}function Yh(){return new po(Qi.comparator)}function Xh(){return new po(Qi.comparator)}var Jh="RemoteStore",Zh=(tl.prototype.start=function(){return this.enableNetwork()},tl.prototype.enableNetwork=function(){return u(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(mh.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},tl.prototype.disableNetwork=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(mh.Offline),[2]}}))}))},tl.prototype.disableNetworkInternal=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),0<this.writePipeline.length&&(Fr(Jh,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},tl.prototype.shutdown=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return Fr(Jh,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(mh.Unknown),[2]}}))}))},tl.prototype.listen=function(t){Br(!Xr(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},tl.prototype.unlisten=function(t){Br(Xr(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),ei(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(mh.Unknown))},tl.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},tl.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},tl.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},tl.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},tl.prototype.startWatchStream=function(){Br(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Hh(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},tl.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!ei(this.listenTargets)},tl.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},tl.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},tl.prototype.onWatchStreamOpen=function(){return u(this,void 0,void 0,(function(){var t=this;return c(this,(function(e){return Zr(this.listenTargets,(function(e,n){t.sendWatchRequest(n)})),[2]}))}))},tl.prototype.onWatchStreamClose=function(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return void 0===t&&Br(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(mh.Unknown),[2]}))}))},tl.prototype.onWatchStreamChange=function(t,e){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(mh.Online),t instanceof Gh&&t.state===jh.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Wh?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Kh?this.watchChangeAggregator.handleExistenceFilter(t):(Br(t instanceof Gh,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(lo.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),0<=e.compareTo(n)?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},tl.prototype.raiseWatchSnapshot=function(t){var e=this;Br(!t.isEqual(lo.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return Zr(n.targetChanges,(function(n,r){if(0<r.resumeToken.length){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.withResumeToken(r.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(Gr(),n.snapshotVersion),e.sendUnwatchRequest(t);var r=new Ku(n.query,t,Fu.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},tl.prototype.handleTargetError=function(t){var e=this;Br(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return u(e,void 0,void 0,(function(){return c(this,(function(e){return Xr(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]}))}))}))})),r},tl.prototype.fillWritePipeline=function(){return u(this,void 0,void 0,(function(){var t,e;return c(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},tl.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},tl.prototype.outstandingWrites=function(){return this.writePipeline.length},tl.prototype.addToWritePipeline=function(t){Br(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},tl.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},tl.prototype.startWriteStream=function(){Br(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},tl.prototype.onWriteStreamOpen=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return this.writeStream.writeHandshake(),[2]}))}))},tl.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}})).catch(dc)},tl.prototype.onMutationResult=function(t,e){var n=this;Br(0<this.writePipeline.length,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=qo.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},tl.prototype.onWriteStreamClose=function(t){return u(this,void 0,void 0,(function(){var e=this;return c(this,(function(n){return void 0===t&&Br(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then((function(){e.shouldStartWriteStream()&&e.startWriteStream()}))]:[2]}))}))},tl.prototype.handleHandshakeError=function(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return Ih(t.code)?(Fr(Jh,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=Gr(),[2,this.localStore.setLastStreamToken(Gr()).catch(dc)]):[2]}))}))},tl.prototype.handleWriteError=function(t){return u(this,void 0,void 0,(function(){var e,n=this;return c(this,(function(r){return function(t){return Ih(t)&&t!==zr.ABORTED}(t.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then((function(){return n.fillWritePipeline()}))]):[2]}))}))},tl.prototype.createTransaction=function(){return new bh(this.datastore)},tl.prototype.restartNetwork=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(mh.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},tl.prototype.handleCredentialChange=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(Fr(Jh,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},tl.prototype.applyPrimaryState=function(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return(this.isPrimary=t)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(mh.Unknown),e.label=4;case 4:return[2]}}))}))},tl);function tl(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(t){n.enqueueAndForget((function(){return u(o,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(Fr(Jh,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new Sh(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}var el=(Object.defineProperty(nl.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(nl.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),nl.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},nl.prototype._compareTo=function(t){return Ti(this._lat,t._lat)||Ti(this._long,t._long)},nl);function nl(t,e){if(ri("GeoPoint",arguments,2),ai("GeoPoint","number",1,t),ai("GeoPoint","number",2,e),!isFinite(t)||t<-90||90<t)throw new Hr(zr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Hr(zr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}var rl=(il.atPath=function(t){return new il(t)},Object.defineProperty(il.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[Rl]:this.memoizedOrderBy=[new Dl(t),Rl];else{Br(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Al.ASCENDING;this.memoizedOrderBy.push(a===Al.ASCENDING?Rl:xl)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),il.prototype.addFilter=function(t){Br(null==this.getInequalityFilterField()||!(t instanceof cl)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),Br(!this.isDocumentQuery(),"No filtering allowed for document query");var e=this.filters.concat([t]);return new il(this.path,this.collectionGroup,this.explicitOrderBy.slice(),e,this.limit,this.startAt,this.endAt)},il.prototype.addOrderBy=function(t){Br(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var e=this.explicitOrderBy.concat([t]);return new il(this.path,this.collectionGroup,e,this.filters.slice(),this.limit,this.startAt,this.endAt)},il.prototype.withLimit=function(t){return new il(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},il.prototype.withStartAt=function(t){return new il(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},il.prototype.withEndAt=function(t){return new il(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},il.prototype.asCollectionQueryAtPath=function(t){return new il(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},il.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},il.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Jc(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},il.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(t+=", filters: ["+this.filters.join(", ")+"]"),Jc(this.limit)||(t+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},il.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},il.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return Br(n,"orderBy used that doesn't compare on key field"),0},il.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},il.prototype.hasLimit=function(){return!Jc(this.limit)},il.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},il.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof cl&&n.isInequality())return n.field}return null},il.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof cl&&0<=t.indexOf(r.op))return r.op}return null},il.prototype.isDocumentQuery=function(){return Qi.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},il.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},il.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):Qi.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},il.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},il.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},il.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},il.prototype.assertValidBound=function(t){Br(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},il);function il(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}function ol(){}var al=(sl.fromString=function(t){switch(t){case"<":return sl.LESS_THAN;case"<=":return sl.LESS_THAN_OR_EQUAL;case"==":return sl.EQUAL;case">=":return sl.GREATER_THAN_OR_EQUAL;case">":return sl.GREATER_THAN;case"array-contains":return sl.ARRAY_CONTAINS;case"in":return sl.IN;case"array-contains-any":return sl.ARRAY_CONTAINS_ANY;default:return jr("Unknown FieldFilter operator: "+t)}},sl.prototype.toString=function(){return this.name},sl.prototype.isEqual=function(t){return this.name===t.name},sl.LESS_THAN=new sl("<"),sl.LESS_THAN_OR_EQUAL=new sl("<="),sl.EQUAL=new sl("=="),sl.GREATER_THAN=new sl(">"),sl.GREATER_THAN_OR_EQUAL=new sl(">="),sl.ARRAY_CONTAINS=new sl("array-contains"),sl.IN=new sl("in"),sl.ARRAY_CONTAINS_ANY=new sl("array-contains-any"),sl);function sl(t){this.name=t}var ul,cl=(i(hl,ul=ol),hl.create=function(t,e,n){if(t.isKeyField())return e===al.IN?(Br(n instanceof Ps,"Comparing on key with IN, but filter value not an ArrayValue"),Br(n.internalValue.every((function(t){return t instanceof Is})),"Comparing on key with IN, but an array value was not a RefValue"),new ml(t,n)):(Br(n instanceof Is,"Comparing on key, but filter value not a RefValue"),Br(e!==al.ARRAY_CONTAINS&&e!==al.ARRAY_CONTAINS_ANY,"'"+e.toString()+"' queries don't make sense on document keys."),new fl(t,e,n));if(n.isEqual(Xa.INSTANCE)){if(e!==al.EQUAL)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new hl(t,e,n)}if(n.isEqual(hs.NAN)){if(e!==al.EQUAL)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new hl(t,e,n)}return e===al.ARRAY_CONTAINS?new gl(t,n):e===al.IN?(Br(n instanceof Ps,"IN filter has invalid value: "+n.toString()),new El(t,n)):e===al.ARRAY_CONTAINS_ANY?(Br(n instanceof Ps,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new _l(t,n)):new hl(t,e,n)},hl.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},hl.prototype.matchesComparison=function(t){switch(this.op){case al.LESS_THAN:return t<0;case al.LESS_THAN_OR_EQUAL:return t<=0;case al.EQUAL:return 0===t;case al.GREATER_THAN:return 0<t;case al.GREATER_THAN_OR_EQUAL:return 0<=t;default:return jr("Unknown FieldFilter operator: "+this.op)}},hl.prototype.isInequality=function(){return 0<=[al.LESS_THAN,al.LESS_THAN_OR_EQUAL,al.GREATER_THAN,al.GREATER_THAN_OR_EQUAL].indexOf(this.op)},hl.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},hl.prototype.isEqual=function(t){return t instanceof hl&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},hl.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},hl);function hl(t,e,n){var r=ul.call(this)||this;return r.field=t,r.op=e,r.value=n,r}var ll,fl=(i(pl,ll=cl),pl.prototype.matches=function(t){var e=this.value,n=Qi.comparator(t.key,e.key);return this.matchesComparison(n)},pl);function pl(){return null!==ll&&ll.apply(this,arguments)||this}var dl,ml=(i(yl,dl=cl),yl.prototype.matches=function(t){return this.value.internalValue.some((function(e){return t.key.isEqual(e.key)}))},yl);function yl(t,e){var n=dl.call(this,t,al.IN,e)||this;return n.value=e,n}var vl,gl=(i(bl,vl=cl),bl.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Ps&&e.contains(this.value)},bl);function bl(t,e){return vl.call(this,t,al.ARRAY_CONTAINS,e)||this}var wl,El=(i(Tl,wl=cl),Tl.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},Tl);function Tl(t,e){var n=wl.call(this,t,al.IN,e)||this;return n.value=e,n}var Sl,_l=(i(Il,Sl=cl),Il.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Ps&&n.internalValue.some((function(t){return e.value.contains(t)}))},Il);function Il(t,e){var n=Sl.call(this,t,al.ARRAY_CONTAINS_ANY,e)||this;return n.value=e,n}var Al=(Cl.prototype.toString=function(){return this.name},Cl.ASCENDING=new Cl("asc"),Cl.DESCENDING=new Cl("desc"),Cl);function Cl(t){this.name=t}var kl=(Nl.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},Nl.prototype.sortsBeforeDocument=function(t,e){Br(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())Br(o instanceof Is,"Bound has a non-key value where the key path is being used."),n=Qi.comparator(o.key,e.key);else{var a=e.field(i.field);Br(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Al.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},Nl.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];if(!n.isEqual(r))return!1}return!0},Nl);function Nl(t,e){this.position=t,this.before=e}var Dl=(Ol.prototype.compare=function(t,e){var n=this.isKeyOrderBy?qs.compareByKey(t,e):qs.compareByField(this.field,t,e);switch(this.dir){case Al.ASCENDING:return n;case Al.DESCENDING:return-1*n;default:return jr("Unknown direction: "+this.dir)}},Ol.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},Ol.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},Ol.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},Ol);function Ol(t,e){this.field=t,void 0===e&&(e=Al.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}var Rl=new Dl(Ki.keyField(),Al.ASCENDING),xl=new Dl(Ki.keyField(),Al.DESCENDING),Pl=(Ll.prototype.applyToLocalView=function(t,e){return new bs(e,t)},Ll.prototype.applyToRemoteDocument=function(t,e){return e},Ll.prototype.computeBaseValue=function(t){return null},Ll.prototype.isEqual=function(t){return t instanceof Ll},Ll.instance=new Ll,Ll);function Ll(){}var Ml=(Ul.prototype.applyToLocalView=function(t,e){return this.apply(t)},Ul.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},Ul.prototype.apply=function(t){for(var e=Bl(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ps(e)},Ul.prototype.computeBaseValue=function(t){return null},Ul.prototype.isEqual=function(t){return t instanceof Ul&&Si(t.elements,this.elements)},Ul);function Ul(t){this.elements=t}var Fl=(ql.prototype.applyToLocalView=function(t,e){return this.apply(t)},ql.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},ql.prototype.apply=function(t){for(var e=Bl(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ps(e)},ql.prototype.computeBaseValue=function(t){return null},ql.prototype.isEqual=function(t){return t instanceof ql&&Si(t.elements,this.elements)},ql);function ql(t){this.elements=t}var Vl=(jl.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);if(n instanceof ss&&this.operand instanceof ss){var r=n.internalValue+this.operand.internalValue;return new ss(r)}return r=n.internalValue+this.operand.internalValue,new hs(r)},jl.prototype.applyToRemoteDocument=function(t,e){return Br(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},jl.prototype.computeBaseValue=function(t){return t instanceof rs?t:new ss(0)},jl.prototype.isEqual=function(t){return t instanceof jl&&this.operand.isEqual(t.operand)},jl);function jl(t){this.operand=t}function Bl(t){return t instanceof Ps?t.internalValue.slice():[]}var Wl=(Kl.prototype.isEqual=function(t){return t&&t.count===this.count},Kl);function Kl(t){this.count=t}var Gl,Ql,zl=((Gl={})[Al.ASCENDING.name]="ASCENDING",Gl[Al.DESCENDING.name]="DESCENDING",Gl),Hl=((Ql={})[al.LESS_THAN.name]="LESS_THAN",Ql[al.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Ql[al.GREATER_THAN.name]="GREATER_THAN",Ql[al.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Ql[al.EQUAL.name]="EQUAL",Ql[al.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Ql[al.IN.name]="IN",Ql[al.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Ql),$l=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yl(t,e){Br(!Jc(t),e+" is missing")}function Xl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):jr("can't parse "+t)}var Jl=(Zl.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},Zl.prototype.unsafeCastProtoByteString=function(t){return t},Zl.prototype.fromRpcStatus=function(t){var e=void 0===t.code?zr.UNKNOWN:Ah(t.code);return new Hr(e,t.message||"")},Zl.prototype.toInt32Value=function(t){return this.options.useProto3Json||Jc(t)?t:{value:t}},Zl.prototype.fromInt32Value=function(t){var e;return Jc(e="object"==typeof t?t.value:t)?null:e},Zl.prototype.toTimestamp=function(t){return this.options.useProto3Json?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},Zl.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);Br(!!t,"Cannot deserialize null or undefined timestamp.");var e=Xl(t.seconds||"0"),n=t.nanos||0;return new co(e,n)},Zl.prototype.fromIso8601String=function(t){var e=0,n=$l.exec(t);if(Br(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new co(o,e)},Zl.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},Zl.prototype.fromBlob=function(t){return"string"==typeof t?(Br(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Ci.fromBase64String(t)):(Br(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Ci.fromUint8Array(t))},Zl.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},Zl.prototype.fromVersion=function(t){return Br(!!t,"Trying to deserialize version that isn't set"),lo.fromTimestamp(this.fromTimestamp(t))},Zl.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},Zl.prototype.fromResourceName=function(t){var e=Vi.fromString(t);return Br(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},Zl.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},Zl.prototype.fromName=function(t){var e=this.fromResourceName(t);return Br(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),Br(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new Qi(this.extractLocalPathFromResourceName(e))},Zl.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},Zl.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?Vi.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(Zl.prototype,"encodedDatabaseId",{get:function(){return new Vi(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),Zl.prototype.fullyQualifiedPrefixPath=function(t){return new Vi(["projects",t.projectId,"databases",t.database])},Zl.prototype.extractLocalPathFromResourceName=function(t){return Br(4<t.length&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},Zl.prototype.isValidResourceName=function(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)},Zl.prototype.toValue=function(t){if(t instanceof Xa)return{nullValue:"NULL_VALUE"};if(t instanceof ts)return{booleanValue:t.value()};if(t instanceof ss)return{integerValue:""+t.value()};if(t instanceof hs){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof ps?{stringValue:t.value()}:t instanceof Os?{mapValue:this.toMapValue(t)}:t instanceof Ps?{arrayValue:this.toArrayValue(t)}:t instanceof ys?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof ks?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Ts?{bytesValue:this.toBytes(t.value())}:t instanceof Is?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:jr("Unknown FieldValue "+JSON.stringify(t))},Zl.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return Xa.INSTANCE;if("booleanValue"in t)return ts.of(t.booleanValue);if("integerValue"in t)return new ss(Xl(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return hs.NAN;if("Infinity"===t.doubleValue)return hs.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return hs.NEGATIVE_INFINITY}return new hs(t.doubleValue)}if("stringValue"in t)return new ps(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t){Yl(t.arrayValue,"arrayValue");var n=t.arrayValue.values||[];return new Ps(n.map((function(t){return e.fromValue(t)})))}if("timestampValue"in t)return Yl(t.timestampValue,"timestampValue"),new ys(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t){Yl(t.geoPointValue,"geoPointValue");var r=t.geoPointValue.latitude||0,i=t.geoPointValue.longitude||0;return new ks(new el(r,i))}if("bytesValue"in t){Yl(t.bytesValue,"bytesValue");var o=this.fromBlob(t.bytesValue);return new Ts(o)}if("referenceValue"in t){Yl(t.referenceValue,"referenceValue");var a=this.fromResourceName(t.referenceValue),s=new Ri(a.get(1),a.get(3)),u=new Qi(this.extractLocalPathFromResourceName(a));return new Is(s,u)}return jr("Unknown Value proto "+JSON.stringify(t))},Zl.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},Zl.prototype.toDocument=function(t){return Br(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},Zl.prototype.fromDocument=function(t,e){var n=this,r=this.fromName(t.name),i=this.fromVersion(t.updateTime);return new qs(r,i,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.fromValue(t)}))},Zl.prototype.toFields=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.toValue(r)})),n},Zl.prototype.fromFields=function(t){var e=this,n=t,r=Os.EMPTY;return ti(n,(function(t,n){r=r.set(new Ki([t]),e.fromValue(n))})),r},Zl.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},Zl.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.toValue(t))})),{values:n}},Zl.prototype.fromFound=function(t){var e=this;Br(!!t.found,"Tried to deserialize a found document from a missing document."),Yl(t.found.name,"doc.found.name"),Yl(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime);return new qs(n,r,{},void 0,t.found,(function(t){return e.fromValue(t)}))},Zl.prototype.fromMissing=function(t){Br(!!t.missing,"Tried to deserialize a missing document from a found document."),Br(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new Bs(e,n)},Zl.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):jr("invalid batch get response: "+JSON.stringify(t))},Zl.prototype.toWatchTargetChangeState=function(t){switch(t){case jh.Added:return"ADD";case jh.Current:return"CURRENT";case jh.NoChange:return"NO_CHANGE";case jh.Removed:return"REMOVE";case jh.Reset:return"RESET";default:return jr("Unknown WatchTargetChangeState: "+t)}},Zl.prototype.toTestWatchChange=function(t){if(t instanceof Kh)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Wh){if(t.newDoc instanceof qs){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof Bs)return e=t.newDoc,{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Gh){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return Eh.OK;switch(t){case zr.OK:return Eh.OK;case zr.CANCELLED:return Eh.CANCELLED;case zr.UNKNOWN:return Eh.UNKNOWN;case zr.DEADLINE_EXCEEDED:return Eh.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return Eh.RESOURCE_EXHAUSTED;case zr.INTERNAL:return Eh.INTERNAL;case zr.UNAVAILABLE:return Eh.UNAVAILABLE;case zr.UNAUTHENTICATED:return Eh.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return Eh.INVALID_ARGUMENT;case zr.NOT_FOUND:return Eh.NOT_FOUND;case zr.ALREADY_EXISTS:return Eh.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return Eh.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return Eh.FAILED_PRECONDITION;case zr.ABORTED:return Eh.ABORTED;case zr.OUT_OF_RANGE:return Eh.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return Eh.UNIMPLEMENTED;case zr.DATA_LOSS:return Eh.DATA_LOSS;default:return jr("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return jr("Unrecognized watch change: "+JSON.stringify(t))},Zl.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){Yl(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Gh(r,i,o,s||null)}else if("documentChange"in t){Yl(t.documentChange,"documentChange"),Yl(t.documentChange.document,"documentChange.name"),Yl(t.documentChange.document.name,"documentChange.document.name"),Yl(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),h=this.fromVersion(u.document.updateTime),l=new qs(c,h,{},void 0,u.document,(function(t){return n.fromValue(t)})),f=u.targetIds||[],p=u.removedTargetIds||[];e=new Wh(f,p,l.key,l)}else if("documentDelete"in t){Yl(t.documentDelete,"documentDelete"),Yl(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;c=this.fromName(d.document),h=d.readTime?this.fromVersion(d.readTime):lo.forDeletedDoc(),l=new Bs(c,h),p=d.removedTargetIds||[],e=new Wh([],p,l.key,l)}else if("documentRemove"in t){Yl(t.documentRemove,"documentRemove"),Yl(t.documentRemove.document,"documentRemove");var m=t.documentRemove;c=this.fromName(m.document),p=m.removedTargetIds||[],e=new Wh([],p,c,null)}else{if(!("filter"in t))return jr("Unknown change type "+JSON.stringify(t));Yl(t.filter,"filter"),Yl(t.filter.targetId,"filter.targetId");var y=t.filter,v=y.count||0,g=new Wl(v),b=y.targetId;e=new Kh(b,g)}return e},Zl.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?jh.NoChange:"ADD"===t?jh.Added:"REMOVE"===t?jh.Removed:"CURRENT"===t?jh.Current:"RESET"===t?jh.Reset:jr("Got unexpected TargetChange.state: "+t)},Zl.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return lo.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?lo.MIN:e.readTime?this.fromVersion(e.readTime):lo.MIN},Zl.prototype.toMutation=function(t){var e,n=this;if(t instanceof Oa)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Ka)e={delete:this.toName(t.key)};else if(t instanceof Pa)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Ua))return jr("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.toFieldTransform(t)}))}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},Zl.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Aa.NONE;if(t.update){Yl(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new Pa(r,i,o,n)}return new Oa(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new Ka(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map((function(t){return e.fromFieldTransform(t)}));return Br(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ua(r,a)}return jr("unknown mutation proto: "+JSON.stringify(t))},Zl.prototype.toPrecondition=function(t){return Br(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jr("Unknown precondition")},Zl.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Aa.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Aa.exists(t.exists):Aa.NONE},Zl.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);r.isEqual(lo.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&0<t.transformResults.length&&(i=t.transformResults.map((function(t){return n.fromValue(t)}))),new Ia(r,i)},Zl.prototype.fromWriteResults=function(t,e){var n=this;return t&&0<t.length?(Br(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.fromWriteResult(t,e)}))):[]},Zl.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof Pl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ml)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof Fl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof Vl)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw jr("Unknown transform: "+t.transform)},Zl.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)Br("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=Pl.instance;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ml(r.map((function(t){return e.fromValue(t)})))}else if("removeAllFromArray"in t)r=t.removeAllFromArray.values||[],n=new Fl(r.map((function(t){return e.fromValue(t)})));else if("increment"in t){var i=this.fromValue(t.increment);Br(i instanceof rs,"NUMERIC_ADD transform requires a NumberValue"),n=new Vl(i)}else jr("Unknown transform proto: "+JSON.stringify(t));var o=Ki.fromServerFormat(t.fieldPath);return new Ea(o,n)},Zl.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},Zl.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;Br(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return rl.atPath(this.fromQueryPath(n))},Zl.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(Br(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(Br(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},Zl.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){Br(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var h=null;return n.endAt&&(h=this.fromCursor(n.endAt)),new rl(e,i,s,a,u,c,h)},Zl.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},Zl.prototype.toLabel=function(t){switch(t){case Fu.Listen:return null;case Fu.ExistenceFilterMismatch:return"existence-filter-mismatch";case Fu.LimboResolution:return"limbo-document";default:return jr("Unrecognized query purpose: "+t)}},Zl.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,0<t.resumeToken.length&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},Zl.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof cl?e.toUnaryOrFieldFilter(t):jr("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},Zl.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.fromFilter(t)})).reduce((function(t,e){return t.concat(e)})):jr("Unknown filter: "+JSON.stringify(t)):[]},Zl.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.toPropertyOrder(t)}))},Zl.prototype.fromOrder=function(t){var e=this;return t.map((function(t){return e.fromPropertyOrder(t)}))},Zl.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.toValue(t)}))}},Zl.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.fromValue(t)}));return new kl(r,n)},Zl.prototype.toDirection=function(t){return zl[t.name]},Zl.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Al.ASCENDING;case"DESCENDING":return Al.DESCENDING;default:return}},Zl.prototype.toOperatorName=function(t){return Hl[t.name]},Zl.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return al.EQUAL;case"GREATER_THAN":return al.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return al.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return al.LESS_THAN;case"LESS_THAN_OR_EQUAL":return al.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return al.ARRAY_CONTAINS;case"IN":return al.IN;case"ARRAY_CONTAINS_ANY":return al.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return jr("Unspecified operator");default:return jr("Unknown operator")}},Zl.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},Zl.prototype.fromFieldPathReference=function(t){return Ki.fromServerFormat(t.fieldPath)},Zl.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},Zl.prototype.fromPropertyOrder=function(t){return new Dl(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},Zl.prototype.fromFieldFilter=function(t){return cl.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},Zl.prototype.toUnaryOrFieldFilter=function(t){if(t.op===al.EQUAL){if(t.value.isEqual(hs.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(Xa.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},Zl.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return cl.create(e,al.EQUAL,hs.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return cl.create(n,al.EQUAL,Xa.INSTANCE);case"OPERATOR_UNSPECIFIED":return jr("Unspecified filter");default:return jr("Unknown filter")}},Zl.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}},Zl.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map((function(t){return Ki.fromServerFormat(t)}));return ba.fromArray(e)},Zl);function Zl(t,e){this.databaseId=t,this.options=e}var tf=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},ef=(nf.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new tf,this.queries.set(e,r)),r.listeners.push(t),Br(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),!r.viewSnap||t.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(e).then((function(t){return r.targetId=t})):Promise.resolve(r.targetId)},nf.prototype.unlisten=function(t){return u(this,void 0,void 0,(function(){var e,n,r,i;return c(this,(function(o){return e=t.query,n=!1,(r=this.queries.get(e))&&0<=(i=r.listeners.indexOf(t))&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]}))}))},nf.prototype.onWatchChange=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].onViewSnapshot(i)&&(e=!0);a.viewSnap=i}}e&&this.raiseSnapshotsInSyncEvent()},nf.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},nf.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(t)&&(e=!0)})),e&&this.raiseSnapshotsInSyncEvent()},nf.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},nf.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},nf.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(t){t.next()}))},nf);function nf(t){this.syncEngine=t,this.queries=new zs((function(t){return t.canonicalId()})),this.onlineState=mh.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}var rf=(of.prototype.onViewSnapshot=function(t){if(Br(0<t.docChanges.length||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Ch.Metadata&&e.push(i)}t=new Lh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),o=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),o=!0),this.snap=t,o},of.prototype.onError=function(t){this.queryObserver.error(t)},of.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},of.prototype.shouldRaiseInitialEvent=function(t,e){if(Br(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==mh.Offline;return this.options.waitForSyncWhenOnline&&n?(Br(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===mh.Offline},of.prototype.shouldRaiseEvent=function(t){if(0<t.docChanges.length)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},of.prototype.raiseInitialEvent=function(t){Br(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Lh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},of);function of(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=mh.Unknown,this.options=n||{}}var af=(sf.fromSnapshot=function(t,e){for(var n=Po(),r=Po(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case Ch.Added:n=n.add(a.doc.key);break;case Ch.Removed:r=r.add(a.doc.key)}}return new sf(t,e.fromCache,n,r)},sf);function sf(t,e,n,r){this.targetId=t,this.fromCache=e,this.addedKeys=n,this.removedKeys=r}var uf=function(t){this.key=t},cf=function(t){this.key=t},hf=(Object.defineProperty(lf.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),lf.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new xh,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal((function(t,e){var c=i.get(t),h=e instanceof qs?e:null;h&&(Br(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var l=!!c&&n.mutatedKeys.has(c.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?l!==f&&(r.track({type:Ch.Metadata,doc:h}),p=!0):n.shouldWaitForSyncedDocument(c,h)||(r.track({type:Ch.Modified,doc:h}),p=!0,u&&0<n.query.docComparator(h,u)&&(s=!0)):!c&&h?(r.track({type:Ch.Added,doc:h}),p=!0):c&&!h&&(r.track({type:Ch.Removed,doc:c}),p=!0,u&&(s=!0)),p&&(o=h?(a=a.add(h),f?o.add(t):o.delete(t)):(a=a.delete(t),o.delete(t)))})),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Ch.Removed,doc:c})}return Br(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},lf.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},lf.prototype.applyChanges=function(t,e,n){var r=this;Br(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort((function(t,e){return function(t,e){function n(t){switch(t){case Ch.Added:return 1;case Ch.Modified:case Ch.Metadata:return 2;case Ch.Removed:return 0;default:return jr("Unknown ChangeType: "+t)}}return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)})),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Nh.Synced:Nh.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Lh(this.query,t.documentSet,i,o,t.mutatedKeys,s===Nh.Local,u,!1),limboChanges:a}:{limboChanges:a}},lf.prototype.applyOnlineStateChange=function(t){return this.current&&t===mh.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new xh,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},lf.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},lf.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.add(t)})),t.modifiedDocuments.forEach((function(t){return Br(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")})),t.removedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)})),this.current=t.current)},lf.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Po(),this.documentSet.forEach((function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))}));var n=[];return e.forEach((function(e){t.limboDocuments.has(e)||n.push(new cf(e))})),this.limboDocuments.forEach((function(t){e.has(t)||n.push(new uf(t))})),n},lf.prototype.synchronizeWithPersistedState=function(t){this._syncedDocuments=t.remoteKeys,this.limboDocuments=Po();var e=this.computeDocChanges(t.documents);return this.applyChanges(e,!0)},lf.prototype.computeInitialSnapshot=function(){return Lh.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Nh.Local)},lf);function lf(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Po(),this.mutatedKeys=Po(),this.documentSet=new Oh(t.docComparator.bind(t))}var ff=(pf.prototype.run=function(){this.runWithBackOff()},pf.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun((function(){return u(t,void 0,void 0,(function(){var t,e,n=this;return c(this,(function(r){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.handleTransactionError(t)}))}))})).catch((function(t){n.handleTransactionError(t)})),[2]}))}))}))},pf.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!Jc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},pf.prototype.handleTransactionError=function(t){var e=this;0<this.retries&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return e.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(t)},pf.prototype.isRetryableTransactionError=function(t){if("FirebaseError"!==t.name)return!1;var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ih(e)},pf);function pf(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=5,this.backoff=new th(this.asyncQueue,Hi.RetryTransaction)}var df="SyncEngine",mf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yf=function(t){this.key=t,this.receivedDocument=!1},vf=(Object.defineProperty(gf.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),gf.prototype.subscribe=function(t){Br(null!==t,"SyncEngine listener cannot be null"),Br(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},gf.prototype.listen=function(t){return u(this,void 0,void 0,(function(){var e,n,r,i,o;return c(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}}))}))},gf.prototype.initializeViewAndComputeSnapshot=function(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return c(this,(function(c){switch(c.label){case 0:return n=t.query,[4,this.localStore.executeQuery(n,!0)];case 1:return r=c.sent(),i=new hf(n,r.remoteKeys),o=i.computeDocChanges(r.documents),a=qh.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&this.onlineState!==mh.Offline),Br(0===(s=i.applyChanges(o,!0===this.isPrimary,a)).limboChanges.length,"View returned limbo docs before target ack from the server."),Br(!!s.snapshot,"applyChanges for new view should always return a snapshot"),u=new mf(n,t.targetId,i),this.queryViewsByQuery.set(n,u),this.queryViewsByTarget[t.targetId]=u,[2,s.snapshot]}}))}))},gf.prototype.synchronizeViewAndComputeSnapshot=function(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(t.query,!0)];case 1:return e=r.sent(),n=t.view.synchronizeWithPersistedState(e),this.isPrimary&&this.updateTrackedLimbos(t.targetId,n.limboChanges),[2,n]}}))}))},gf.prototype.unlisten=function(t){return u(this,void 0,void 0,(function(){var e,n=this;return c(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),Br(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then((function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)})).catch(dc)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},gf.prototype.write=function(t,e){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},gf.prototype.runTransaction=function(t,e,n){new ff(t,this.remoteStore,e,n).run()},gf.prototype.applyRemoteEvent=function(t){return u(this,void 0,void 0,(function(){var e,n=this;return c(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=r.sent(),ti(t.targetChanges,(function(t,e){var r=n.limboResolutionsByTarget[Number(t)];r&&(Br(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<e.addedDocuments.size?r.receivedDocument=!0:0<e.modifiedDocuments.size?Br(r.receivedDocument,"Received change for limbo target document without add."):0<e.removedDocuments.size&&(Br(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,dc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},gf.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===vh.RemoteStore||!this.isPrimary&&e===vh.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(e,r){var i=r.view.applyOnlineStateChange(t);Br(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},gf.prototype.rejectListen=function(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return c(this,(function(c){switch(c.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new po(Qi.comparator)).insert(r,new Bs(r,lo.forDeletedDoc())),o=Po().add(r),a=new Uh(lo.MIN,{},new To(Ti),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return Br(!!(s=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(s.query,!1).then((function(){return u.removeAndCleanupQuery(s)})).catch(dc)];case 2:c.sent(),this.syncEngineListener.onWatchError(s.query,e),c.label=3;case 3:return[2]}}))}))},gf.prototype.applyBatchState=function(t,e,n){return u(this,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(Fr(df,"Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):jr("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},gf.prototype.applySuccessfulWrite=function(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),e=t.batch.batchId,this.processUserCallback(e,null),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,dc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},gf.prototype.rejectFailedWrite=function(t,e){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,dc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},gf.prototype.registerPendingWritesCallback=function(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||Fr(df,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=r.sent())?t.resolve():((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n)),[2]}}))}))},gf.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach((function(t){t.resolve()})),this.pendingWritesCallbacks.delete(t)},gf.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach((function(e){e.forEach((function(e){e.reject(new Hr(zr.CANCELLED,t))}))})),this.pendingWritesCallbacks.clear()},gf.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n=(n=n||new po(Ti)).insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},gf.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(Br(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},gf.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach((function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)}))}},gf.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},gf.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof uf?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof cf?(Fr(df,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):jr("Unknown limbo change: "+JSON.stringify(i))}},gf.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){Fr(df,"New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=rl.atPath(e.path);this.limboResolutionsByTarget[n]=new yf(e),this.remoteStore.listen(new Ku(r,n,Fu.LimboResolution,Pi.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},gf.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},gf.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o=this;return c(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(a,s){i.push(Promise.resolve().then((function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query,!1).then((function(t){var n=t.documents;return s.view.computeDocChanges(n,e)})):e})).then((function(t){var i=e&&e.targetChanges[s.targetId],a=s.view.applyChanges(t,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=af.fromSnapshot(s.targetId,a.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}}))}))},gf.prototype.assertSubscribed=function(t){Br(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},gf.prototype.handleCredentialChange=function(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},gf.prototype.applyPrimaryState=function(t){return u(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u=this;return c(this,(function(c){switch(c.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return c.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=c.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),Zr(this.queryViewsByTarget,(function(t,e){u.sharedClientState.isLocalQueryTarget(t)?a.push(t):s=s.then((function(){return u.unlisten(e.query)})),u.remoteStore.unlisten(e.targetId)})),[4,s]);case 4:return c.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return c.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))},gf.prototype.resetLimboDocuments=function(){var t=this;Zr(this.limboResolutionsByTarget,(function(e){t.remoteStore.unlisten(e)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new po(Qi.comparator)},gf.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return u(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,h;return c(this,(function(c){switch(c.label){case 0:e=[],n=[],r=0,i=t,c.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(s=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(s.query,!0)]:[3,5]):[3,11];case 2:return c.sent(),[4,this.localStore.allocateQuery(s.query)];case 3:return a=c.sent(),[4,this.synchronizeViewAndComputeSnapshot(s)];case 4:return(u=c.sent()).snapshot&&n.push(u.snapshot),[3,9];case 5:return Br(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return Br(!!(h=c.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(h)];case 7:return a=c.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:c.sent(),c.label=9;case 9:e.push(a),c.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,e]}}))}))},gf.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},gf.prototype.applyTargetState=function(t,e,n){return u(this,void 0,void 0,(function(){var r,i,o;return c(this,(function(a){switch(a.label){case 0:if(this.isPrimary)return Fr(df,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=a.sent(),i=Uh.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return a.sent(),[3,7];case 4:return o=this.queryViewsByTarget[t],this.removeAndCleanupQuery(o),[4,this.localStore.releaseQuery(o.query,!0)];case 5:return a.sent(),this.syncEngineListener.onWatchError(o.query,n),[3,7];case 6:jr("Unexpected target state: "+e),a.label=7;case 7:return[2]}}))}))},gf.prototype.applyActiveTargetsChange=function(t,e){return u(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,h,l,f=this;return c(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(l=r[n],Br(!this.queryViewsByTarget[l],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(l)]):[3,6];case 2:return Br(!!(i=p.sent()),"Query data for active target "+l+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:a=function(t){var e;return c(this,(function(n){switch(n.label){case 0:return(e=s.queryViewsByTarget[t])?[4,s.localStore.releaseQuery(e.query,!1).then((function(){f.remoteStore.unlisten(t),f.removeAndCleanupQuery(e)})).catch(dc)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},s=this,u=0,h=e,p.label=7;case 7:return u<h.length?(l=h[u],[5,a(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},gf.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},gf.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},gf.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Po().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Po()},gf);function gf(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new zs((function(t){return t.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new po(Qi.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Tc,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=la.forSyncEngine(),this.isPrimary=void 0,this.onlineState=mh.Unknown}var bf=(wf.prototype.isAuthenticated=function(){return null!=this.uid},wf.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},wf.prototype.isEqual=function(t){return t.uid===this.uid},wf.UNAUTHENTICATED=new wf(null),wf.GOOGLE_CREDENTIALS=new wf("google-credentials-uid"),wf.FIRST_PARTY=new wf("first-party-uid"),wf);function wf(t){this.uid=t}var Ef="SharedClientState",Tf="firestore_clients",Sf="firestore_mutations",_f="firestore_targets",If=(Af.fromWebStorageEntry=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Hr(r.error.code,r.error.message)),i?new Af(t,e,r.state,o):(qr(Ef,"Failed to parse mutation state for ID '"+e+"': "+n),null)},Af.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Af);function Af(t,e,n,r){this.user=t,this.batchId=e,this.state=n,Br(void 0!==(this.error=r)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}var Cf=(kf.fromWebStorageEntry=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Hr(n.error.code,n.error.message)),r?new kf(t,n.state,i):(qr(Ef,"Failed to parse target state for ID '"+t+"': "+e),null)},kf.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},kf);function kf(t,e,n){this.targetId=t,this.state=e,Br(void 0!==(this.error=n)==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}var Nf=(Df.fromWebStorageEntry=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Mo(),o=0;r&&o<n.activeTargetIds.length;++o)r=Zc(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Df(t,i):(qr(Ef,"Failed to parse client data for instance '"+t+"': "+e),null)},Df);function Df(t,e){this.clientId=t,this.activeTargetIds=e}var Of=(Rf.fromWebStorageEntry=function(t){var e=JSON.parse(t);return"object"==typeof e&&e.onlineState in mh&&"string"==typeof e.clientId?new Rf(e.clientId,mh[e.onlineState]):(qr(Ef,"Failed to parse online state: "+t),null)},Rf);function Rf(t,e){this.clientId=t,this.onlineState=e}var xf=(Pf.prototype.addQueryTarget=function(t){Br(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},Pf.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},Pf.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},Pf);function Pf(){this.activeTargetIds=Mo()}var Lf=(Mf.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},Mf.prototype.start=function(){return u(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,h,l,f=this;return c(this,(function(c){switch(c.label){case 0:return Br(!this.started,"WebStorageSharedClientState already started"),Br(null!==this.syncEngine,"syncEngine property must be set before calling start()"),Br(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=c.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Nf.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,h=this.earlyEvents;u<h.length;u++)l=h[u],this.handleWebStorageEvent(l);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},Mf.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},Mf.prototype.getAllActiveQueryTargets=function(){var t=Mo();return ti(this.activeClients,(function(e,n){t=t.unionWith(n.activeTargetIds)})),t},Mf.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},Mf.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},Mf.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},Mf.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Cf.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},Mf.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},Mf.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},Mf.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},Mf.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},Mf.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.removeMutationState(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},Mf.prototype.setOnlineState=function(t){this.persistOnlineState(t)},Mf.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},Mf.prototype.getItem=function(t){var e=this.storage.getItem(t);return Fr(Ef,"READ",t,e),e},Mf.prototype.setItem=function(t,e){Fr(Ef,"SET",t,e),this.storage.setItem(t,e)},Mf.prototype.removeItem=function(t){Fr(Ef,"REMOVE",t),this.storage.removeItem(t)},Mf.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(Fr(Ef,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return u(e,void 0,void 0,(function(){var e,n,r,i,o,a;return c(this,(function(s){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(Br(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=Pi.INVALID;if(null!=t)try{var n=JSON.parse(t);Br("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){qr(Ef,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Pi.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(Mf.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),Mf.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},Mf.prototype.persistMutationState=function(t,e,n){var r=new If(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},Mf.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},Mf.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:mh[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},Mf.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Cf(t,e,n);this.setItem(r,i.toWebStorageJSON())},Mf.prototype.toWebStorageClientStateKey=function(t){return Br(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Tf+"_"+this.persistenceKey+"_"+t},Mf.prototype.toWebStorageQueryTargetMetadataKey=function(t){return _f+"_"+this.persistenceKey+"_"+t},Mf.prototype.toWebStorageMutationBatchKey=function(t){var e=Sf+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},Mf.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},Mf.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return Br(null!==n,"Cannot parse client state key '"+t+"'"),Nf.fromWebStorageEntry(n,e)},Mf.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);Br(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return If.fromWebStorageEntry(new bf(i),r,e)},Mf.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);Br(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Cf.fromWebStorageEntry(r,e)},Mf.prototype.fromWebStorageOnlineState=function(t){return Of.fromWebStorageEntry(t)},Mf.prototype.handleMutationBatchEvent=function(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return t.user.uid!==this.currentUser.uid?(Fr(Ef,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]}))}))},Mf.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},Mf.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach((function(t){return u(n,void 0,void 0,(function(){return c(this,(function(e){return r.has(t)||o.push(t),[2]}))}))})),r.forEach((function(t){return u(n,void 0,void 0,(function(){return c(this,(function(e){return i.has(t)||a.push(t),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,a)},Mf.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},Mf);function Mf(t,e,n,r,i){if(this.queue=t,this.platform=e,this.persistenceKey=n,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!Mf.isAvailable(this.platform))throw new Hr(zr.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+n,this.activeClients[this.localClientId]=new xf,this.clientStateKeyRe=new RegExp("^"+Tf+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Sf+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+_f+"_"+o+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+n,this.platform.window.addEventListener("storage",this.storageListener)}var Uf=(Ff.prototype.addPendingMutation=function(t){},Ff.prototype.updateMutationState=function(t,e,n){},Ff.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},Ff.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},Ff.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},Ff.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},Ff.prototype.clearQueryState=function(t){delete this.queryState[t]},Ff.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},Ff.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},Ff.prototype.start=function(){return this.localState=new xf,Promise.resolve()},Ff.prototype.handleUserChange=function(t,e,n){},Ff.prototype.setOnlineState=function(t){},Ff.prototype.shutdown=function(){},Ff.prototype.writeSequenceNumber=function(t){},Ff);function Ff(){this.localState=new xf,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}var qf="FirestoreClient",Vf=(jf.prototype.lruParams=function(){return Ju.withCacheSize(this.cacheSizeBytes)},jf);function jf(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}var Bf=function(){},Wf=(Kf.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new Yi,r=new Yi,i=!1;return this.credentials.setChangeListener((function(o){i?e.asyncQueue.enqueueAndForget((function(){return e.handleCredentialChange(o)})):(i=!0,e.initializePersistence(t,r,o).then((function(t){return e.initializeRest(o,t)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},Kf.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.syncEngine.enableNetwork()}))},Kf.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Vf?this.startIndexedDbPersistence(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()})):(e.resolve(),this.startMemoryPersistence())},Kf.prototype.canFallback=function(t){return t instanceof Hr?t.code===zr.FAILED_PRECONDITION||t.code===zr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},Kf.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Hr(zr.FAILED_PRECONDITION,"The client has already been terminated.")},Kf.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=fc.buildStoragePrefix(this.databaseInfo),i=new Jl(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return u(n,void 0,void 0,(function(){var n,o;return c(this,(function(a){switch(a.label){case 0:if(e.synchronizeTabs&&!Lf.isAvailable(this.platform))throw new Hr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new Lf(this.asyncQueue,this.platform,r,this.clientId,t):new Uf,[4,fc.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),[2,(this.persistence=o).referenceDelegate.garbageCollector]}}))}))}))},Kf.prototype.startMemoryPersistence=function(){return this.persistence=Uc.createEagerPersistence(this.clientId),this.sharedClientState=new Uf,Promise.resolve(null)},Kf.prototype.initializeRest=function(t,e){var n=this;return Fr(qf,"Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return u(n,void 0,void 0,(function(){var n,i,o,a,s,h,l=this;return c(this,(function(f){switch(f.label){case 0:return n=new Qc,this.localStore=new Cc(this.persistence,n,t),[4,this.localStore.start()];case 1:return f.sent(),e&&(this.lruScheduler=new tc(e,this.asyncQueue,this.localStore)),i=this.platform.newConnectivityMonitor(),o=this.platform.newSerializer(this.databaseInfo.databaseId),a=new ph(this.asyncQueue,r,this.credentials,o),s=function(t){return l.syncEngine.applyOnlineStateChange(t,vh.RemoteStore)},h=function(t){return l.syncEngine.applyOnlineStateChange(t,vh.SharedClientState)},this.remoteStore=new Zh(this.localStore,a,this.asyncQueue,s,i),this.syncEngine=new vf(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=h,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new ef(this.syncEngine),[4,this.sharedClientState.start()];case 2:return f.sent(),[4,this.remoteStore.start()];case 3:return f.sent(),[4,this.persistence.setPrimaryStateListener((function(t){return u(l,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return f.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return u(l,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return f.sent(),[2]}}))}))}))},Kf.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),Fr(qf,"Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},Kf.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.syncEngine.disableNetwork()}))},Kf.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return u(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},Kf.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new Yi;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.registerPendingWritesCallback(e)})),e.promise},Kf.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var i=new rf(t,e,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},Kf.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.unlisten(t)}))},Kf.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.localStore.readDocument(t)})).then((function(t){if(t instanceof qs)return t;if(t instanceof Bs)return null;throw new Hr(zr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},Kf.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return u(e,void 0,void 0,(function(){var e,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return e=i.sent(),n=new hf(t,e.remoteKeys),r=n.computeDocChanges(e.documents),[2,n.applyChanges(r,!1).snapshot]}}))}))}))},Kf.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new Yi;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.write(t,n)})),n.promise},Kf.prototype.databaseId=function(){return this.databaseInfo.databaseId},Kf.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()}))},Kf.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(Kf.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),Kf.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new Yi;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()})),n.promise},Kf);function Kf(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=wi.newId()}var Gf=(Qf.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},Qf.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},Qf.prototype.mute=function(){this.muted=!0},Qf.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},Qf);function Qf(t){this.observer=t,this.muted=!1}var zf=(Hf.documentId=function(){return Hf._DOCUMENT_ID},Hf.prototype.isEqual=function(t){if(!(t instanceof Hf))throw vi("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},Hf._DOCUMENT_ID=new Hf(Ki.keyField().canonicalString()),Hf);function Hf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+bi(r,"element")+".")}("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(ai("FieldPath","string",n,t[n]),0===t[n].length)throw new Hr(zr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(t)}var $f=new RegExp("[~\\*/\\[\\]]"),Yf=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}},Xf=(Jf.prototype.getToken=function(){return Promise.resolve(null)},Jf.prototype.invalidateToken=function(){},Jf.prototype.setChangeListener=function(t){Br(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=t)(bf.UNAUTHENTICATED)},Jf.prototype.removeChangeListener=function(){Br(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},Jf);function Jf(){this.changeListener=null}var Zf=(tp.prototype.getToken=function(){var t=this;Br(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(t.tokenCounter!==e)throw new Hr(zr.ABORTED,"getToken aborted due to token change.");return n?(Br("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Yf(n.accessToken,t.currentUser)):null}))},tp.prototype.invalidateToken=function(){this.forceRefresh=!0},tp.prototype.setChangeListener=function(t){Br(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=t)(this.currentUser)},tp.prototype.removeChangeListener=function(){Br(null!=this.tokenListener,"removeChangeListener() called twice"),Br(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},tp.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return Br(null===t||"string"==typeof t,"Received invalid UID: "+t),new bf(t)},tp);function tp(t){var e=this;this.app=t,this.tokenListener=null,this.currentUser=bf.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}var ep=(Object.defineProperty(np.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),np);function np(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=bf.FIRST_PARTY}var rp=(ip.prototype.getToken=function(){return Promise.resolve(new ep(this.gapi,this.sessionIndex))},ip.prototype.setChangeListener=function(t){t(bf.FIRST_PARTY)},ip.prototype.removeChangeListener=function(){},ip.prototype.invalidateToken=function(){},ip);function ip(t,e){this.gapi=t,this.sessionIndex=e}function op(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t,["next","error","complete"])}var ap=(sp.delete=function(){return ni("FieldValue.delete",arguments),cp.instance},sp.serverTimestamp=function(){return ni("FieldValue.serverTimestamp",arguments),fp.instance},sp.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ii("FieldValue.arrayUnion",arguments,1),new mp(t)},sp.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ii("FieldValue.arrayRemove",arguments,1),new gp(t)},sp.increment=function(t){return ai("FieldValue.increment","number",1,t),ri("FieldValue.increment",arguments,1),new Ep(t)},sp.prototype.isEqual=function(t){return this===t},sp);function sp(t){this._methodName=t}var up,cp=(i(hp,up=ap),hp.instance=new hp,hp);function hp(){return up.call(this,"FieldValue.delete")||this}var lp,fp=(i(pp,lp=ap),pp.instance=new pp,pp);function pp(){return lp.call(this,"FieldValue.serverTimestamp")||this}var dp,mp=(i(yp,dp=ap),yp);function yp(t){var e=dp.call(this,"FieldValue.arrayUnion")||this;return e._elements=t,e}var vp,gp=(i(bp,vp=ap),bp);function bp(t){var e=vp.call(this,"FieldValue.arrayRemove")||this;return e._elements=t,e}var wp,Ep=(i(Tp,wp=ap),Tp);function Tp(t){var e=wp.call(this,"FieldValue.increment")||this;return e._operand=t,e}var Sp=Yr(ap,"Use FieldValue.<field>() instead."),_p=/^__.*__$/,Ip=(Ap.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new Pa(t,this.data,this.fieldMask,e)):n.push(new Oa(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new Ua(t,this.fieldTransforms)),n},Ap);function Ap(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}var Cp,kp,Np=(Dp.prototype.toMutations=function(t,e){var n=[new Pa(t,this.data,this.fieldMask,e)];return 0<this.fieldTransforms.length&&n.push(new Ua(t,this.fieldTransforms)),n},Dp);function Dp(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Op(t){switch(t){case Cp.Set:case Cp.MergeSet:case Cp.Update:return!0;case Cp.Argument:return!1;default:throw jr("Unexpected case for UserDataSource: "+t)}}(kp=Cp=Cp||{})[kp.Set=0]="Set",kp[kp.Update=1]="Update",kp[kp.MergeSet=2]="MergeSet",kp[kp.Argument=3]="Argument";var Rp=(xp.prototype.childContextForField=function(t){var e=null==this.path?null:this.path.child(t),n=new xp(this.dataSource,this.methodName,e,!1,this.fieldTransforms,this.fieldMask);return n.validatePathSegment(t),n},xp.prototype.childContextForFieldPath=function(t){var e=null==this.path?null:this.path.child(t),n=new xp(this.dataSource,this.methodName,e,!1,this.fieldTransforms,this.fieldMask);return n.validatePath(),n},xp.prototype.childContextForArray=function(t){return new xp(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},xp.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Hr(zr.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},xp.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},xp.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},xp.prototype.validatePathSegment=function(t){if(Op(this.dataSource)&&_p.test(t))throw this.createError("Document fields cannot begin and end with __")},xp);function xp(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}var Pp=function(t,e){this.databaseId=t,this.key=e},Lp=(Mp.prototype.parseSetData=function(t,e){var n=new Rp(Cp.Set,t,Ki.EMPTY_PATH);Fp("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new Ip(r,null,n.fieldTransforms)},Mp.prototype.parseMergeData=function(t,e,n){var r=new Rp(Cp.MergeSet,t,Ki.EMPTY_PATH);Fp("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=new To(Ki.comparator),u=0,c=n;u<c.length;u++){var h=c[u],l=void 0;if(h instanceof zf)l=h._internalPath;else{if("string"!=typeof h)throw jr("Expected stringOrFieldPath to be a string or a FieldPath");l=Vp(t,h)}if(!r.contains(l))throw new Hr(zr.INVALID_ARGUMENT,"Field '"+l+"' is specified in your field mask but missing from your input data.");s=s.add(l)}i=ba.fromSet(s),o=r.fieldTransforms.filter((function(t){return i.covers(t.field)}))}else i=ba.fromArray(r.fieldMask),o=r.fieldTransforms;return new Ip(a,i,o)},Mp.prototype.parseUpdateData=function(t,e){var n=this,r=new Rp(Cp.Update,t,Ki.EMPTY_PATH);Fp("Data must be an object, but it was:",r,e);var i=new To(Ki.comparator),o=Os.EMPTY;ti(e,(function(e,a){var s=Vp(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof cp)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}}));var a=ba.fromSet(i);return new Np(o,a,r.fieldTransforms)},Mp.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new Rp(Cp.Update,t,Ki.EMPTY_PATH),o=[qp(t,e)],a=[n];if(r.length%2!=0)throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(qp(t,r[s])),a.push(r[s+1]);var u=new To(Ki.comparator),c=Os.EMPTY;for(s=0;s<o.length;++s){var h=o[s],l=i.childContextForFieldPath(h),f=this.runPreConverter(a[s],l);if(f instanceof cp)u=u.add(h);else{var p=this.parseData(f,l);null!=p&&(u=u.add(h),c=c.set(h,p))}}var d=ba.fromSet(u);return new Np(c,d,i.fieldTransforms)},Mp.prototype.parseQueryValue=function(t,e){var n=new Rp(Cp.Argument,t,Ki.EMPTY_PATH),r=this.parseData(e,n);return Br(null!=r,"Parsed data should not be null."),Br(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},Mp.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=jp(t);throw e.createError(n)}},Mp.prototype.parseData=function(t,e){if(Up(t=this.runPreConverter(t,e)))return Fp("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof ap)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},Mp.prototype.parseObject=function(t,e){var n=this,r=new po(Ti);return ei(t)?e.path&&0<e.path.length&&e.fieldMask.push(e.path):ti(t,(function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))})),new Os(r)},Mp.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(r));null==s&&(s=Xa.INSTANCE),n.push(s),r++}return new Ps(n)},Mp.prototype.parseSentinelFieldValue=function(t,e){if(!Op(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof cp){if(e.dataSource!==Cp.MergeSet)throw e.dataSource===Cp.Update?(Br(0<e.path.length,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof fp)e.fieldTransforms.push(new Ea(e.path,Pl.instance));else if(t instanceof mp){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new Ml(n);e.fieldTransforms.push(new Ea(e.path,r))}else if(t instanceof gp){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new Fl(n);e.fieldTransforms.push(new Ea(e.path,i))}else if(t instanceof Ep){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new Vl(o);e.fieldTransforms.push(new Ea(e.path,a))}else jr("Unknown FieldValue type: "+t)},Mp.prototype.parseScalarValue=function(t,e){if(null===t)return Xa.INSTANCE;if("number"==typeof t)return Zc(t)?new ss(t):new hs(t);if("boolean"==typeof t)return ts.of(t);if("string"==typeof t)return new ps(t);if(t instanceof Date)return new ys(co.fromDate(t));if(t instanceof co)return new ys(new co(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof el)return new ks(t);if(t instanceof Ci)return new Ts(t);if(t instanceof Pp)return new Is(t.databaseId,t.key);throw e.createError("Unsupported field value: "+di(t))},Mp.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map((function(e,r){var i=new Rp(Cp.Argument,t,Ki.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))}))},Mp);function Mp(t){this.preConverter=t}function Up(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof co||t instanceof el||t instanceof Ci||t instanceof Pp||t instanceof ap)}function Fp(t,e,n){if(!Up(n)||!pi(n)){var r=di(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function qp(t,e){if(e instanceof zf)return e._internalPath;if("string"==typeof e)return Vp(t,e);throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Vp(t,e){try{return function(t){if(0<=t.search($f))throw new Hr(zr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(zf.bind.apply(zf,h([void 0],t.split("."))))}catch(e){throw new Hr(zr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=jp(e);throw new Hr(zr.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function jp(t){return t instanceof Error?t.message:t.toString()}var Bp=Ju.COLLECTION_DISABLED,Wp=(Kp.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},Kp);function Kp(t){if(void 0===t.host){if(void 0!==t.ssl)throw new Hr(zr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else ui("settings","non-empty string","host",t.host),this.host=t.host,ci("settings","boolean","ssl",t.ssl),this.ssl=Jr(t.ssl,!0);if(yi("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),ci("settings","object","credentials",t.credentials),this.credentials=t.credentials,ci("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?qr("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&qr("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=Jr(t.timestampsInSnapshots,!0),ci("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ju.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Bp&&t.cacheSizeBytes<Ju.MINIMUM_CACHE_SIZE_BYTES)throw new Hr(zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ju.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}ci("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}var Gp=(Qp.prototype.settings=function(t){if(ri("Firestore.settings",arguments,1),ai("Firestore.settings","object",1,t),Xr(t,"persistence"))throw new Hr(zr.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Wp(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new Hr(zr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._settings=e).credentials&&(this._credentials=function(t){if(!t)return new Xf;switch(t.type){case"gapi":var e=t.client;return Br(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new rp(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Hr(zr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},Qp.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},Qp.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},Qp.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new Hr(zr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&qr("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=Jr(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Vf(this._settings.cacheSizeBytes,e))},Qp.prototype.clearPersistence=function(){var t=this,e=fc.buildStoragePrefix(this.makeDatabaseInfo()),n=new Yi;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return u(t,void 0,void 0,(function(){var t;return c(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new Hr(zr.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,fc.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},Qp.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Qp.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),Qp.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},Qp.prototype.onSnapshotsInSync=function(t){if(this.ensureClientConfigured(),op(t))return this.onSnapshotsInSyncInternal(t);ai("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.onSnapshotsInSyncInternal(e)},Qp.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Gf({next:function(){t.next&&t.next()},error:function(t){throw jr("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},Qp.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Bf),this._firestoreClient},Qp.prototype.makeDatabaseInfo=function(){return new Di(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},Qp.prototype.configureClient=function(t){Br(!!this._settings.host,"FirestoreSettings.host is not set"),Br(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new Wf(Wr.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},Qp.prototype.createDataConverter=function(t){return new Lp((function(e){if(e instanceof Xp){var n=t,r=e.firestore._databaseId;if(!r.isEqual(n))throw new Hr(zr.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Pp(t,e._key)}return e}))},Qp.databaseIdFromApp=function(t){var e=t.options;if(!Xr(e,"projectId"))throw new Hr(zr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new Hr(zr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ri(n)},Object.defineProperty(Qp.prototype,"app",{get:function(){if(!this._firebaseApp)throw new Hr(zr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),Qp.prototype.collection=function(t){return ri("Firestore.collection",arguments,1),ai("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new ld(Vi.fromString(t),this)},Qp.prototype.doc=function(t){return ri("Firestore.doc",arguments,1),ai("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Xp.forPath(Vi.fromString(t),this)},Qp.prototype.collectionGroup=function(t){if(ri("Firestore.collectionGroup",arguments,1),ai("Firestore.collectionGroup","non-empty string",1,t),0<=t.indexOf("/"))throw new Hr(zr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new ad(new rl(Vi.EMPTY_PATH,t),this)},Qp.prototype.runTransaction=function(t){var e=this;return ri("Firestore.runTransaction",arguments,1),ai("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction((function(n){return t(new zp(e,n))}))},Qp.prototype.batch=function(){return this.ensureClientConfigured(),new $p(this)},Object.defineProperty(Qp,"logLevel",{get:function(){switch(Mr()){case Ar.DEBUG:return"debug";case Ar.ERROR:return"error";case Ar.SILENT:return"silent";default:return jr("Unknown log level: "+Mr())}},enumerable:!0,configurable:!0}),Qp.setLogLevel=function(t){switch(ri("Firestore.setLogLevel",arguments,1),ai("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":Ur(Ar.DEBUG);break;case"error":Ur(Ar.ERROR);break;case"silent":Ur(Ar.SILENT);break;default:throw new Hr(zr.INVALID_ARGUMENT,"Invalid log level: "+t)}},Qp.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},Qp);function Qp(t){var e=this;if(this._firebaseApp=null,this._queue=new Zi,this.INTERNAL={delete:function(){return u(e,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof t.options){var n=t;this._firebaseApp=n,this._databaseId=Qp.databaseIdFromApp(n),this._persistenceKey=n.name,this._credentials=new Zf(n)}else{var r=t;if(!r.projectId)throw new Hr(zr.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new Ri(r.projectId,r.database),this._persistenceKey="[DEFAULT]",this._credentials=new Xf}this._settings=new Wp({}),this._dataConverter=this.createDataConverter(this._databaseId)}var zp=(Hp.prototype.get=function(t){var e=this;ri("Transaction.get",arguments,1);var n=yd("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return jr("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof Bs)return new ed(e._firestore,n._key,null,!1,!1);if(r instanceof qs)return new ed(e._firestore,n._key,r,!1,!1);throw jr("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},Hp.prototype.set=function(t,e,n){oi("Transaction.set",arguments,2,3);var r=yd("Transaction.set",t,this._firestore),i=(n=pd("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},Hp.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return i="string"==typeof e||e instanceof zf?(ii("Transaction.update",arguments,3),r=yd("Transaction.update",t,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(ri("Transaction.update",arguments,2),r=yd("Transaction.update",t,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},Hp.prototype.delete=function(t){ri("Transaction.delete",arguments,1);var e=yd("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},Hp);function Hp(t,e){this._firestore=t,this._transaction=e}var $p=(Yp.prototype.set=function(t,e,n){oi("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=yd("WriteBatch.set",t,this._firestore),i=(n=pd("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,Aa.NONE)),this},Yp.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),i="string"==typeof e||e instanceof zf?(ii("WriteBatch.update",arguments,3),r=yd("WriteBatch.update",t,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(ri("WriteBatch.update",arguments,2),r=yd("WriteBatch.update",t,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,Aa.exists(!0))),this},Yp.prototype.delete=function(t){ri("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=yd("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Ka(e._key,Aa.NONE)),this},Yp.prototype.commit=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},Yp.prototype.verifyNotCommitted=function(){if(this._committed)throw new Hr(zr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Yp);function Yp(t){this._firestore=t,this._mutations=[],this._committed=!1}var Xp=(Jp.forPath=function(t,e){if(t.length%2!=0)throw new Hr(zr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new Jp(new Qi(t),e)},Object.defineProperty(Jp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Jp.prototype,"parent",{get:function(){return new ld(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Jp.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),Jp.prototype.collection=function(t){if(ri("DocumentReference.collection",arguments,1),ai("DocumentReference.collection","non-empty string",1,t),!t)throw new Hr(zr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Vi.fromString(t);return new ld(this._key.path.child(e),this.firestore)},Jp.prototype.isEqual=function(t){if(!(t instanceof Jp))throw vi("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},Jp.prototype.set=function(t,e){oi("DocumentReference.set",arguments,1,2);var n=(e=pd("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,Aa.NONE))},Jp.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof zf?(ii("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(ri("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,Aa.exists(!0)))},Jp.prototype.delete=function(){return ri("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Ka(this._key,Aa.NONE)])},Jp.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];oi("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||op(t[i])||(yi("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),ci("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return n=op(t[i])?t[i]:(ai("DocumentReference.onSnapshot","function",i,t[i]),si("DocumentReference.onSnapshot","function",i+1,t[i+1]),si("DocumentReference.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},Jp.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Gf({next:function(t){if(e.next){Br(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new ed(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(rl.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},Jp.prototype.get=function(t){var e=this;return oi("DocumentReference.get",arguments,0,1),md("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then((function(t){n(new ed(e.firestore,e._key,t,!0,t instanceof qs&&t.hasLocalMutations))}),r):e.getViaSnapshotListener(n,r,t)}))},Jp.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new Hr(zr.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new Hr(zr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},Jp);function Jp(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}var Zp=(td.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},td);function td(t,e){this.hasPendingWrites=t,this.fromCache=e}var ed=(nd.prototype.data=function(t){return oi("DocumentSnapshot.data",arguments,0,1),t=dd("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data(),Qa.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},nd.prototype.get=function(t,e){if(oi("DocumentSnapshot.get",arguments,1,2),e=dd("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(qp("DocumentSnapshot.get",t));if(null!==n)return this.convertValue(n,Qa.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(nd.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(nd.prototype,"ref",{get:function(){return new Xp(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(nd.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(nd.prototype,"metadata",{get:function(){return new Zp(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),nd.prototype.isEqual=function(t){if(!(t instanceof nd))throw vi("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},nd.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.convertValue(i,e)})),r},nd.prototype.convertValue=function(t,e){if(t instanceof Os)return this.convertObject(t,e);if(t instanceof Ps)return this.convertArray(t,e);if(t instanceof Is){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||qr("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Xp(n,this._firestore)}return t.value(e)},nd.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map((function(t){return n.convertValue(t,e)}))},nd);function nd(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}var rd,id=(i(od,rd=ed),od.prototype.data=function(t){var e=rd.prototype.data.call(this,t);return Br("object"==typeof e,"Document in a QueryDocumentSnapshot should exist"),e},od);function od(){return null!==rd&&rd.apply(this,arguments)||this}var ad=(sd.prototype.where=function(t,e,n){ri("Query.where",arguments,3),mi("Query.where",3,n),"in"!==e&&"array-contains-any"!==e&&function(t,e,n,r){if(!e.some((function(t){return t===r})))throw new Hr(zr.INVALID_ARGUMENT,"Invalid value "+di(r)+" provided to function "+t+"() for its "+gi(n)+" argument. Acceptable values: "+e.join(", "))}("Query.where",["<","<=","==",">=",">","array-contains"],2,e);var r,i=qp("Query.where",t),o=al.fromString(e);if(i.isKeyField()){if(o===al.ARRAY_CONTAINS||o===al.ARRAY_CONTAINS_ANY)throw new Hr(zr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===al.IN){this.validateDisjunctiveFilterElements(n,o);for(var a=[],s=0,u=n;s<u.length;s++){var c=u[s];a.push(this.parseDocumentIdValue(c))}r=new Ps(a)}else r=this.parseDocumentIdValue(n)}else o!==al.IN&&o!==al.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(n,o),r=this.firestore._dataConverter.parseQueryValue("Query.where",n);var h=cl.create(i,o,r);return this.validateNewFilter(h),new sd(this._query.addFilter(h),this.firestore)},sd.prototype.orderBy=function(t,e){var n;if(oi("Query.orderBy",arguments,1,2),si("Query.orderBy","non-empty string",2,e),void 0===e||"asc"===e)n=Al.ASCENDING;else{if("desc"!==e)throw new Hr(zr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n=Al.DESCENDING}if(null!==this._query.startAt)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=qp("Query.orderBy",t),i=new Dl(r,n);return this.validateNewOrderBy(i),new sd(this._query.addOrderBy(i),this.firestore)},sd.prototype.limit=function(t){if(ri("Query.limit",arguments,1),ai("Query.limit","number",1,t),t<=0)throw new Hr(zr.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new sd(this._query.withLimit(t),this.firestore)},sd.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ii("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",t,e,!0);return new sd(this._query.withStartAt(r),this.firestore)},sd.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ii("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",t,e,!1);return new sd(this._query.withStartAt(r),this.firestore)},sd.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ii("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",t,e,!0);return new sd(this._query.withEndAt(r),this.firestore)},sd.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ii("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",t,e,!1);return new sd(this._query.withEndAt(r),this.firestore)},sd.prototype.isEqual=function(t){if(!(t instanceof sd))throw vi("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},sd.prototype.boundFromDocOrFields=function(t,e,n,r){if(mi(t,1,e),e instanceof ed){if(0<n.length)throw new Hr(zr.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new Hr(zr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},sd.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Is(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof bs)throw new Hr(zr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new kl(r,n)},sd.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new Hr(zr.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(Vi.fromString(a));if(!Qi.isDocumentKey(s))throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new Qi(s);i.push(new Is(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);i.push(c)}}return new kl(i,n)},sd.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];oi("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||op(t[i])||(yi("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),ci("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=op(t[i])?t[i]:(ai("Query.onSnapshot","function",i,t[i]),si("Query.onSnapshot","function",i+1,t[i+1]),si("Query.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},sd.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Gf({next:function(t){e.next&&e.next(new ud(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},sd.prototype.get=function(t){var e=this;return oi("Query.get",arguments,0,1),md("Query.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then((function(t){n(new ud(e.firestore,e._query,t))}),r):e.getViaSnapshotListener(n,r,t)}))},sd.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new Hr(zr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},sd.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(Vi.fromString(t));if(!Qi.isDocumentKey(e))throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Is(this.firestore._databaseId,new Qi(e))}if(t instanceof Xp){var n=t;return new Is(this.firestore._databaseId,n._key)}throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+di(t)+".")},sd.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new Hr(zr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Hr(zr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=t.indexOf(null))throw new Hr(zr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(0<t.filter((function(t){return Number.isNaN(t)})).length)throw new Hr(zr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},sd.prototype.validateNewFilter=function(t){if(t instanceof cl){var e=[al.ARRAY_CONTAINS,al.ARRAY_CONTAINS_ANY],n=[al.IN,al.ARRAY_CONTAINS_ANY],r=0<=e.indexOf(t.op),i=0<=n.indexOf(t.op);if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(t.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(e)),null!=s)throw s===t.op?new Hr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Hr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},sd.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},sd.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},sd);function sd(t,e){this._query=t,this.firestore=e}var ud=(Object.defineProperty(cd.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(cd.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(cd.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),cd.prototype.forEach=function(t,e){var n=this;oi("QuerySnapshot.forEach",arguments,1,2),ai("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach((function(r){t.call(e,n.convertToDocumentImpl(r))}))},Object.defineProperty(cd.prototype,"query",{get:function(){return new ad(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),cd.prototype.docChanges=function(t){t&&(yi("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),ci("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new Hr(zr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map((function(e){var o=new id(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return Br(e.type===Ch.Added,"Invalid event type for first snapshot"),Br(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.oldDocs;return n.docChanges.filter((function(t){return e||t.type!==Ch.Metadata})).map((function(e){var r=new id(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Ch.Added&&(Br(0<=(i=o.indexOf(e.doc.key)),"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Ch.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case Ch.Added:return"added";case Ch.Modified:case Ch.Metadata:return"modified";case Ch.Removed:return"removed";default:return jr("Unknown change type: "+t)}}(e.type),doc:r,oldIndex:i,newIndex:a}}))}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},cd.prototype.isEqual=function(t){if(!(t instanceof cd))throw vi("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},cd.prototype.convertToDocumentImpl=function(t){return new id(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},cd);function cd(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Zp(n.hasPendingWrites,n.fromCache)}h(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(ud.prototype.docChanges,t,{get:function(){return function(){throw new Hr(zr.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var hd,ld=(i(fd,hd=ad),Object.defineProperty(fd.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(fd.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Xp(new Qi(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(fd.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),fd.prototype.doc=function(t){if(oi("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=wi.newId()),ai("CollectionReference.doc","non-empty string",1,t),""===t)throw new Hr(zr.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=Vi.fromString(t);return Xp.forPath(this._query.path.child(e),this.firestore)},fd.prototype.add=function(t){ri("CollectionReference.add",arguments,1),ai("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then((function(){return e}))},fd);function fd(t,e){var n=hd.call(this,rl.atPath(t),e)||this;if(t.length%2!=1)throw new Hr(zr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return n}function pd(t,e){if(void 0===e)return{merge:!1};if(yi(t,e,["merge","mergeFields"]),ci(t,"boolean","merge",e.merge),hi(t,"mergeFields","a string or a FieldPath",e.mergeFields,(function(t){return"string"==typeof t||t instanceof zf})),void 0!==e.mergeFields&&void 0!==e.merge)throw new Hr(zr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function dd(t,e){return void 0===e?{}:(yi(t,e,["serverTimestamps"]),li(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function md(t,e){si(t,"object",1,e),e&&(yi(t,e,["source"]),li(t,0,"source",e.source,["default","server","cache"]))}function yd(t,e,n){if(e instanceof Xp){if(e.firestore!==n)throw new Hr(zr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw vi(t,"DocumentReference",1,e)}var vd=Yr(Gp,"Use firebase.firestore() instead."),gd=Yr(zp,"Use firebase.firestore().runTransaction() instead."),bd=Yr($p,"Use firebase.firestore().batch() instead."),wd=Yr(Xp,"Use firebase.firestore().doc() instead."),Ed=Yr(ed),Td=Yr(id),Sd=Yr(ad),_d=Yr(ud),Id=Yr(ld,"Use firebase.firestore().collection() instead."),Ad={Firestore:vd,GeoPoint:el,Timestamp:co,Blob:Ni,Transaction:gd,WriteBatch:bd,DocumentReference:wd,DocumentSnapshot:Ed,Query:Sd,QueryDocumentSnapshot:Td,QuerySnapshot:_d,CollectionReference:Id,FieldPath:zf,FieldValue:Sp,setLogLevel:Gp.setLogLevel,CACHE_SIZE_UNLIMITED:Bp};function Cd(t){t.INTERNAL.registerService("firestore",(function(t){return new Gp(t)}),function(t){Br(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Ad))}var kd=(Nd.prototype.addCallback=function(t){},Nd.prototype.shutdown=function(){},Nd);function Nd(){}var Dd="ConnectivityMonitor",Od=(Rd.prototype.addCallback=function(t){this.callbacks.push(t)},Rd.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},Rd.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},Rd.prototype.onNetworkAvailable=function(){Fr(Dd,"Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},Rd.prototype.onNetworkUnavailable=function(){Fr(Dd,"Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},Rd.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},Rd);function Rd(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}var xd=(Pd.prototype.onOpen=function(t){Br(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},Pd.prototype.onClose=function(t){Br(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},Pd.prototype.onMessage=function(t){Br(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},Pd.prototype.close=function(){this.closeFn()},Pd.prototype.send=function(t){this.sendFn(t)},Pd.prototype.callOnOpen=function(){Br(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},Pd.prototype.callOnClose=function(t){Br(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},Pd.prototype.callOnMessage=function(t){Br(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},Pd);function Pd(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}var Ld="Connection",Md={BatchGetDocuments:"batchGet",Commit:"commit"},Ud="gl-js/ fire/"+Pr,Fd=(qd.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Ud},qd.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise((function(o,a){var u=new xr;u.listenOnce(Or.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Dr.NO_ERROR:var e=u.getResponseJson();Fr(Ld,"XHR received:",JSON.stringify(e)),o(e);break;case Dr.TIMEOUT:Fr(Ld,'RPC "'+t+'" timed out'),a(new Hr(zr.DEADLINE_EXCEEDED,"Request time out"));break;case Dr.HTTP_ERROR:var n=u.getStatus();if(Fr(Ld,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),0<n){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return 0<=Object.values(zr).indexOf(e)?e:zr.UNKNOWN}(r.status);a(new Hr(i,r.message))}else a(new Hr(zr.UNKNOWN,"Server responded with status "+u.getStatus()))}else Fr(Ld,'RPC "'+t+'" failed'),a(new Hr(zr.UNAVAILABLE,"Connection failed."));break;default:jr('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{Fr(Ld,'RPC "'+t+'" completed.')}}));var c=s({},e);delete c.database;var h=JSON.stringify(c);Fr(Ld,"XHR sending: ",i+" "+h);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),u.send(i,"POST",h,l,15)}))},qd.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},qd.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Nr(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");function a(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))}Fr(Ld,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,c=!1,h=new xd({sendFn:function(t){c?Fr(Ld,"Not sending because WebChannel is closed:",t):(u||(Fr(Ld,"Opening WebChannel transport."),s.open(),u=!0),Fr(Ld,"WebChannel sending:",t),s.send(t))},closeFn:function(){return s.close()}});return a(Rr.EventType.OPEN,(function(){c||Fr(Ld,"WebChannel transport opened.")})),a(Rr.EventType.CLOSE,(function(){c||(c=!0,Fr(Ld,"WebChannel transport closed"),h.callOnClose())})),a(Rr.EventType.ERROR,(function(t){c||(c=!0,Fr(Ld,"WebChannel transport errored:",t),h.callOnClose(new Hr(zr.UNAVAILABLE,"The operation could not be completed")))})),a(Rr.EventType.MESSAGE,(function(t){if(!c){var e=t.data[0];Br(!!e,"Got a webchannel message without data.");var n=e,r=n.error||n[0]&&n[0].error;if(r){Fr(Ld,"WebChannel received error:",r);var i=r.status,o=function(t){var e=Eh[t];if(void 0!==e)return Ah(e)}(i),a=r.message;void 0===o&&(o=zr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,h.callOnClose(new Hr(o,a)),s.close()}else Fr(Ld,"WebChannel received:",e),h.callOnMessage(e)}})),setTimeout((function(){h.callOnOpen()}),0),h},qd.prototype.makeUrl=function(t){var e=Md[t];Br(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},qd);function qd(t){this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}var Vd=(Object.defineProperty(jd.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(jd.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),jd.prototype.loadConnection=function(t){return Promise.resolve(new Fd(t))},jd.prototype.newConnectivityMonitor=function(){return Od.isAvailable()?new Od:new kd},jd.prototype.newSerializer=function(t){return new Jl(t,{useProto3Json:!0})},jd.prototype.formatJSON=function(t){return JSON.stringify(t)},jd.prototype.atob=function(t){return atob(t)},jd.prototype.btoa=function(t){return btoa(t)},jd);function jd(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}Wr.setPlatform(new Vd),Cd(n)}).apply(this,arguments)}catch(r){throw console.error(r),new Error("Cannot instantiate firebase-firestore - be sure to load firebase-app.js first.")}}))}).call(this,n("c8ba"),n("4362"))},f069:function(t,e,n){"use strict";var r=n("1c0b"),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},f5df:function(t,e,n){var r=n("c6b6"),i=n("b622"),o=i("toStringTag"),a="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:a?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},f772:function(t,e,n){var r=n("5692"),i=n("90e3"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},f8c2:function(t,e,n){var r=n("1c0b");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},fc48:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},fc6a:function(t,e,n){var r=n("44ad"),i=n("1d80");t.exports=function(t){return r(i(t))}},fea9:function(t,e,n){var r=n("da84");t.exports=r.Promise}}]);
//# sourceMappingURL=chunk-vendors.5add52b1.js.map